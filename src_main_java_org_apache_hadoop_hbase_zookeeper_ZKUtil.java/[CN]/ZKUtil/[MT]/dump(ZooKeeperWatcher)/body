{
  StringBuilder sb=new StringBuilder();
  try {
    sb.append("HBase is rooted at ").append(zkw.baseZNode);
    sb.append("\nActive master address: ").append(ServerName.parseVersionedServerName(getData(zkw,zkw.masterAddressZNode)));
    sb.append("\nBackup master addresses:");
    for (    String child : listChildrenNoWatch(zkw,zkw.backupMasterAddressesZNode)) {
      sb.append("\n ").append(child);
    }
    sb.append("\nRegion server holding ROOT: ").append(Bytes.toStringBinary(getData(zkw,zkw.rootServerZNode)));
    sb.append("\nRegion servers:");
    for (    String child : listChildrenNoWatch(zkw,zkw.rsZNode)) {
      sb.append("\n ").append(child);
    }
    sb.append("\nQuorum Server Statistics:");
    String[] servers=zkw.getQuorum().split(",");
    for (    String server : servers) {
      sb.append("\n ").append(server);
      try {
        String[] stat=getServerStats(server,ZKUtil.zkDumpConnectionTimeOut);
        if (stat == null) {
          sb.append("[Error] invalid quorum server: " + server);
          break;
        }
        for (        String s : stat) {
          sb.append("\n  ").append(s);
        }
      }
 catch (      Exception e) {
        sb.append("\n  ERROR: ").append(e.getMessage());
      }
    }
  }
 catch (  KeeperException ke) {
    sb.append("\nFATAL ZooKeeper Exception!\n");
    sb.append("\n" + ke.getMessage());
  }
  return sb.toString();
}
