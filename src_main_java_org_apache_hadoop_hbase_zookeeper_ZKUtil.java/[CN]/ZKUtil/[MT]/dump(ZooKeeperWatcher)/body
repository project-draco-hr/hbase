{
  StringBuilder sb=new StringBuilder();
  try {
    sb.append("\nHBase tree in ZooKeeper is rooted at ").append(zkw.baseZNode);
    sb.append("\n  Cluster up? ").append(checkExists(zkw,zkw.clusterStateZNode));
    sb.append("\n  Master address: ").append(getDataAsAddress(zkw,zkw.masterAddressZNode));
    sb.append("\n  Region server holding ROOT: ").append(getDataAsAddress(zkw,zkw.rootServerZNode));
    sb.append("\n  Region servers:");
    for (    HServerAddress address : listChildrenAndGetAsAddresses(zkw,zkw.rsZNode)) {
      sb.append("\n    - ").append(address);
    }
    sb.append("\n  Quorum Server Statistics:");
    String[] servers=zkw.getQuorum().split(",");
    for (    String server : servers) {
      sb.append("\n    - ").append(server);
      try {
        String[] stat=getServerStats(server);
        for (        String s : stat) {
          sb.append("\n        ").append(s);
        }
      }
 catch (      Exception e) {
        sb.append("\n        ERROR: ").append(e.getMessage());
      }
    }
  }
 catch (  KeeperException ke) {
    sb.append("\n  FATAL ZooKeeper Exception!\n");
    sb.append("\n  " + ke.getMessage());
  }
  return sb.toString();
}
