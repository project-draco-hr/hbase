{
  int hash1=hash.hash(buf,offset,length,0);
  int hash2=hash.hash(buf,offset,length,hash1);
  int bloomBitSize=bloomSize * 8;
  if (randomGeneratorForTest == null) {
    for (int i=0; i < hashCount; i++) {
      long hashLoc=Math.abs((hash1 + i * hash2) % bloomBitSize);
      if (!get(hashLoc,bloomArray,bloomOffset))       return false;
    }
  }
 else {
    for (int i=0; i < hashCount; i++) {
      long hashLoc=randomGeneratorForTest.nextInt(bloomBitSize);
      if (!get(hashLoc,bloomArray,bloomOffset))       return false;
    }
  }
  return true;
}
