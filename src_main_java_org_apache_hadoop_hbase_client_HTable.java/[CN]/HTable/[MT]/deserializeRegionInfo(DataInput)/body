{
  final Map<HRegionInfo,HServerAddress> allRegions=new TreeMap<HRegionInfo,HServerAddress>();
  int regionsCount=in.readInt();
  for (int i=0; i < regionsCount; ++i) {
    HRegionInfo hri=new HRegionInfo();
    hri.readFields(in);
    HServerAddress hsa=new HServerAddress();
    hsa.readFields(in);
    allRegions.put(hri,hsa);
  }
  return allRegions;
}
