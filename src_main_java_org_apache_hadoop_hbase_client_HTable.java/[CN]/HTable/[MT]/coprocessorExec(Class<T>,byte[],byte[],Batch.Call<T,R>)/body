{
  final Map<byte[],R> results=new TreeMap<byte[],R>(Bytes.BYTES_COMPARATOR);
  coprocessorExec(protocol,startKey,endKey,callable,new Batch.Callback<R>(){
    public void update(    byte[] region,    byte[] row,    R value){
      results.put(region,value);
    }
  }
);
  return results;
}
