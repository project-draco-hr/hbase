{
  timestamps[totalCells]=cell.getTimestamp();
  timestampEncoder.add(cell.getTimestamp());
  if (includeMvccVersion) {
    mvccVersions[totalCells]=cell.getMvccVersion();
    mvccVersionEncoder.add(cell.getMvccVersion());
    totalUnencodedBytes+=WritableUtils.getVIntSize(cell.getMvccVersion());
  }
 else {
    mvccVersions[totalCells]=0L;
    if (totalCells == 0) {
      mvccVersionEncoder.add(0L);
    }
  }
  typeBytes[totalCells]=cell.getTypeByte();
  cellTypeEncoder.add(cell.getTypeByte());
  totalValueBytes+=cell.getValueLength();
  values=ArrayUtils.growIfNecessary(values,totalValueBytes,2 * totalValueBytes);
  CellTool.copyValueTo(cell,values,valueOffsets[totalCells]);
  if (cell.getValueLength() > maxValueLength) {
    maxValueLength=cell.getValueLength();
  }
  valueOffsets[totalCells + 1]=totalValueBytes;
  totalUnencodedBytes+=KeyValueTool.length(cell);
  ++totalCells;
}
