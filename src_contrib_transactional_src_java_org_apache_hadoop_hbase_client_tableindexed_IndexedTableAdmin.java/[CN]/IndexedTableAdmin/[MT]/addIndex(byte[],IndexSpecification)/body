{
  LOG.warn("Adding index to existing table [" + Bytes.toString(baseTableName) + "], this may take a long time");
  LOG.warn("Not putting table in readonly, if its being written to, the index may get out of sync");
  HTableDescriptor indexTableDesc=createIndexTableDesc(baseTableName,indexSpec);
  super.createTable(indexTableDesc);
  super.disableTable(baseTableName);
  IndexedTableDescriptor indexDesc=new IndexedTableDescriptor(super.getTableDescriptor(baseTableName));
  indexDesc.addIndex(indexSpec);
  super.modifyTable(baseTableName,indexDesc.getBaseTableDescriptor());
  super.enableTable(baseTableName);
  reIndexTable(baseTableName,indexSpec);
}
