{
  UserPermission perm=ProtobufUtil.toUserPermission(request.getPermission());
  AccessControlProtos.GrantResponse response=null;
  try {
    if (aclRegion) {
      if (LOG.isDebugEnabled()) {
        LOG.debug("Received request to grant access permission " + perm.toString());
      }
      requirePermission("grant",perm.getTable(),perm.getFamily(),perm.getQualifier(),Action.ADMIN);
      AccessControlLists.addUserPermission(regionEnv.getConfiguration(),perm);
      if (AUDITLOG.isTraceEnabled()) {
        AUDITLOG.trace("Granted permission " + perm.toString());
      }
    }
 else {
      throw new CoprocessorException(AccessController.class,"This method " + "can only execute at " + Bytes.toString(AccessControlLists.ACL_TABLE_NAME) + " table.");
    }
    response=AccessControlProtos.GrantResponse.getDefaultInstance();
  }
 catch (  IOException ioe) {
    ResponseConverter.setControllerException(controller,ioe);
  }
  done.run(response);
}
