{
  CoprocessorRpcChannel channel=table.coprocessorService(row);
  MultiMutateRequest.Builder mmrBuilder=MultiMutateRequest.newBuilder();
  for (  Mutation mutation : mutations) {
    if (mutation instanceof Put) {
      mmrBuilder.addMutationRequest(ProtobufUtil.toMutation(MutationType.PUT,mutation));
    }
 else     if (mutation instanceof Delete) {
      mmrBuilder.addMutationRequest(ProtobufUtil.toMutation(MutationType.DELETE,mutation));
    }
 else {
      throw new DoNotRetryIOException("multi in MetaEditor doesn't support " + mutation.getClass().getName());
    }
  }
  MultiRowMutationService.BlockingInterface service=MultiRowMutationService.newBlockingStub(channel);
  try {
    service.mutateRows(null,mmrBuilder.build());
  }
 catch (  ServiceException ex) {
    ProtobufUtil.toIOException(ex);
  }
}
