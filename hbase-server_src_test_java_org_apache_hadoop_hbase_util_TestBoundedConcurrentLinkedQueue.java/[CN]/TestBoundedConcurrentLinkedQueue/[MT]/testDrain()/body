{
  for (long i=1; i <= CAPACITY; ++i) {
    assertTrue(queue.offer(i));
    assertEquals(i,queue.size());
    assertEquals(CAPACITY - i,queue.remainingCapacity());
  }
  assertFalse(queue.offer(0L));
  List<Long> list=new ArrayList<Long>();
  queue.drainTo(list);
  assertEquals(null,queue.poll());
  assertEquals(0,queue.size());
  assertEquals(CAPACITY,queue.remainingCapacity());
}
