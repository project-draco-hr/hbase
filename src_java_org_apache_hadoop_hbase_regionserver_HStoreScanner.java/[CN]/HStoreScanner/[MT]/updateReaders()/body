{
  if (this.closing.get()) {
    return;
  }
  this.lock.writeLock().lock();
  try {
    MapFile.Reader[] readers=this.store.getReaders();
    if (this.scanners[HSFS_INDEX] == null && readers != null && readers.length > 0) {
      try {
        this.scanners[HSFS_INDEX]=new StoreFileScanner(this.store,this.timestamp,this.targetCols,this.keys[MEMS_INDEX].getRow());
        checkScannerFlags(HSFS_INDEX);
        setupScanner(HSFS_INDEX);
        LOG.debug("Added a StoreFileScanner to outstanding HStoreScanner");
      }
 catch (      IOException e) {
        doClose();
        throw e;
      }
    }
  }
  finally {
    this.lock.writeLock().unlock();
  }
}
