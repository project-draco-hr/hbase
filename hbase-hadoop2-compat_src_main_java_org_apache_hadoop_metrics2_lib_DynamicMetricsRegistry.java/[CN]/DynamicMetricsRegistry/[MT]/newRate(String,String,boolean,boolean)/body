{
  if (returnExisting) {
    MutableMetric rate=metricsMap.get(name);
    if (rate != null) {
      if (rate instanceof MutableRate)       return (MutableRate)rate;
      throw new MetricsException("Unexpected metrics type " + rate.getClass() + " for "+ name);
    }
  }
  MutableRate ret=new MutableRate(name,desc,extended);
  metricsMap.put(name,ret);
  return ret;
}
