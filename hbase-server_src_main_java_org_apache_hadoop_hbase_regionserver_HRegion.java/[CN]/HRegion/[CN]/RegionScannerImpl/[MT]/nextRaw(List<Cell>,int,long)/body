{
  if (storeHeap == null) {
    throw new UnknownScannerException("Scanner was closed");
  }
  NextState state;
  if (outResults.isEmpty()) {
    state=nextInternal(outResults,batchLimit,remainingResultSize);
  }
 else {
    List<Cell> tmpList=new ArrayList<Cell>();
    state=nextInternal(tmpList,batchLimit,remainingResultSize);
    outResults.addAll(tmpList);
  }
  if (state == null) {
    if (LOG.isTraceEnabled())     LOG.trace("State was null. Defaulting to no more values state");
    state=NextState.makeState(NextState.State.NO_MORE_VALUES);
  }
  resetFilters();
  if (isFilterDoneInternal()) {
    state=NextState.makeState(NextState.State.NO_MORE_VALUES,state.getResultSize());
  }
  return state;
}
