{
  LOG.info("creating HRegion " + info.getTableNameAsString() + " HTD == "+ hTableDescriptor+ " RootDir = "+ rootDir+ " Table name == "+ info.getTableNameAsString());
  Path tableDir=HTableDescriptor.getTableDir(rootDir,info.getTableName());
  Path regionDir=HRegion.getRegionDir(tableDir,info.getEncodedName());
  FileSystem fs=FileSystem.get(conf);
  fs.mkdirs(regionDir);
  HLog effectiveHLog=hlog;
  if (hlog == null && !ignoreHLog) {
    effectiveHLog=HLogFactory.createHLog(fs,regionDir,HConstants.HREGION_LOGDIR_NAME,conf);
  }
  HRegion region=HRegion.newHRegion(tableDir,effectiveHLog,fs,conf,info,hTableDescriptor,null);
  if (initialize) {
    region.initialize();
  }
  return region;
}
