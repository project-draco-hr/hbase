{
  Class<?> implClass=null;
  String defaultCPClasses=conf.get(confKey);
  if (defaultCPClasses == null || defaultCPClasses.length() == 0)   return;
  StringTokenizer st=new StringTokenizer(defaultCPClasses,",");
  int priority=Coprocessor.Priority.SYSTEM.intValue();
  List<E> configured=new ArrayList<E>();
  while (st.hasMoreTokens()) {
    String className=st.nextToken();
    if (findCoprocessor(className) != null) {
      continue;
    }
    ClassLoader cl=this.getClass().getClassLoader();
    Thread.currentThread().setContextClassLoader(cl);
    try {
      implClass=cl.loadClass(className);
      configured.add(loadInstance(implClass,Coprocessor.Priority.SYSTEM));
      LOG.info("System coprocessor " + className + " was loaded "+ "successfully with priority ("+ priority+++ ").");
    }
 catch (    ClassNotFoundException e) {
      LOG.warn("Class " + className + " cannot be found. "+ e.getMessage());
    }
catch (    IOException e) {
      LOG.warn("Load coprocessor " + className + " failed. "+ e.getMessage());
    }
  }
  coprocessors.addAll(configured);
}
