{
  Map<byte[],Long> regionsToSeqids=new HashMap<byte[],Long>();
  for (int i=0; i < 10; i++) {
    Long l=Long.valueOf(i);
    regionsToSeqids.put(l.toString().getBytes(),l);
  }
  byte[][] regions=HLog.findMemstoresWithEditsEqualOrOlderThan(1,regionsToSeqids);
  assertEquals(2,regions.length);
  assertTrue(Bytes.equals(regions[0],"0".getBytes()) || Bytes.equals(regions[0],"1".getBytes()));
  regions=HLog.findMemstoresWithEditsEqualOrOlderThan(3,regionsToSeqids);
  int count=4;
  assertEquals(count,regions.length);
  for (int i=0; i < count; i++) {
    assertTrue(Bytes.equals(regions[i],"0".getBytes()) || Bytes.equals(regions[i],"1".getBytes()) || Bytes.equals(regions[i],"2".getBytes())|| Bytes.equals(regions[i],"3".getBytes()));
  }
}
