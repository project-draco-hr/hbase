{
  if (allRows.isEmpty()) {
    return;
  }
  Table table=null;
  try {
    Connection connection=this.sharedHtableCon;
    if (connection == null) {
synchronized (sharedHtableConLock) {
        connection=this.sharedHtableCon;
        if (connection == null) {
          connection=this.sharedHtableCon=ConnectionFactory.createConnection(this.conf);
        }
      }
    }
    table=connection.getTable(tableName);
    for (    List<Row> rows : allRows) {
      table.batch(rows,null);
    }
  }
 catch (  InterruptedException ix) {
    throw (InterruptedIOException)new InterruptedIOException().initCause(ix);
  }
 finally {
    if (table != null) {
      table.close();
    }
  }
}
