{
  List<Class<?>> classes=new ArrayList<Class<?>>();
  if (!baseDirectory.exists()) {
    return classes;
  }
  File[] files=baseDirectory.listFiles(TEST_CLASS_FILE_FILTER);
  assertNotNull(files);
  for (  File file : files) {
    final String fileName=file.getName();
    if (file.isDirectory()) {
      classes.addAll(findTestClasses(file,packageName + "." + fileName));
    }
 else {
      Class<?> c=Class.forName(packageName + '.' + fileName.substring(0,fileName.length() - 6),false,this.getClass().getClassLoader());
      if (isTestClass(c)) {
        classes.add(c);
      }
    }
  }
  return classes;
}
