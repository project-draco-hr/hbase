{
  this.regionServer=regionServer;
  initBlockCache();
  this.period=regionServer.conf.getLong(HConstants.REGIONSERVER_METRICS_PERIOD,HConstants.DEFAULT_REGIONSERVER_METRICS_PERIOD);
  this.executor=CompatibilitySingletonFactory.getInstance(MetricsExecutor.class).getExecutor();
  this.runnable=new RegionServerMetricsWrapperRunnable();
  this.executor.scheduleWithFixedDelay(this.runnable,this.period,this.period,TimeUnit.MILLISECONDS);
  if (LOG.isInfoEnabled()) {
    LOG.info("Computing regionserver metrics every " + this.period + " milliseconds");
  }
}
