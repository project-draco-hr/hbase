{
  String fullpath=ZKUtil.joinZNode(rsZNode,znode);
  try {
    List<String> clusters=ZKUtil.listChildrenNoWatch(this.zookeeper,fullpath);
    for (    String cluster : clusters) {
      if (cluster.equals(RS_LOCK_ZNODE)) {
        continue;
      }
      String fullClusterPath=ZKUtil.joinZNode(fullpath,cluster);
      ZKUtil.deleteNodeRecursively(this.zookeeper,fullClusterPath);
    }
    ZKUtil.deleteNodeRecursively(this.zookeeper,fullpath);
  }
 catch (  KeeperException e) {
    if (e instanceof KeeperException.NoNodeException || e instanceof KeeperException.NotEmptyException) {
      if (e.getPath().equals(fullpath)) {
        return;
      }
    }
    this.abortable.abort("Failed delete of " + znode,e);
  }
}
