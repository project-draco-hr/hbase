{
  TableSchema.Builder builder=TableSchema.newBuilder();
  builder.setTableName(ProtobufUtil.toProtoTableName(getTableName()));
  for (  Map.Entry<Bytes,Bytes> e : this.values.entrySet()) {
    BytesBytesPair.Builder aBuilder=BytesBytesPair.newBuilder();
    aBuilder.setFirst(ByteStringer.wrap(e.getKey().get()));
    aBuilder.setSecond(ByteStringer.wrap(e.getValue().get()));
    builder.addAttributes(aBuilder.build());
  }
  for (  HColumnDescriptor hcd : getColumnFamilies()) {
    builder.addColumnFamilies(hcd.convert());
  }
  for (  Map.Entry<String,String> e : this.configuration.entrySet()) {
    NameStringPair.Builder aBuilder=NameStringPair.newBuilder();
    aBuilder.setName(e.getKey());
    aBuilder.setValue(e.getValue());
    builder.addConfiguration(aBuilder.build());
  }
  return builder.build();
}
