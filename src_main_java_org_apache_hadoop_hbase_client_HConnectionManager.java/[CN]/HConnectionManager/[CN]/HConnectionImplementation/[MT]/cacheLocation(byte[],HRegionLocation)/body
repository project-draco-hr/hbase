{
  byte[] startKey=location.getRegionInfo().getStartKey();
  SoftValueSortedMap<byte[],HRegionLocation> tableLocations=getTableLocations(tableName);
  boolean hasNewCache=false;
synchronized (this.cachedRegionLocations) {
    cachedServers.add(location.getServerAddress().toString());
    hasNewCache=(tableLocations.put(startKey,location) == null);
  }
  if (hasNewCache) {
    LOG.debug("Cached location for " + location.getRegionInfo().getRegionNameAsString() + " is "+ location.getHostnamePort());
  }
}
