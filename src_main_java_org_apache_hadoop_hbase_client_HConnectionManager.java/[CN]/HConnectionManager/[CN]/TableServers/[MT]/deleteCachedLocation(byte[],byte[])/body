{
synchronized (this.cachedRegionLocations) {
    SoftValueSortedMap<byte[],HRegionLocation> tableLocations=getTableLocations(tableName);
    if (!tableLocations.isEmpty()) {
      SoftValueSortedMap<byte[],HRegionLocation> matchingRegions=tableLocations.headMap(row);
      if (!matchingRegions.isEmpty()) {
        HRegionLocation possibleRegion=matchingRegions.get(matchingRegions.lastKey());
        byte[] endKey=possibleRegion.getRegionInfo().getEndKey();
        if (Bytes.equals(endKey,HConstants.EMPTY_END_ROW) || KeyValue.getRowComparator(tableName).compareRows(endKey,0,endKey.length,row,0,row.length) > 0) {
          HRegionLocation rl=tableLocations.remove(matchingRegions.lastKey());
          if (rl != null && LOG.isDebugEnabled()) {
            LOG.debug("Removed " + rl.getRegionInfo().getRegionNameAsString() + " for tableName="+ Bytes.toString(tableName)+ " from cache "+ "because of "+ Bytes.toStringBinary(row));
          }
        }
      }
    }
  }
}
