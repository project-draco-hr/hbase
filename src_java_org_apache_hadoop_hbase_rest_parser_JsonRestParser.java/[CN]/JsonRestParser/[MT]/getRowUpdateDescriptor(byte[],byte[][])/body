{
  RowUpdateDescriptor rud=new RowUpdateDescriptor();
  JSONArray a;
  rud.setTableName(Bytes.toString(pathSegments[0]));
  rud.setRowName(Bytes.toString(pathSegments[2]));
  try {
    JSONObject updateObject=new JSONObject(new String(input));
    a=updateObject.getJSONArray(RESTConstants.COLUMNS);
    for (int i=0; i < a.length(); i++) {
      rud.getColVals().put(Bytes.toBytes(a.getJSONObject(i).getString(RESTConstants.NAME)),org.apache.hadoop.hbase.util.Base64.decode(a.getJSONObject(i).getString(RESTConstants.VALUE)));
    }
  }
 catch (  JSONException e) {
    throw new HBaseRestException("Error parsing row update json",e);
  }
  return rud;
}
