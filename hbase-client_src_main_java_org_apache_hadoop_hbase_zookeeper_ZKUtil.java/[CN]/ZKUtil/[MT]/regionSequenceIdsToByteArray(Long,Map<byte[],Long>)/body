{
  ZooKeeperProtos.RegionStoreSequenceIds.Builder regionSequenceIdsBuilder=ZooKeeperProtos.RegionStoreSequenceIds.newBuilder();
  ZooKeeperProtos.StoreSequenceId.Builder storeSequenceIdBuilder=ZooKeeperProtos.StoreSequenceId.newBuilder();
  if (storeSequenceIds != null) {
    for (    byte[] columnFamilyName : storeSequenceIds.keySet()) {
      Long curSeqId=storeSequenceIds.get(columnFamilyName);
      storeSequenceIdBuilder.setFamilyName(ByteString.copyFrom(columnFamilyName));
      storeSequenceIdBuilder.setSequenceId(curSeqId);
      regionSequenceIdsBuilder.addStoreSequenceId(storeSequenceIdBuilder.build());
      storeSequenceIdBuilder.clear();
    }
  }
  regionSequenceIdsBuilder.setLastFlushedSequenceId(regionLastFlushedSequenceId);
  byte[] result=regionSequenceIdsBuilder.build().toByteArray();
  return ProtobufUtil.prependPBMagic(result);
}
