{
  FilterFactory f;
  String filterType;
  String filterArgs;
  if ((filterType=filter.optString(FilterFactoryConstants.TYPE)) == null) {
    throw new MalformedFilterException();
  }
  if ((filterArgs=filter.optString(FilterFactoryConstants.ARGUMENTS)) == null) {
    throw new MalformedFilterException();
  }
  if ((f=RESTConstants.filterFactories.get(filterType)) == null) {
    throw new MalformedFilterException();
  }
  return f.getFilterFromJSON(filterArgs);
}
