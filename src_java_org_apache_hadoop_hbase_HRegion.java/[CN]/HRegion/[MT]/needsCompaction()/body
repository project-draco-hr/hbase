{
  boolean needsCompaction=false;
  this.lock.obtainReadLock();
  try {
    for (    HStore store : stores.values()) {
      if (store.getNMaps() > this.compactionThreshold) {
        needsCompaction=true;
        break;
      }
    }
  }
  finally {
    this.lock.releaseReadLock();
  }
  return needsCompaction;
}
