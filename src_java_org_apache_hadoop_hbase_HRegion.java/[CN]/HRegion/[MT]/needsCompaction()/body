{
  boolean needsCompaction=false;
  this.lock.obtainReadLock();
  try {
    for (    HStore store : stores.values()) {
      if (store.getNMaps() > this.compactionThreshold) {
        needsCompaction=true;
        LOG.info(getRegionName().toString() + " needs compaction because " + store.getNMaps()+ " store files present and threshold is "+ this.compactionThreshold);
        break;
      }
    }
  }
  finally {
    this.lock.releaseReadLock();
  }
  return needsCompaction;
}
