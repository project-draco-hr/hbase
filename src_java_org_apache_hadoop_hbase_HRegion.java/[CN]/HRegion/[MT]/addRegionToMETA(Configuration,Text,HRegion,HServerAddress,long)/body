{
  HTable t=new HTable(conf,table);
  ByteArrayOutputStream bytes=new ByteArrayOutputStream();
  DataOutputStream out=new DataOutputStream(bytes);
  region.getRegionInfo().write(out);
  long lockid=t.startUpdate(region.getRegionName());
  t.put(lockid,COL_REGIONINFO,bytes.toByteArray());
  t.put(lockid,COL_SERVER,serverAddress.toString().getBytes(UTF8_ENCODING));
  t.put(lockid,COL_STARTCODE,String.valueOf(startCode).getBytes(UTF8_ENCODING));
  t.commit(lockid);
  if (LOG.isDebugEnabled()) {
    LOG.info("Added region " + region.getRegionName() + " to table "+ table);
  }
}
