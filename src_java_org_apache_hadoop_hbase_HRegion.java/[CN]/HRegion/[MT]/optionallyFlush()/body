{
  if (this.memcache.getSize() > this.memcacheFlushSize) {
    flushcache(false);
  }
 else   if (this.memcache.getSize() > 0) {
    if (this.noFlushCount >= this.optionalFlushCount) {
      LOG.info("Optional flush called " + this.noFlushCount + " times when data present without flushing.  Forcing one.");
      flushcache(false);
    }
 else {
      this.noFlushCount++;
    }
  }
}
