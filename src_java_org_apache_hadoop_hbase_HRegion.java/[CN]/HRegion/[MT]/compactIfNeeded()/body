{
  boolean needsCompaction=false;
  for (  HStore store : stores.values()) {
    if (store.needsCompaction()) {
      needsCompaction=true;
      if (LOG.isDebugEnabled()) {
        LOG.debug(store.toString() + " needs compaction");
      }
      break;
    }
  }
  if (!needsCompaction) {
    if (LOG.isDebugEnabled()) {
      LOG.debug("region " + regionInfo.getRegionName() + " does not need compaction");
    }
    return false;
  }
  return compactStores();
}
