{
  HStoreFile hsf=new HStoreFile(this.conf,this.fs,this.dir,HRegionInfo.FIRST_META_REGIONINFO,Bytes.toBytes("colfamily"),1234567890L,null);
  MapFile.Writer writer=hsf.getWriter(this.fs,SequenceFile.CompressionType.NONE,false,0);
  writeStoreFile(writer);
  MapFile.Reader r=hsf.getReader(this.fs,false,false);
  HBaseMapFile.HBaseReader reader=(HBaseMapFile.HBaseReader)r;
  assertTrue(reader.containsKey(new HStoreKey("aa","bb")));
  assertTrue(reader.containsKey(new HStoreKey("bb")));
  assertTrue(reader.containsKey(new HStoreKey("zz")));
  assertFalse(reader.containsKey(new HStoreKey("AA")));
  assertFalse(reader.containsKey(new HStoreKey("{{")));
  assertFalse(reader.containsKey(new HStoreKey()));
}
