{
  try {
    if (regionServer.replicationSinkHandler != null) {
      checkOpen();
      requestCount.increment();
      List<WALEntry> entries=request.getEntryList();
      CellScanner cellScanner=((PayloadCarryingRpcController)controller).cellScanner();
      regionServer.getRegionServerCoprocessorHost().preReplicateLogEntries(entries,cellScanner);
      regionServer.replicationSinkHandler.replicateLogEntries(entries,cellScanner);
      regionServer.getRegionServerCoprocessorHost().postReplicateLogEntries(entries,cellScanner);
    }
    return ReplicateWALEntryResponse.newBuilder().build();
  }
 catch (  IOException ie) {
    throw new ServiceException(ie);
  }
}
