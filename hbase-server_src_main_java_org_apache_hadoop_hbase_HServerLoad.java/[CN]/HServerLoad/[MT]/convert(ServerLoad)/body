{
  Map<byte[],RegionLoad> regionLoad=new HashMap<byte[],RegionLoad>();
  for (  HBaseProtos.RegionLoad rl : sl.getRegionLoadsList()) {
    Set<String> regionCoprocessors=new HashSet<String>();
    for (    HBaseProtos.Coprocessor coprocessor : rl.getCoprocessorsList()) {
      regionCoprocessors.add(coprocessor.getName());
    }
    byte[] regionName=rl.getRegionSpecifier().getValue().toByteArray();
    RegionLoad converted=new RegionLoad(regionName,rl.getStores(),rl.getStorefiles(),rl.getStoreUncompressedSizeMB(),rl.getStorefileSizeMB(),rl.getMemstoreSizeMB(),rl.getStorefileIndexSizeMB(),rl.getRootIndexSizeKB(),rl.getTotalStaticIndexSizeKB(),rl.getTotalStaticBloomSizeKB(),rl.getReadRequestsCount(),rl.getWriteRequestsCount(),rl.getTotalCompactingKVs(),rl.getCurrentCompactedKVs(),regionCoprocessors);
    regionLoad.put(regionName,converted);
  }
  Set<String> coprocessors=new HashSet<String>(Arrays.asList(ServerLoad.getRegionServerCoprocessors(sl)));
  HServerLoad hsl=new HServerLoad(sl.getTotalNumberOfRequests(),sl.getRequestsPerSecond(),sl.getUsedHeapMB(),sl.getMaxHeapMB(),regionLoad,coprocessors);
  return hsl;
}
