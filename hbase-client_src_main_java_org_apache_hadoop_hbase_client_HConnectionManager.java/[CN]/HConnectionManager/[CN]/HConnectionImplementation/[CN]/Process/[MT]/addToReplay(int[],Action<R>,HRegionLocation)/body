{
  this.toReplay.add(action);
  nbRetries[action.getOriginalIndex()]++;
  if (nbRetries[action.getOriginalIndex()] > this.curNumRetries) {
    this.curNumRetries=nbRetries[action.getOriginalIndex()];
  }
  if (hci.isUsingServerTrackerForRetries()) {
    if (this.errorsByServer == null) {
      this.errorsByServer=hci.createServerErrorTracker();
    }
    this.errorsByServer.reportServerError(source);
    return !this.errorsByServer.canRetryMore();
  }
 else {
    return ((this.curNumRetries + 1) >= hci.numTries);
  }
}
