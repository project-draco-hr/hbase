{
  if (protocolState.protocol == null) {
    return false;
  }
  try {
    return protocolState.protocol.isMasterRunning(null,RequestConverter.buildIsMasterRunningRequest()).getIsMasterRunning();
  }
 catch (  UndeclaredThrowableException e) {
    LOG.info("Master connection is not running anymore",e.getUndeclaredThrowable());
    return false;
  }
catch (  ServiceException se) {
    LOG.warn("Checking master connection",se);
    return false;
  }
}
