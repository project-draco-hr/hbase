{
  if (clusterId != null) {
    return;
  }
  ZooKeeperKeepAliveConnection zkw=null;
  try {
    zkw=getKeepAliveZooKeeperWatcher();
    clusterId=ZKClusterId.readClusterIdZNode(zkw);
    if (clusterId == null) {
      LOG.info("ClusterId read in ZooKeeper is null");
    }
  }
 catch (  KeeperException e) {
    LOG.warn("Can't retrieve clusterId from Zookeeper",e);
  }
catch (  IOException e) {
    LOG.warn("Can't retrieve clusterId from Zookeeper",e);
  }
 finally {
    if (zkw != null) {
      zkw.close();
    }
  }
  if (clusterId == null) {
    clusterId=HConstants.CLUSTER_ID_DEFAULT;
  }
  LOG.info("ClusterId is " + clusterId);
}
