{
  final AtomicBoolean available=new AtomicBoolean(true);
  final AtomicInteger regionCount=new AtomicInteger(0);
  MetaScannerVisitor visitor=new MetaScannerVisitorBase(){
    @Override public boolean processRow(    Result row) throws IOException {
      HRegionInfo info=MetaScanner.getHRegionInfo(row);
      if (info != null) {
        if (Bytes.compareTo(tableName,info.getTableName()) == 0) {
          ServerName server=HRegionInfo.getServerName(row);
          if (server == null) {
            available.set(false);
            return false;
          }
          regionCount.incrementAndGet();
        }
 else         if (Bytes.compareTo(tableName,info.getTableName()) < 0) {
          return false;
        }
      }
      return true;
    }
  }
;
  MetaScanner.metaScan(conf,this,visitor,tableName);
  return available.get() && (regionCount.get() > 0);
}
