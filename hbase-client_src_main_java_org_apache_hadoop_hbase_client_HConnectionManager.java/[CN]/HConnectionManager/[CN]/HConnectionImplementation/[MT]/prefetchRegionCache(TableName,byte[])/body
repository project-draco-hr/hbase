{
  MetaScannerVisitor visitor=new MetaScannerVisitorBase(){
    public boolean processRow(    Result result) throws IOException {
      try {
        HRegionInfo regionInfo=MetaScanner.getHRegionInfo(result);
        if (regionInfo == null) {
          return true;
        }
        if (!regionInfo.getTableName().equals(tableName)) {
          return false;
        }
        if (regionInfo.isOffline()) {
          return true;
        }
        ServerName serverName=HRegionInfo.getServerName(result);
        if (serverName == null) {
          return true;
        }
        long seqNum=HRegionInfo.getSeqNumDuringOpen(result);
        HRegionLocation loc=new HRegionLocation(regionInfo,serverName,seqNum);
        cacheLocation(tableName,null,loc);
        return true;
      }
 catch (      RuntimeException e) {
        throw new IOException(e);
      }
    }
  }
;
  try {
    MetaScanner.metaScan(conf,this,visitor,tableName,row,this.prefetchRegionLimit,TableName.META_TABLE_NAME);
  }
 catch (  IOException e) {
    LOG.warn("Encountered problems when prefetch hbase:meta table: ",e);
  }
}
