{
  super.prepareWithTableLock();
  if (masterServices.getAssignmentManager().getTableStateManager().isTableState(this.htd.getTableName(),ZooKeeperProtos.Table.State.ENABLED) && this.htd.getRegionReplication() != getTableDescriptor().getRegionReplication()) {
    throw new IOException("REGION_REPLICATION change is not supported for enabled tables");
  }
}
