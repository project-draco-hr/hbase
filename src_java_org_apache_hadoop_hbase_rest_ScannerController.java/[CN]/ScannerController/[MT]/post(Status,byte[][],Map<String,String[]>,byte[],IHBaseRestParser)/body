{
  ScannerModel innerModel=this.getModel();
  byte[] tableName;
  tableName=pathSegments[0];
  if (pathSegments.length == 2 && Bytes.toString(pathSegments[1]).toLowerCase().equals(RESTConstants.SCANNER)) {
    ScannerDescriptor sd=this.getScannerDescriptor(queryMap);
    s.setScannerCreated(createScanner(innerModel,tableName,sd));
  }
 else   if (pathSegments.length == 3 && Bytes.toString(pathSegments[1]).toLowerCase().equals(RESTConstants.SCANNER)) {
    Long numRows=1L;
    String[] numRowsString=queryMap.get(RESTConstants.LIMIT);
    if (numRowsString != null && Pattern.matches("^\\d+$",numRowsString[0])) {
      numRows=Long.parseLong(numRowsString[0]);
    }
    Integer scannerId=null;
    String scannerIdString=new String(pathSegments[2]);
    if (!Pattern.matches("^\\d+$",scannerIdString)) {
      throw new HBaseRestException("the scannerid in the path and must be an integer");
    }
    scannerId=Integer.parseInt(scannerIdString);
    try {
      s.setOK(innerModel.scannerGet(scannerId,numRows));
    }
 catch (    HBaseRestException e) {
      s.setNotFound();
    }
  }
 else {
    s.setBadRequest("Unknown Query.");
  }
  s.respond();
}
