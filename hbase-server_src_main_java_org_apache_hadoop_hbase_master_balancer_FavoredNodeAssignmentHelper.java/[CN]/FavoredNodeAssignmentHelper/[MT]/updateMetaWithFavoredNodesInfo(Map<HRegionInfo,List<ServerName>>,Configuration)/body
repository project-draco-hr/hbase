{
  List<Put> puts=new ArrayList<Put>();
  for (  Map.Entry<HRegionInfo,List<ServerName>> entry : regionToFavoredNodes.entrySet()) {
    Put put=makePutFromRegionInfo(entry.getKey(),entry.getValue());
    if (put != null) {
      puts.add(put);
    }
  }
  HTable metaTable=null;
  try {
    metaTable=new HTable(conf,TableName.META_TABLE_NAME);
    metaTable.put(puts);
  }
  finally {
    if (metaTable != null)     metaTable.close();
  }
  LOG.info("Added " + puts.size() + " regions in META");
}
