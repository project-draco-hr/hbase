{
  boolean skip=false;
  if (!Bytes.equals(location.getRegionInfo().getEncodedNameAsBytes(),initialEncodedRegionName)) {
    skip=true;
  }
  if (!entries.isEmpty() && !skip) {
    Entry[] entriesArray=new Entry[entries.size()];
    entriesArray=entries.toArray(entriesArray);
    Pair<AdminProtos.ReplicateWALEntryRequest,CellScanner> p=ReplicationProtbufUtil.buildReplicateWALEntryRequest(entriesArray,location.getRegionInfo().getEncodedNameAsBytes(),null,null,null);
    try {
      PayloadCarryingRpcController controller=rpcControllerFactory.newController(p.getSecond());
      controller.setCallTimeout(timeout);
      controller.setPriority(tableName);
      return stub.replay(controller,p.getFirst());
    }
 catch (    ServiceException se) {
      throw ProtobufUtil.getRemoteException(se);
    }
  }
  if (skip) {
    if (LOG.isTraceEnabled()) {
      LOG.trace("Skipping " + entries.size() + " entries in table "+ tableName+ " because located region "+ location.getRegionInfo().getEncodedName()+ " is different than the original region "+ Bytes.toStringBinary(initialEncodedRegionName)+ " from WALEdit");
      for (      Entry entry : entries) {
        LOG.trace("Skipping : " + entry);
      }
    }
    skippedEntries.addAndGet(entries.size());
  }
  return ReplicateWALEntryResponse.newBuilder().build();
}
