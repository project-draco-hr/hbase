{
  IOException failure=null;
synchronized (logs) {
    for (    FSHLog wal : logs) {
      try {
        wal.close();
      }
 catch (      IOException exception) {
        LOG.error("Problem closing log '" + wal + "': "+ exception.getMessage());
        LOG.debug("Details of problem closing wal '" + wal + "'",exception);
        failure=exception;
      }
    }
  }
  if (failure != null) {
    throw failure;
  }
}
