{
  int countOfRegions=0;
  for (  HRegion r : hrs.getOnlineRegions()) {
    if (r.getRegionInfo().isMetaRegion())     continue;
    cluster.addMessageToSendRegionServer(hrs,new HMsg(HMsg.Type.MSG_REGION_CLOSE,r.getRegionInfo()));
    LOG.info("Sent close of " + r.getRegionInfo().getRegionNameAsString() + " on "+ hrs.toString());
    countOfRegions++;
  }
  return countOfRegions;
}
