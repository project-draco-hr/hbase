{
  assertEquals(0,manager.getSources().size());
  admin.addPeer(ID_ONE,KEY_ONE);
  try {
    admin.addPeer(ID_ONE,KEY_ONE);
  }
 catch (  IllegalArgumentException iae) {
  }
  assertEquals(1,admin.getPeersCount());
  try {
    admin.removePeer(ID_SECOND);
    fail();
  }
 catch (  IllegalArgumentException iae) {
  }
  assertEquals(1,admin.getPeersCount());
  try {
    admin.addPeer(ID_SECOND,KEY_SECOND);
  }
 catch (  IllegalStateException iae) {
    fail();
  }
  assertEquals(2,admin.getPeersCount());
  admin.removePeer(ID_ONE);
  assertEquals(1,admin.getPeersCount());
}
