{
  Map<HRegionInfo,HServerAddress> regions=t.getRegionsInfo();
  int originalCount=regions.size();
  for (int i=0; i < TEST_UTIL.getConfiguration().getInt("hbase.test.retries",30); i++) {
    Thread.currentThread();
    try {
      Thread.sleep(TEST_UTIL.getConfiguration().getInt("hbase.server.thread.wakefrequency",1000));
    }
 catch (    InterruptedException e) {
      e.printStackTrace();
    }
    regions=t.getRegionsInfo();
    if (regions.size() > originalCount)     break;
  }
  return regions;
}
