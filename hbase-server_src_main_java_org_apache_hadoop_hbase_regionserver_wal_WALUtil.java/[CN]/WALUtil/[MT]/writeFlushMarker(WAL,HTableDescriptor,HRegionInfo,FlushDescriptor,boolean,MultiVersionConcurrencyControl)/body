{
  TableName tn=TableName.valueOf(f.getTableName().toByteArray());
  WALKey key=new HLogKey(info.getEncodedNameAsBytes(),tn,System.currentTimeMillis(),mvcc);
  long trx=log.append(htd,info,key,WALEdit.createFlushWALEdit(info,f),false);
  mvcc.complete(key.getWriteEntry());
  if (sync)   log.sync(trx);
  if (LOG.isTraceEnabled()) {
    LOG.trace("Appended flush marker " + TextFormat.shortDebugString(f));
  }
  return trx;
}
