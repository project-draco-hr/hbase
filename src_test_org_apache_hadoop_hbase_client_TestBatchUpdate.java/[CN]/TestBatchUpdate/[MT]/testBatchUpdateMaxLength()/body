{
  BatchUpdate batchUpdate=new BatchUpdate("row1");
  batchUpdate.put(SMALLFAM,value);
  try {
    table.commit(batchUpdate);
    fail("Value is too long, should throw exception");
  }
 catch (  IOException e) {
  }
  try {
    Cell cell=table.get("row1",SMALLFAM_STR);
    assertNull(cell);
  }
 catch (  IOException e) {
    e.printStackTrace();
    fail("This is unexpected");
  }
  batchUpdate=new BatchUpdate("row1");
  batchUpdate.put(SMALLFAM,smallValue);
  try {
    table.commit(batchUpdate);
  }
 catch (  IOException e) {
    fail("Value is long enough, should not throw exception");
  }
}
