{
  Cacheable value=cache.getIfPresent(cacheKey);
  if (value == null) {
    if (repeat) {
      return null;
    }
    if (updateCacheMetrics) {
      stats.miss(caching,cacheKey.isPrimary(),cacheKey.getBlockType());
    }
    if (victimCache != null) {
      value=victimCache.getBlock(cacheKey,caching,repeat,updateCacheMetrics);
      if ((value != null) && caching) {
        if ((value instanceof HFileBlock) && ((HFileBlock)value).usesSharedMemory()) {
          value=((HFileBlock)value).deepClone();
        }
        cacheBlock(cacheKey,value);
      }
    }
  }
 else   if (updateCacheMetrics) {
    stats.hit(caching,cacheKey.isPrimary(),cacheKey.getBlockType());
  }
  return value;
}
