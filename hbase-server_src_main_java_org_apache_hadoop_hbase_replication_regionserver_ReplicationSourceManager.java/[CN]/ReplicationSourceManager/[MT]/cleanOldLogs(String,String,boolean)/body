{
  if (queueRecovered) {
    SortedSet<String> hlogs=hlogsByIdRecoveredQueues.get(id);
    if (hlogs != null && !hlogs.first().equals(key)) {
      cleanOldLogs(hlogs,key,id);
    }
  }
 else {
synchronized (this.hlogsById) {
      SortedSet<String> hlogs=hlogsById.get(id);
      if (!hlogs.first().equals(key)) {
        cleanOldLogs(hlogs,key,id);
      }
    }
  }
}
