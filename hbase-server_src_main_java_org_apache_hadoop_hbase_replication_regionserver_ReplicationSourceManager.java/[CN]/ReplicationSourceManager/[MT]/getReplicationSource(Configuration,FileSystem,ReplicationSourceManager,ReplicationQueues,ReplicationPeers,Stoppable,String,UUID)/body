{
  ReplicationSourceInterface src;
  try {
    @SuppressWarnings("rawtypes") Class c=Class.forName(conf.get("replication.replicationsource.implementation",ReplicationSource.class.getCanonicalName()));
    src=(ReplicationSourceInterface)c.newInstance();
  }
 catch (  Exception e) {
    LOG.warn("Passed replication source implementation throws errors, " + "defaulting to ReplicationSource",e);
    src=new ReplicationSource();
  }
  src.init(conf,fs,manager,replicationQueues,replicationPeers,stopper,peerId,clusterId);
  return src;
}
