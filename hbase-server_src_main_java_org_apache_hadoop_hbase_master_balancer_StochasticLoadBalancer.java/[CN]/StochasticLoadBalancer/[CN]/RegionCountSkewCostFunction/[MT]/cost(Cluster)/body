{
  if (stats == null || stats.length != cluster.numServers) {
    stats=new double[cluster.numServers];
  }
  for (int i=0; i < cluster.numServers; i++) {
    stats[i]=cluster.regionsPerServer[i].length;
    if (cluster.isActiveMaster(i)) {
      stats[i]+=cluster.numUserRegionsOnMaster * (activeMasterWeight - 1);
    }
 else     if (cluster.isBackupMaster(i)) {
      stats[i]*=backupMasterWeight;
    }
  }
  return costFromArray(stats);
}
