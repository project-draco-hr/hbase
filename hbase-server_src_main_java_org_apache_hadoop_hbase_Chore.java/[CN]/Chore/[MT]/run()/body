{
  try {
    boolean initialChoreComplete=false;
    while (!this.stopper.isStopped()) {
      long startTime=System.currentTimeMillis();
      try {
        if (!initialChoreComplete) {
          initialChoreComplete=initialChore();
        }
 else {
          chore();
        }
      }
 catch (      Exception e) {
        LOG.error("Caught exception",e);
        if (this.stopper.isStopped()) {
          continue;
        }
      }
      this.sleeper.sleep(startTime);
    }
  }
 catch (  Throwable t) {
    LOG.fatal(getName() + "error",t);
  }
 finally {
    LOG.info(getName() + " exiting");
    cleanup();
  }
}
