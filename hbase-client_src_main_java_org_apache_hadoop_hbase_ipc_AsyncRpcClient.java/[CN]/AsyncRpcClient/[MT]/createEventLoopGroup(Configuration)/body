{
  int maxThreads=conf.getInt(CLIENT_MAX_THREADS,0);
  boolean epollEnabled=conf.getBoolean(USE_NATIVE_TRANSPORT,false);
  if (epollEnabled && JVM.isLinux()) {
    if (LOG.isDebugEnabled()) {
      LOG.debug("Create EpollEventLoopGroup with maxThreads = " + maxThreads);
    }
    return new Pair<EventLoopGroup,Class<? extends Channel>>(new EpollEventLoopGroup(maxThreads,Threads.newDaemonThreadFactory("AsyncRpcChannel")),EpollSocketChannel.class);
  }
 else {
    if (LOG.isDebugEnabled()) {
      LOG.debug("Create NioEventLoopGroup with maxThreads = " + maxThreads);
    }
    return new Pair<EventLoopGroup,Class<? extends Channel>>(new NioEventLoopGroup(maxThreads,Threads.newDaemonThreadFactory("AsyncRpcChannel")),NioSocketChannel.class);
  }
}
