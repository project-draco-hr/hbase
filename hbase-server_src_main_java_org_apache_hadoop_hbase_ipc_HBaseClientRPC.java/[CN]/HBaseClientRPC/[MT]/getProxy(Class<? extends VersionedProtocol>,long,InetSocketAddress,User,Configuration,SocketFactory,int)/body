{
  RpcClientEngine engine=getProtocolEngine(protocol,conf);
  VersionedProtocol proxy=engine.getProxy(protocol,clientVersion,addr,ticket,conf,factory,Math.min(rpcTimeout,getRpcTimeout()));
  return proxy;
}
