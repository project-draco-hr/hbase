{
  Method m=null;
  if (os != null) {
    Class<? extends OutputStream> wrappedStreamClass=os.getWrappedStream().getClass();
    try {
      m=wrappedStreamClass.getDeclaredMethod("getPipeline",new Class<?>[]{});
      m.setAccessible(true);
    }
 catch (    NoSuchMethodException e) {
      LOG.info("FileSystem's output stream doesn't support" + " getPipeline; not available; fsOut=" + wrappedStreamClass.getName());
    }
catch (    SecurityException e) {
      LOG.info("Doesn't have access to getPipeline on " + "FileSystems's output stream ; fsOut=" + wrappedStreamClass.getName(),e);
      m=null;
    }
  }
  return m;
}
