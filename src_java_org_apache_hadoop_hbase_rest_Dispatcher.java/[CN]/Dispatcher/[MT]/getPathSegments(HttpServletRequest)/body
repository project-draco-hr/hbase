{
  int context_len=request.getContextPath().length() + 1;
  byte[][] pathSegments=Bytes.toByteArrays(request.getRequestURI().substring(context_len).split("/"));
  byte[] apiAsBytes="api".getBytes();
  if (Arrays.equals(apiAsBytes,pathSegments[0])) {
    byte[][] newPathSegments=new byte[pathSegments.length - 1][];
    for (int i=0; i < newPathSegments.length; i++) {
      newPathSegments[i]=pathSegments[i + 1];
    }
    pathSegments=newPathSegments;
  }
  return pathSegments;
}
