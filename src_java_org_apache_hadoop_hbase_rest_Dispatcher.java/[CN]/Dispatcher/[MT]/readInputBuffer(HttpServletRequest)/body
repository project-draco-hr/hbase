{
  try {
    String resultant="";
    BufferedReader r=request.getReader();
    int maxLength=5000;
    int bufferLength=640;
    char[] c=new char[bufferLength];
    if (!r.ready()) {
      Thread.sleep(1000);
      if (!r.ready()) {
        return new byte[0];
      }
    }
    while (r.ready()) {
      int n=r.read(c,0,bufferLength);
      resultant+=new String(c);
      if (n != bufferLength) {
        break;
      }
 else       if (resultant.length() > maxLength) {
        resultant=resultant.substring(0,maxLength);
        break;
      }
    }
    return Bytes.toBytes(resultant.trim());
  }
 catch (  Exception e) {
    throw new HBaseRestException(e);
  }
}
