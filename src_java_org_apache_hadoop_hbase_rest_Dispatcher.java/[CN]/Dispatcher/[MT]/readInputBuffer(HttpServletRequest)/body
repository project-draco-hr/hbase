{
  try {
    String resultant="";
    BufferedReader r=request.getReader();
    int defaultmaxlength=10 * 1024 * 1024;
    int maxLength=this.conf == null ? defaultmaxlength : this.conf.getInt("hbase.rest.input.limit",defaultmaxlength);
    int bufferLength=640;
    if (!r.ready()) {
      Thread.sleep(1000);
      if (!r.ready()) {
        return new byte[0];
      }
    }
    char[] c;
    while (r.ready()) {
      c=new char[bufferLength];
      int n=r.read(c,0,bufferLength);
      resultant+=new String(c);
      if (n != bufferLength) {
        break;
      }
 else       if (resultant.length() > maxLength) {
        resultant=resultant.substring(0,maxLength);
        break;
      }
    }
    return Bytes.toBytes(resultant.trim());
  }
 catch (  Exception e) {
    throw new HBaseRestException(e);
  }
}
