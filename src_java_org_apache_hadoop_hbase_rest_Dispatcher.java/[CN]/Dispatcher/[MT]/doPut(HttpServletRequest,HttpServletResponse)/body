{
  try {
    byte[][] pathSegments=getPathSegments(request);
    if (pathSegments.length == 0) {
      throw new HBaseRestException("method not supported");
    }
 else     if (pathSegments.length == 1 && pathSegments[0].length > 0) {
      Status s=createStatus(request,response);
      Map<String,String[]> queryMap=request.getParameterMap();
      IHBaseRestParser parser=this.getParser(request);
      byte[] input=readInputBuffer(request);
      tableController.put(s,pathSegments,queryMap,input,parser);
    }
 else {
      doPost(request,response);
    }
  }
 catch (  HBaseRestException e) {
    try {
      Status s_error=createStatus(request,response);
      s_error.setInternalError(e);
      s_error.respond();
    }
 catch (    HBaseRestException f) {
      response.sendError(HttpServletResponse.SC_INTERNAL_SERVER_ERROR);
    }
  }
}
