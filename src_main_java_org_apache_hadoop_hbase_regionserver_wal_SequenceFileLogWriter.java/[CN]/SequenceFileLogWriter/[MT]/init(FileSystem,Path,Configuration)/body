{
  if (null == keyClass) {
    keyClass=HLog.getKeyClass(conf);
  }
  this.writer=SequenceFile.createWriter(fs,conf,path,keyClass,WALEdit.class,fs.getConf().getInt("io.file.buffer.size",4096),(short)conf.getInt("hbase.regionserver.hlog.replication",fs.getDefaultReplication()),conf.getLong("hbase.regionserver.hlog.blocksize",fs.getDefaultBlockSize()),SequenceFile.CompressionType.NONE,new DefaultCodec(),null,new Metadata());
  this.writer_out=getSequenceFilePrivateFSDataOutputStreamAccessible();
  this.syncFs=getSyncFs();
  this.hflush=getHFlush();
  String msg="Path=" + path + ", syncFs="+ (this.syncFs != null)+ ", hflush="+ (this.hflush != null);
  if (this.syncFs != null || this.hflush != null) {
    LOG.debug(msg);
  }
 else {
    LOG.warn("No sync support! " + msg);
  }
}
