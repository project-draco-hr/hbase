{
  useZKForAssignment=server == null ? true : ConfigUtil.useZKForAssignment(server.getConfiguration());
  if (useCoordinatedStateManager(server)) {
    std=((BaseCoordinatedStateManager)server.getCoordinatedStateManager()).getSplitTransactionCoordination().getDefaultDetails();
  }
  PairOfSameType<HRegion> regions=createDaughters(server,services);
  if (this.parent.getCoprocessorHost() != null) {
    this.parent.getCoprocessorHost().preSplitAfterPONR();
  }
  return stepsAfterPONR(server,services,regions);
}
