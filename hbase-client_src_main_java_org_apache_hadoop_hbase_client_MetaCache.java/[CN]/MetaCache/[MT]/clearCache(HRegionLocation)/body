{
  if (location == null) {
    return;
  }
  TableName tableName=location.getRegionInfo().getTable();
  ConcurrentMap<byte[],RegionLocations> tableLocations=getTableLocations(tableName);
  RegionLocations rll=tableLocations.get(location.getRegionInfo().getStartKey());
  RegionLocations updatedLocations=rll.remove(location);
  if (updatedLocations.isEmpty()) {
    tableLocations.remove(location.getRegionInfo().getStartKey(),rll);
  }
  if (LOG.isDebugEnabled() && (rll == updatedLocations)) {
    LOG.debug("Removed " + location.getRegionInfo().getRegionNameAsString() + " for tableName="+ tableName+ " from cache");
  }
}
