{
  assertTrue(snapshot,"Logs directory doesn't exist in snapshot",fs.exists(logsDir));
  Multimap<String,String> snapshotLogs=getMapOfServersAndLogs(fs,snapshotLogDir,serverNames);
  Multimap<String,String> realLogs=getMapOfServersAndLogs(fs,logsDir,serverNames);
  if (realLogs != null) {
    assertNotNull(snapshot,"No server logs added to snapshot",snapshotLogs);
  }
 else   if (realLogs == null) {
    assertNull(snapshot,"Snapshotted server logs that don't exist",snapshotLogs);
  }
  Set<Entry<String,Collection<String>>> serverEntries=realLogs.asMap().entrySet();
  Set<Entry<String,Collection<String>>> snapshotEntries=snapshotLogs.asMap().entrySet();
  assertEquals(snapshot,"Not the same number of snapshot and original server logs directories",serverEntries.size(),snapshotEntries.size());
  for (  Entry<String,Collection<String>> serverLogs : serverEntries) {
    if (!serverNames.contains(serverLogs.getKey()))     continue;
    Collection<String> snapshotServerLogs=snapshotLogs.get(serverLogs.getKey());
    assertNotNull(snapshot,"Snapshots missing logs for server:" + serverLogs.getKey(),snapshotServerLogs);
    assertEquals(snapshot,"Didn't reference all the log files for server:" + serverLogs.getKey(),serverLogs.getValue().size(),snapshotServerLogs.size());
    for (    String log : serverLogs.getValue()) {
      assertTrue(snapshot,"Snapshot logs didn't include " + log,snapshotServerLogs.contains(log));
    }
  }
}
