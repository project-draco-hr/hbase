{
  this.machineName=DNS.getDefaultHost(conf.get("hbase.regionserver.dns.interface","default"),conf.get("hbase.regionserver.dns.nameserver","default"));
  String addressStr=machineName + ":" + conf.get(HConstants.REGIONSERVER_PORT,Integer.toString(HConstants.DEFAULT_REGIONSERVER_PORT));
  this.address=new HServerAddress(addressStr);
  this.fsOk=true;
  this.conf=conf;
  this.connection=HConnectionManager.getConnection(conf);
  this.isOnline=false;
  this.numRetries=conf.getInt("hbase.client.retries.number",2);
  this.threadWakeFrequency=conf.getInt(HConstants.THREAD_WAKE_FREQUENCY,10 * 1000);
  this.msgInterval=conf.getInt("hbase.regionserver.msginterval",1 * 1000);
  sleeper=new Sleeper(this.msgInterval,this);
  this.maxScannerResultSize=conf.getLong(HConstants.HBASE_CLIENT_SCANNER_MAX_RESULT_SIZE_KEY,HConstants.DEFAULT_HBASE_CLIENT_SCANNER_MAX_RESULT_SIZE);
  this.numRegionsToReport=conf.getInt("hbase.regionserver.numregionstoreport",10);
  this.rpcTimeout=conf.getLong(HConstants.HBASE_REGIONSERVER_LEASE_PERIOD_KEY,HConstants.DEFAULT_HBASE_REGIONSERVER_LEASE_PERIOD);
  initialize();
}
