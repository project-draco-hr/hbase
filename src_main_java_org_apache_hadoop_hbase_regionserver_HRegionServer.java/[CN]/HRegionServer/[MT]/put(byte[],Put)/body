{
  if (put.getRow() == null) {
    throw new IllegalArgumentException("update has null row");
  }
  final long startTime=System.nanoTime();
  checkOpen();
  this.requestCount.incrementAndGet();
  HRegion region=getRegion(regionName);
  try {
    if (!region.getRegionInfo().isMetaTable()) {
      this.cacheFlusher.reclaimMemStoreMemory();
    }
    boolean writeToWAL=put.getWriteToWAL();
    region.put(put,getLockFromId(put.getLockId()),writeToWAL);
  }
 catch (  Throwable t) {
    throw convertThrowableToIOE(cleanup(t));
  }
 finally {
    this.metrics.putLatencies.update(System.nanoTime() - startTime);
  }
}
