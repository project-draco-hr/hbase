{
  zooKeeper=new ZooKeeperWatcher(conf,REGIONSERVER + serverInfo.getServerAddress().getPort(),this);
  this.clusterStatusTracker=new ClusterStatusTracker(this.zooKeeper,this);
  this.clusterStatusTracker.start();
  this.clusterStatusTracker.blockUntilAvailable();
  masterAddressManager=new MasterAddressTracker(zooKeeper,this);
  masterAddressManager.start();
  this.catalogTracker=new CatalogTracker(this.zooKeeper,this.connection,this,this.conf.getInt("hbase.regionserver.catalog.timeout",Integer.MAX_VALUE));
  catalogTracker.start();
}
