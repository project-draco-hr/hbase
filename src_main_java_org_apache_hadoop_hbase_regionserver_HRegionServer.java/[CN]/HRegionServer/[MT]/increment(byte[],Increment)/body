{
  checkOpen();
  if (regionName == null) {
    throw new IOException("Invalid arguments to increment " + "regionName is null");
  }
  requestCount.incrementAndGet();
  try {
    HRegion region=getRegion(regionName);
    Integer lock=getLockFromId(increment.getLockId());
    Increment incVal=increment;
    Result resVal;
    if (region.getCoprocessorHost() != null) {
      resVal=region.getCoprocessorHost().preIncrement(incVal);
      if (resVal != null) {
        return resVal;
      }
    }
    resVal=region.increment(incVal,lock,increment.getWriteToWAL());
    if (region.getCoprocessorHost() != null) {
      resVal=region.getCoprocessorHost().postIncrement(incVal,resVal);
    }
    return resVal;
  }
 catch (  IOException e) {
    checkFileSystem();
    throw e;
  }
}
