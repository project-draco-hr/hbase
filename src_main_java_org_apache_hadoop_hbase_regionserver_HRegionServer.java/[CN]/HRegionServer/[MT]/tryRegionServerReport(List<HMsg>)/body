{
  this.serverInfo.setLoad(buildServerLoad());
  this.requestCount.set(0);
  addOutboundMsgs(outboundMessages);
  HMsg[] msgs=this.hbaseMaster.regionServerReport(this.serverInfo,outboundMessages.toArray(HMsg.EMPTY_HMSG_ARRAY),getMostLoadedRegions());
  updateOutboundMsgs(outboundMessages);
  outboundMessages.clear();
  for (int i=0; !this.stopped && msgs != null && i < msgs.length; i++) {
    LOG.info(msgs[i].toString());
    if (msgs[i].getType().equals(HMsg.Type.STOP_REGIONSERVER)) {
      stop("Received " + msgs[i]);
      continue;
    }
    LOG.warn("NOT PROCESSING " + msgs[i] + " -- WHY IS MASTER SENDING IT TO US?");
  }
  return outboundMessages;
}
