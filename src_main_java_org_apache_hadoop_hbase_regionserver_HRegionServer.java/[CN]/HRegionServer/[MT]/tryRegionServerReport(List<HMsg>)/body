{
  this.serverInfo.setLoad(buildServerLoad());
  this.requestCount.set(0);
  addOutboundMsgs(outboundMessages);
  HMsg[] msgs=null;
  while (!this.stopped) {
    try {
      msgs=this.hbaseMaster.regionServerReport(this.serverInfo,outboundMessages.toArray(HMsg.EMPTY_HMSG_ARRAY),getMostLoadedRegions());
      break;
    }
 catch (    IOException ioe) {
      if (ioe instanceof RemoteException) {
        ioe=((RemoteException)ioe).unwrapRemoteException();
      }
      if (ioe instanceof YouAreDeadException) {
        throw ioe;
      }
      getMaster();
    }
  }
  updateOutboundMsgs(outboundMessages);
  outboundMessages.clear();
  return outboundMessages;
}
