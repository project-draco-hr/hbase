{
  LOG.debug("Handling CLOSED event");
  if (assignmentManager.isTableOfRegionDisabled(regionInfo.getRegionName())) {
    LOG.debug("Table being disabled so deleting ZK node and removing from " + "regions in transition, skipping assignment");
    try {
      ZKAssign.deleteClosedNode(server.getZooKeeper(),regionInfo.getEncodedName());
    }
 catch (    KeeperException.NoNodeException nne) {
      LOG.warn("Tried to delete closed node for " + data + " but it does "+ "not exist");
      return;
    }
catch (    KeeperException e) {
      server.abort("Error deleting CLOSED node in ZK",e);
    }
    assignmentManager.regionOffline(regionInfo);
    return;
  }
  assignmentManager.setOffline(regionInfo);
  assignmentManager.assign(regionInfo);
}
