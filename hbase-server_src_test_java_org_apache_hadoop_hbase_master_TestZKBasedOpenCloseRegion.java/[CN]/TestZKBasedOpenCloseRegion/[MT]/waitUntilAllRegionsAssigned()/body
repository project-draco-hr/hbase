{
  HTable meta=new HTable(TEST_UTIL.getConfiguration(),TableName.META_TABLE_NAME);
  while (true) {
    int rows=0;
    Scan scan=new Scan();
    scan.addColumn(HConstants.CATALOG_FAMILY,HConstants.SERVER_QUALIFIER);
    ResultScanner s=meta.getScanner(scan);
    for (Result r=null; (r=s.next()) != null; ) {
      byte[] b=r.getValue(HConstants.CATALOG_FAMILY,HConstants.SERVER_QUALIFIER);
      if (b == null || b.length <= 0) {
        break;
      }
      rows++;
    }
    s.close();
    if (rows >= countOfRegions) {
      break;
    }
    LOG.info("Found=" + rows);
    Threads.sleep(1000);
  }
  meta.close();
}
