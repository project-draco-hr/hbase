{
  Path regioninfoPath=new Path(this.regiondir,REGIONINFO_FILE);
  if (this.fs.exists(regioninfoPath) && this.fs.getFileStatus(regioninfoPath).getLen() > 0) {
    return;
  }
  Path tmpPath=new Path(getTmpDir(),REGIONINFO_FILE);
  FSDataOutputStream out=this.fs.create(tmpPath,true);
  try {
    this.regionInfo.write(out);
    out.write('\n');
    out.write('\n');
    out.write(Bytes.toBytes(this.regionInfo.toString()));
  }
  finally {
    out.close();
  }
  if (!fs.rename(tmpPath,regioninfoPath)) {
    throw new IOException("Unable to rename " + tmpPath + " to "+ regioninfoPath);
  }
}
