{
synchronized (tableStates) {
    TableDescriptor descriptor=readDescriptor(tableName);
    if (descriptor == null) {
      throw new TableNotFoundException(tableName);
    }
    if (!TableState.isInStates(descriptor.getTableState(),states)) {
      writeDescriptor(new TableDescriptor(descriptor.getHTableDescriptor(),newState));
      return true;
    }
 else {
      return false;
    }
  }
}
