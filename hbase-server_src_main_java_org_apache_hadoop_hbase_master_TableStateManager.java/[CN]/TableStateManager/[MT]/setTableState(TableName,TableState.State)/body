{
synchronized (tableStates) {
    TableDescriptor descriptor=readDescriptor(tableName);
    if (descriptor == null) {
      throw new TableNotFoundException(tableName);
    }
    if (descriptor.getTableState() != newState) {
      writeDescriptor(new TableDescriptor(descriptor.getHTableDescriptor(),newState));
    }
  }
}
