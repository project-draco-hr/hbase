{
  LOG.info("Shutting down HBase Cluster");
  if (masterThread != null) {
    masterThread.getMaster().shutdown();
  }
  if (regionServerThreads != null) {
synchronized (regionServerThreads) {
      if (regionServerThreads != null) {
        for (        Thread t : regionServerThreads) {
          if (t.isAlive()) {
            try {
              t.join();
            }
 catch (            InterruptedException e) {
            }
          }
        }
      }
    }
  }
  if (masterThread != null) {
    try {
      masterThread.join();
    }
 catch (    InterruptedException e) {
    }
  }
  LOG.info("Shutdown " + ((masterThread != null) ? masterThread.getName() : "0 masters") + " "+ ((regionServerThreads == null) ? 0 : regionServerThreads.size())+ " region server(s)");
}
