{
  try {
synchronized (this) {
      if (isRunning) {
        this.master=new HMaster(conf);
        masterThread=new Thread(this.master);
        masterThread.start();
      }
      isInitialized=true;
    }
  }
 catch (  Throwable e) {
    shutdown();
    LOG.error("HMaster crashed:",e);
synchronized (this) {
      isCrashed=true;
    }
  }
  while (this.master != null && this.master.isMasterRunning()) {
    try {
      Thread.sleep(threadSleepTime);
    }
 catch (    InterruptedException e) {
    }
  }
synchronized (this) {
    isCrashed=true;
  }
  shutdown();
}
