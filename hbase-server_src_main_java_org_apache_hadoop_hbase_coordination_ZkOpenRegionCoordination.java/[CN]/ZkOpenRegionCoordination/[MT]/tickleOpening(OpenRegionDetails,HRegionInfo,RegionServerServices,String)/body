{
  ZkOpenRegionDetails zkOrd=(ZkOpenRegionDetails)ord;
  if (!isRegionStillOpening(regionInfo,rsServices)) {
    LOG.warn("Open region aborted since it isn't opening any more");
    return false;
  }
  if (!isGoodVersion(zkOrd))   return false;
  String encodedName=regionInfo.getEncodedName();
  try {
    zkOrd.setVersion(ZKAssign.confirmNodeOpening(watcher,regionInfo,zkOrd.getServerName(),zkOrd.getVersion()));
  }
 catch (  KeeperException e) {
    coordination.getServer().abort("Exception refreshing OPENING; region=" + encodedName + ", context="+ context,e);
    zkOrd.setVersion(-1);
    return false;
  }
  boolean b=isGoodVersion(zkOrd);
  if (!b) {
    LOG.warn("Failed refreshing OPENING; region=" + encodedName + ", context="+ context);
  }
  return b;
}
