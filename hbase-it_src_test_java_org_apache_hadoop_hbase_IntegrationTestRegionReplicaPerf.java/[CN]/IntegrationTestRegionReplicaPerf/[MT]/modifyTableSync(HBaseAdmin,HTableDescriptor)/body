{
  admin.modifyTable(desc.getTableName(),desc);
  Pair<Integer,Integer> status=new Pair<Integer,Integer>(){
{
      setFirst(0);
      setSecond(0);
    }
  }
;
  for (int i=0; status.getFirst() != 0 && i < 500; i++) {
    status=admin.getAlterStatus(desc.getTableName());
    if (status.getSecond() != 0) {
      LOG.debug(status.getSecond() - status.getFirst() + "/" + status.getSecond() + " regions updated.");
      Thread.sleep(1 * 1000l);
    }
 else {
      LOG.debug("All regions updated.");
    }
  }
  if (status.getSecond() != 0) {
    throw new Exception("Failed to update replica count after 500 seconds.");
  }
}
