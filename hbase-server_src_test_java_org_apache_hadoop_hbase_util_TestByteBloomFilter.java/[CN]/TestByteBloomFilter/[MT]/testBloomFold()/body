{
  ByteBloomFilter b=new ByteBloomFilter(1003,(float)0.01,Hash.MURMUR_HASH,2);
  b.allocBloom();
  long origSize=b.getByteSize();
  assertEquals(1204,origSize);
  for (int i=0; i < 12; ++i) {
    b.add(Bytes.toBytes(i));
  }
  b.compactBloom();
  assertEquals(origSize >> 2,b.getByteSize());
  int falsePositives=0;
  for (int i=0; i < 25; ++i) {
    if (b.contains(Bytes.toBytes(i))) {
      if (i >= 12)       falsePositives++;
    }
 else {
      assertFalse(i < 12);
    }
  }
  assertTrue(falsePositives <= 1);
}
