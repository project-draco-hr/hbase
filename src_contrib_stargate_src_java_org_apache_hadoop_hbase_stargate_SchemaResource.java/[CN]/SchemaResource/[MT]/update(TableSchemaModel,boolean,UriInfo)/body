{
  try {
    RESTServlet server=RESTServlet.getInstance();
    server.invalidateMaxAge(model.getName());
    HBaseAdmin admin=new HBaseAdmin(server.getConfiguration());
    byte[] tableName=Bytes.toBytes(model.getName());
    if (replace || !admin.tableExists(tableName)) {
      return replace(tableName,model,uriInfo,admin);
    }
 else {
      return update(tableName,model,uriInfo,admin);
    }
  }
 catch (  IOException e) {
    throw new WebApplicationException(e,Response.Status.SERVICE_UNAVAILABLE);
  }
}
