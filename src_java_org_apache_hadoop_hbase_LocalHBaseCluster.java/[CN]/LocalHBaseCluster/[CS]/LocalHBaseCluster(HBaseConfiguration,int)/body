{
  super();
  this.conf=conf;
  doLocal(conf);
  this.master=new HMaster(conf);
  conf.set(MASTER_ADDRESS,this.master.getMasterAddress().toString());
  conf.set(REGIONSERVER_ADDRESS,DEFAULT_HOST + ":0");
  this.regionThreads=new ArrayList<RegionServerThread>();
  regionServerClass=(Class<? extends HRegionServer>)conf.getClass(HConstants.REGION_SERVER_IMPL,HRegionServer.class);
  for (int i=0; i < noRegionServers; i++) {
    addRegionServer();
  }
}
