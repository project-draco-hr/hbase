{
  Boolean result=new RetryableMetaOperation<Boolean>(this.metaRegion,this.master){
    public Boolean call() throws IOException {
      LOG.info(regionInfo.toString() + " open on " + serverAddress.toString());
      if (!metaRegionAvailable()) {
        return true;
      }
      LOG.info("updating row " + regionInfo.getRegionName() + " in table "+ metaRegionName+ " with startcode "+ Writables.bytesToLong(startCode)+ " and server "+ serverAddress.toString());
      BatchUpdate b=new BatchUpdate(regionInfo.getRegionName());
      b.put(COL_SERVER,Writables.stringToBytes(serverAddress.toString()));
      b.put(COL_STARTCODE,startCode);
      server.batchUpdate(metaRegionName,b);
      if (isMetaTable) {
        MetaRegion m=new MetaRegion(serverAddress,regionInfo.getRegionName(),regionInfo.getStartKey());
        if (!master.regionManager.isInitialMetaScanComplete()) {
          try {
            LOG.debug("Adding " + m.toString() + " to regions to scan");
            master.regionManager.addMetaRegionToScan(m);
          }
 catch (          InterruptedException e) {
            throw new RuntimeException("Putting into metaRegionsToScan was interrupted.",e);
          }
        }
 else {
          LOG.debug("Adding to onlineMetaRegions: " + m.toString());
          master.regionManager.putMetaRegionOnline(m);
        }
      }
      master.regionManager.noLongerPending(regionInfo.getRegionName());
      return true;
    }
  }
.doWithRetries();
  return result == null ? true : result;
}
