{
  RemoteProcedureException exception;
  if (proc.hasException()) {
    exception=proc.getException();
  }
 else {
    exception=null;
  }
  ProcedureInfo procInfo=new ProcedureInfo(proc.getProcId(),proc.toStringClass(),proc.getOwner(),proc.getState(),proc.hasParent() ? proc.getParentProcId() : -1,exception != null ? RemoteProcedureException.toProto(exception.getSource(),exception.getCause()) : null,proc.getLastUpdate(),proc.getStartTime(),proc.getResult());
  if (nonceKey != null) {
    procInfo.setNonceKey(nonceKey);
  }
  return procInfo;
}
