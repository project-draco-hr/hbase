{
  Table ht=null;
  try {
    ht=new HTable(conf,LABELS_TABLE_NAME);
    Batch.Call<VisibilityLabelsService,GetAuthsResponse> callable=new Batch.Call<VisibilityLabelsService,GetAuthsResponse>(){
      ServerRpcController controller=new ServerRpcController();
      BlockingRpcCallback<GetAuthsResponse> rpcCallback=new BlockingRpcCallback<GetAuthsResponse>();
      public GetAuthsResponse call(      VisibilityLabelsService service) throws IOException {
        GetAuthsRequest.Builder getAuthReqBuilder=GetAuthsRequest.newBuilder();
        getAuthReqBuilder.setUser(ByteStringer.wrap(Bytes.toBytes(user)));
        service.getAuths(controller,getAuthReqBuilder.build(),rpcCallback);
        return rpcCallback.get();
      }
    }
;
    Map<byte[],GetAuthsResponse> result=ht.coprocessorService(VisibilityLabelsService.class,HConstants.EMPTY_BYTE_ARRAY,HConstants.EMPTY_BYTE_ARRAY,callable);
    return result.values().iterator().next();
  }
  finally {
    if (ht != null) {
      ht.close();
    }
  }
}
