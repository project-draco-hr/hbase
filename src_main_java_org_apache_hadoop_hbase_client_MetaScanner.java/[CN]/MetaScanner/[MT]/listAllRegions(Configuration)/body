{
  final List<HRegionInfo> regions=new ArrayList<HRegionInfo>();
  MetaScannerVisitor visitor=new MetaScannerVisitor(){
    @Override public boolean processRow(    Result result) throws IOException {
      if (result == null || result.isEmpty()) {
        return true;
      }
      HRegionInfo regionInfo=Writables.getHRegionInfo(result.getValue(HConstants.CATALOG_FAMILY,HConstants.REGIONINFO_QUALIFIER));
      regions.add(regionInfo);
      return true;
    }
  }
;
  metaScan(conf,visitor);
  return regions;
}
