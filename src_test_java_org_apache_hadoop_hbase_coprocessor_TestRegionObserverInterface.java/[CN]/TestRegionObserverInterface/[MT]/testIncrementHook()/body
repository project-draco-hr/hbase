{
  HTable table=new HTable(util.getConfiguration(),TEST_TABLE_2);
  Increment inc=new Increment(Bytes.toBytes(0));
  inc.addColumn(TEST_FAMILY,TEST_QUALIFIER,1);
  table.increment(inc);
  for (  JVMClusterUtil.RegionServerThread t : cluster.getRegionServerThreads()) {
    for (    HRegionInfo r : t.getRegionServer().getOnlineRegions()) {
      if (!Arrays.equals(r.getTableDesc().getName(),TEST_TABLE_2)) {
        continue;
      }
      RegionCoprocessorHost cph=t.getRegionServer().getOnlineRegion(r.getRegionName()).getCoprocessorHost();
      Coprocessor c=cph.findCoprocessor(SimpleRegionObserver.class.getName());
      assertTrue(((SimpleRegionObserver)c).hadPreIncrement());
      assertTrue(((SimpleRegionObserver)c).hadPostIncrement());
    }
  }
}
