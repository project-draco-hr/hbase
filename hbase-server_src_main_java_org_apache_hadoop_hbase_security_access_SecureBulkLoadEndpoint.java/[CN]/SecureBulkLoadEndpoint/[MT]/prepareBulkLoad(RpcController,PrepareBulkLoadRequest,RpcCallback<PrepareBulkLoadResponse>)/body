{
  try {
    if (userProvider.isHBaseSecurityEnabled()) {
      getAccessController().prePrepareBulkLoad(env);
    }
    String bulkToken=createStagingDir(baseStagingDir,getActiveUser(),ProtobufUtil.toTableName(request.getTableName())).toString();
    done.run(PrepareBulkLoadResponse.newBuilder().setBulkToken(bulkToken).build());
  }
 catch (  IOException e) {
    ResponseConverter.setControllerException(controller,e);
  }
  done.run(null);
}
