{
  try {
    List<BulkLoadObserver> bulkLoadObservers=getBulkLoadObservers();
    if (bulkLoadObservers != null) {
      ObserverContext<RegionCoprocessorEnvironment> ctx=new ObserverContext<RegionCoprocessorEnvironment>();
      ctx.prepare(env);
      for (      BulkLoadObserver bulkLoadObserver : bulkLoadObservers) {
        bulkLoadObserver.prePrepareBulkLoad(ctx,request);
      }
    }
    String bulkToken=createStagingDir(baseStagingDir,getActiveUser(),ProtobufUtil.toTableName(request.getTableName())).toString();
    done.run(PrepareBulkLoadResponse.newBuilder().setBulkToken(bulkToken).build());
  }
 catch (  IOException e) {
    ResponseConverter.setControllerException(controller,e);
  }
  done.run(null);
}
