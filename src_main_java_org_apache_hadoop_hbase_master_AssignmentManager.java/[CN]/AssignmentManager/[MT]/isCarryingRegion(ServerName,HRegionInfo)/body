{
  RegionTransitionData data=null;
  try {
    data=ZKAssign.getData(master.getZooKeeper(),hri.getEncodedName());
  }
 catch (  KeeperException e) {
    master.abort("Unexpected ZK exception reading unassigned node for region=" + hri.getEncodedName(),e);
  }
  ServerName addressFromZK=(data != null && data.getOrigin() != null) ? data.getOrigin() : null;
  if (addressFromZK != null) {
    boolean matchZK=(addressFromZK != null && addressFromZK.equals(serverName));
    LOG.debug("based on ZK, current region=" + hri.getRegionNameAsString() + " is on server="+ addressFromZK+ " server being checked=: "+ serverName);
    return matchZK;
  }
  ServerName addressFromAM=getRegionServerOfRegion(hri);
  boolean matchAM=(addressFromAM != null && addressFromAM.equals(serverName));
  LOG.debug("based on AM, current region=" + hri.getRegionNameAsString() + " is on server="+ (addressFromAM != null ? addressFromAM : "null")+ " server being checked: "+ serverName);
  return matchAM;
}
