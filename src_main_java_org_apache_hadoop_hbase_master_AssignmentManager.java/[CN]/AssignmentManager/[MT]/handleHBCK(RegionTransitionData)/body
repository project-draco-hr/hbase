{
  String encodedName=HRegionInfo.encodeRegionName(data.getRegionName());
  LOG.info("Handling HBCK triggered transition=" + data.getEventType() + ", server="+ data.getOrigin()+ ", region="+ HRegionInfo.prettyPrint(encodedName));
  RegionState regionState=regionsInTransition.get(encodedName);
switch (data.getEventType()) {
case M_ZK_REGION_OFFLINE:
    HRegionInfo regionInfo=null;
  if (regionState != null) {
    regionInfo=regionState.getRegion();
  }
 else {
    try {
      regionInfo=MetaReader.getRegion(catalogTracker,data.getRegionName()).getFirst();
    }
 catch (    IOException e) {
      LOG.info("Exception reading META doing HBCK repair operation",e);
      return;
    }
  }
LOG.info("HBCK repair is triggering assignment of region=" + regionInfo.getRegionNameAsString());
assign(regionInfo,false);
break;
default :
LOG.warn("Received unexpected region state from HBCK (" + data.getEventType() + ")");
break;
}
}
