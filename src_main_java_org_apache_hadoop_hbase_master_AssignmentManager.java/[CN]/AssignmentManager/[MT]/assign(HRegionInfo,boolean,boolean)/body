{
  String tableName=region.getTableNameAsString();
  boolean disabled=this.zkTable.isDisabledTable(tableName);
  if (disabled || this.zkTable.isDisablingTable(tableName)) {
    LOG.info("Table " + tableName + (disabled ? " disabled;" : " disabling;")+ " skipping assign of "+ region.getRegionNameAsString());
    offlineDisabledRegion(region);
    return;
  }
  if (this.serverManager.isClusterShutdown()) {
    LOG.info("Cluster shutdown is set; skipping assign of " + region.getRegionNameAsString());
    return;
  }
  RegionState state=addToRegionsInTransition(region);
synchronized (state) {
    assign(state,setOfflineInZK,forceNewPlan);
  }
}
