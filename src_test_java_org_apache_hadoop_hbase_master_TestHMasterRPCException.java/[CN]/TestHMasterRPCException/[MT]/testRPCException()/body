{
  HBaseTestingUtility TEST_UTIL=new HBaseTestingUtility();
  TEST_UTIL.startMiniZKCluster();
  HMaster hm=new HMaster(TEST_UTIL.getConfiguration());
  HServerAddress hma=hm.getMasterAddress();
  try {
    HMasterInterface inf=(HMasterInterface)HBaseRPC.getProxy(HMasterInterface.class,HBaseRPCProtocolVersion.versionID,hma.getInetSocketAddress(),TEST_UTIL.getConfiguration(),100);
    inf.isMasterRunning();
    fail();
  }
 catch (  RemoteException ex) {
    assertTrue(ex.getMessage().startsWith("org.apache.hadoop.hbase.ipc.ServerNotRunningException: Server is not running yet"));
  }
catch (  Throwable t) {
    fail("Unexpected throwable: " + t);
  }
}
