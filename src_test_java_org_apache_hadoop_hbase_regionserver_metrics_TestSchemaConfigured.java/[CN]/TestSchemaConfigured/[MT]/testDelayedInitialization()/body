{
  SchemaConfigured unconfigured=new SchemaConfigured();
  try {
    unconfigured.getSchemaMetrics();
    fail(IllegalStateException.class.getSimpleName() + " expected");
  }
 catch (  IllegalStateException ex) {
    assertTrue("Unexpected exception message: " + ex.getMessage(),Pattern.matches(".* metrics requested before .* initialization.*",ex.getMessage()));
    LOG.debug("Expected exception: " + ex.getMessage());
  }
  SchemaMetrics.setUseTableNameInTest(false);
  SchemaConfigured other=new SchemaConfigured(null,TABLE_NAME,CF_NAME);
  other.passSchemaMetricsTo(unconfigured);
  unconfigured.getSchemaMetrics();
}
