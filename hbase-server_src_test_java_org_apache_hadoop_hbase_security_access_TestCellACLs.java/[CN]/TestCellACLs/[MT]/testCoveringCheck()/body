{
  grantOnTable(TEST_UTIL,USER_OTHER.getShortName(),TEST_TABLE.getTableName(),TEST_FAMILY,null,Action.READ);
  verifyDenied(new AccessTestAction(){
    @Override public Object run() throws Exception {
      try (Connection connection=ConnectionFactory.createConnection(conf);Table t=connection.getTable(TEST_TABLE.getTableName())){
        Put p;
        p=new Put(TEST_ROW).add(TEST_FAMILY,TEST_Q1,ZERO);
        t.put(p);
      }
       return null;
    }
  }
,USER_OTHER);
  verifyAllowed(new AccessTestAction(){
    @Override public Object run() throws Exception {
      try (Connection connection=ConnectionFactory.createConnection(conf);Table t=connection.getTable(TEST_TABLE.getTableName())){
        Put p;
        p=new Put(TEST_ROW).add(TEST_FAMILY,TEST_Q1,ZERO);
        t.put(p);
      }
       return null;
    }
  }
,USER_OWNER);
  verifyDenied(new AccessTestAction(){
    @Override public Object run() throws Exception {
      try (Connection connection=ConnectionFactory.createConnection(conf);Table t=connection.getTable(TEST_TABLE.getTableName())){
        Put p;
        p=new Put(TEST_ROW).add(TEST_FAMILY,TEST_Q1,ONE);
        t.put(p);
      }
       return null;
    }
  }
,USER_OTHER);
  verifyAllowed(new AccessTestAction(){
    @Override public Object run() throws Exception {
      try (Connection connection=ConnectionFactory.createConnection(conf);Table t=connection.getTable(TEST_TABLE.getTableName())){
        return t.get(new Get(TEST_ROW).addColumn(TEST_FAMILY,TEST_Q1));
      }
     }
  }
,USER_OTHER);
}
