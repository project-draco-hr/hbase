{
  AccessControlProtos.Permission.Builder permissionBuilder=AccessControlProtos.Permission.newBuilder();
  for (  AccessControlProtos.Permission.Action a : actions) {
    permissionBuilder.addAction(a);
  }
  if (tableName != null) {
    permissionBuilder.setTableName(ProtobufUtil.toProtoTableName(tableName));
  }
  if (family != null) {
    permissionBuilder.setFamily(ByteString.copyFrom(family));
  }
  if (qualifier != null) {
    permissionBuilder.setQualifier(ByteString.copyFrom(qualifier));
  }
  return AccessControlProtos.RevokeRequest.newBuilder().setPermission(AccessControlProtos.UserPermission.newBuilder().setUser(ByteString.copyFromUtf8(username)).setPermission(permissionBuilder.build())).build();
}
