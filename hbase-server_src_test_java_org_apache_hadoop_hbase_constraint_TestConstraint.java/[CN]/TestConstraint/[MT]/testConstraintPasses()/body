{
  HTableDescriptor desc=new HTableDescriptor(TableName.valueOf(tableName));
  for (  byte[] family : new byte[][]{dummy,test}) {
    desc.addFamily(new HColumnDescriptor(family));
  }
  Constraints.add(desc,CheckWasRunConstraint.class);
  util.getHBaseAdmin().createTable(desc);
  HTable table=new HTable(util.getConfiguration(),tableName);
  try {
    Put put=new Put(row1);
    byte[] value=Integer.toString(10).getBytes();
    put.add(dummy,new byte[0],value);
    table.put(put);
  }
  finally {
    table.close();
  }
  assertTrue(CheckWasRunConstraint.wasRun);
}
