{
  LOG.info("Start testInstantSchemaChangeWhileMasterFailover()");
  final String tableName="testInstantSchemaChangeWhileMasterFailover";
  HTable ht=createTableAndValidate(tableName);
  HColumnDescriptor hcd=new HColumnDescriptor("family2");
  admin.addColumn(Bytes.toBytes(tableName),hcd);
  Thread.sleep(50);
  miniHBaseCluster.getMaster().abort("Aborting master now",new Exception("Schema exception"));
  Thread.sleep(25000);
  Put put2=new Put(row);
  put2.add(Bytes.toBytes("family2"),qualifier,value);
  ht.put(put2);
  Get get2=new Get(row);
  get2.addColumn(Bytes.toBytes("family2"),qualifier);
  Result r2=ht.get(get2);
  byte[] tvalue2=r2.getValue(Bytes.toBytes("family2"),qualifier);
  int result2=Bytes.compareTo(value,tvalue2);
  assertEquals(result2,0);
  LOG.info("result2 = " + result2);
  LOG.info("end testInstantSchemaChangeWhileMasterFailover()");
}
