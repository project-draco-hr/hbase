{
  LOG.info("Start testInstantSchemaChangeWhileRandomRSCrashAndStart()");
  miniHBaseCluster.getRegionServer(4).abort("Killing RS 4");
  Thread.sleep(10000);
  final String tableName="testInstantSchemaChangeWhileRandomRSCrashAndStart";
  HTable ht=createTableAndValidate(tableName);
  HColumnDescriptor hcd=new HColumnDescriptor("family2");
  admin.addColumn(Bytes.toBytes(tableName),hcd);
  miniHBaseCluster.getRegionServer(2).abort("Killing RS 2");
  Thread.sleep(10000);
  waitForSchemaChangeProcess(tableName);
  assertFalse(msct.doesSchemaChangeNodeExists(tableName));
  Put put2=new Put(row);
  put2.add(Bytes.toBytes("family2"),qualifier,value);
  ht.put(put2);
  Get get2=new Get(row);
  get2.addColumn(Bytes.toBytes("family2"),qualifier);
  Result r2=ht.get(get2);
  byte[] tvalue2=r2.getValue(Bytes.toBytes("family2"),qualifier);
  int result2=Bytes.compareTo(value,tvalue2);
  assertEquals(result2,0);
  LOG.info("result2 = " + result2);
  LOG.info("end testInstantSchemaChangeWhileRandomRSCrashAndStart()");
  ht.close();
}
