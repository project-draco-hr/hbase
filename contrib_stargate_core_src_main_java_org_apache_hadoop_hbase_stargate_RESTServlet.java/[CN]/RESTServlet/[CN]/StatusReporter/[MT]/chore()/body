{
  if (wrapper != null)   try {
    JSONStringer status=new JSONStringer();
    status.object();
    status.key("requests").value(metrics.getRequests());
    status.key("connectors").array();
    for (    Pair<String,Integer> e : connectors) {
      status.object().key("host").value(e.getFirst()).key("port").value(e.getSecond()).endObject();
    }
    status.endArray();
    status.endObject();
    updateNode(wrapper,znode,CreateMode.EPHEMERAL,Bytes.toBytes(status.toString()));
  }
 catch (  Exception e) {
    LOG.error(StringUtils.stringifyException(e));
  }
}
