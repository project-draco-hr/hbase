{
  HTableDescriptor htd=hris.get(0).getTableDesc();
  byte[] familyName=familyDesc.getName();
  if (htd.hasFamily(familyName)) {
    throw new InvalidFamilyOperationException("Family '" + Bytes.toString(familyName) + "' already exists so "+ "cannot be added");
  }
  for (  HRegionInfo hri : hris) {
    hri.getTableDesc().addFamily(familyDesc);
    MetaEditor.updateRegionInfo(this.server.getCatalogTracker(),hri);
    this.masterServices.getMasterFileSystem().updateRegionInfo(hri);
  }
}
