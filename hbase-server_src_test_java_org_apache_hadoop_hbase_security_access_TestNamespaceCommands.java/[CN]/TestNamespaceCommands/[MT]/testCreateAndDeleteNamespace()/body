{
  AccessTestAction createNamespace=new AccessTestAction(){
    public Object run() throws Exception {
      ACCESS_CONTROLLER.preCreateNamespace(ObserverContext.createAndPrepare(CP_ENV,null),NamespaceDescriptor.create(TestNamespace2).build());
      return null;
    }
  }
;
  AccessTestAction deleteNamespace=new AccessTestAction(){
    public Object run() throws Exception {
      ACCESS_CONTROLLER.preDeleteNamespace(ObserverContext.createAndPrepare(CP_ENV,null),TestNamespace2);
      return null;
    }
  }
;
  verifyAllowed(createNamespace,SUPERUSER);
  verifyAllowed(deleteNamespace,SUPERUSER,USER_NSP_ADMIN);
  verifyDenied(createNamespace,USER_NSP_WRITE,USER_CREATE,USER_RW,USER_NSP_ADMIN);
  verifyDenied(deleteNamespace,USER_NSP_WRITE,USER_CREATE,USER_RW);
}
