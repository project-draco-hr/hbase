{
synchronized (pipeline) {
    LinkedList<ImmutableSegment> segmentList=new LinkedList<ImmutableSegment>(pipeline);
    VersionedSegmentsList res=new VersionedSegmentsList(segmentList,version);
    return res;
  }
}
