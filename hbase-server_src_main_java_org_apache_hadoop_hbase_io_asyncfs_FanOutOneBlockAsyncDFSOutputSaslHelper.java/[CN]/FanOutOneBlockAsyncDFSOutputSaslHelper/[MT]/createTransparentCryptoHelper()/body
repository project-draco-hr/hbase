{
  Class<?> feInfoClass;
  try {
    feInfoClass=Class.forName("org.apache.hadoop.fs.FileEncryptionInfo");
  }
 catch (  ClassNotFoundException e) {
    LOG.warn("No FileEncryptionInfo class found, should be hadoop 2.5-");
    return createTransparentCryptoHelper25();
  }
  try {
    return createTransparentCryptoHelper27(feInfoClass);
  }
 catch (  NoSuchMethodException|ClassNotFoundException e) {
    throw new Error(e);
  }
}
