{
  MetricsRecordBuilder rb=metricsCollector.addRecord(this.metricsName).setContext(metricsContext);
  for (  Map.Entry<String,MutableCounterLong> entry : counters.entrySet()) {
    entry.getValue().snapshot(rb,all);
  }
  for (  Map.Entry<String,MutableGaugeLong> entry : gauges.entrySet()) {
    entry.getValue().snapshot(rb,all);
  }
}
