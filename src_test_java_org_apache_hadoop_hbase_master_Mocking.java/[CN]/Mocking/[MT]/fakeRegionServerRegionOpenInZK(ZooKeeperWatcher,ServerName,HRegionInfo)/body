{
  while (!verifyRegionState(w,hri,EventType.M_ZK_REGION_OFFLINE)) {
    Threads.sleep(1);
  }
  int versionid=ZKAssign.getVersion(w,hri);
  assertNotSame(-1,versionid);
  versionid=ZKAssign.transitionNode(w,hri,sn,EventType.M_ZK_REGION_OFFLINE,EventType.RS_ZK_REGION_OPENING,versionid);
  assertNotSame(-1,versionid);
  versionid=ZKAssign.transitionNodeOpened(w,hri,sn,versionid);
  assertNotSame(-1,versionid);
}
