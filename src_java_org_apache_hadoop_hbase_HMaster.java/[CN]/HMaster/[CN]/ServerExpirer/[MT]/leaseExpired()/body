{
  LOG.info(server + " lease expired");
  HServerInfo info;
synchronized (serversToServerInfo) {
    info=serversToServerInfo.remove(server);
    if (info != null) {
      String serverName=info.getServerAddress().toString();
      HServerLoad load=serversToLoad.remove(serverName);
      if (load != null) {
        Set<String> servers=loadToServers.get(load);
        if (servers != null) {
          servers.remove(serverName);
          loadToServers.put(load,servers);
        }
      }
    }
    serversToServerInfo.notifyAll();
  }
  try {
    if (info != null) {
      msgQueue.put(new PendingServerShutdown(info));
    }
  }
 catch (  InterruptedException e) {
    LOG.warn("MsgQueue.put was interrupted (If we are exiting, this msg " + "can be ignored");
  }
}
