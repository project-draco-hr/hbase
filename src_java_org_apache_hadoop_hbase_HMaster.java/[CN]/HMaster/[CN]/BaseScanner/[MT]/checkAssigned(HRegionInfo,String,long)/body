{
  if (info.offLine || killedRegions.contains(info.regionName) || regionsToDelete.contains(info.regionName)) {
    unassignedRegions.remove(info.regionName);
    assignAttempts.remove(info.regionName);
    return;
  }
  HServerInfo storedInfo=null;
  if (serverName.length() != 0) {
    Map<Text,HRegionInfo> regionsToKill=killList.get(serverName);
    if (regionsToKill != null && regionsToKill.containsKey(info.regionName)) {
      if (LOG.isDebugEnabled()) {
        LOG.debug("not assigning region (on kill list): " + info.regionName);
      }
      return;
    }
synchronized (serversToServerInfo) {
      storedInfo=serversToServerInfo.get(serverName);
    }
  }
  if (!(unassignedRegions.containsKey(info.regionName) || pendingRegions.contains(info.regionName)) && (storedInfo == null || storedInfo.getStartCode() != startCode)) {
    unassignedRegions.put(info.regionName,info);
    assignAttempts.put(info.regionName,Long.valueOf(0L));
  }
}
