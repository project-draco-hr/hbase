{
  while (!closed) {
    PendingOperation op=null;
synchronized (msgQueue) {
      while (msgQueue.size() == 0) {
        try {
          msgQueue.wait();
        }
 catch (        InterruptedException iex) {
        }
      }
      op=msgQueue.remove(msgQueue.size() - 1);
    }
    try {
      op.process();
    }
 catch (    Exception ex) {
      msgQueue.insertElementAt(op,0);
    }
  }
}
