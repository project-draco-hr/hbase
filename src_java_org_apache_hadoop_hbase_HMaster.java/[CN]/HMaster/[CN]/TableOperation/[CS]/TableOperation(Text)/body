{
  if (!isMasterRunning()) {
    throw new MasterNotRunningException();
  }
  this.metaRegions=new TreeSet<MetaRegion>();
  this.tableName=tableName;
  this.unservedRegions=new TreeSet<HRegionInfo>();
  if (metaScanner.waitForMetaScanOrClose()) {
    return;
  }
  Text firstMetaRegion=null;
  if (knownMetaRegions.size() == 1) {
    firstMetaRegion=knownMetaRegions.firstKey();
  }
 else   if (knownMetaRegions.containsKey(tableName)) {
    firstMetaRegion=tableName;
  }
 else {
    firstMetaRegion=knownMetaRegions.headMap(tableName).lastKey();
  }
  this.metaRegions.addAll(knownMetaRegions.tailMap(firstMetaRegion).values());
}
