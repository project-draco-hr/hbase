{
  if (LOG.isDebugEnabled()) {
    LOG.debug("Running ROOT scanner");
  }
  try {
    while (!closed) {
      if (waitForRootRegionOrClose()) {
        continue;
      }
synchronized (rootScannerLock) {
        rootScanned=false;
        MetaRegion mr=new MetaRegion();
        mr.regionName=HGlobals.rootRegionInfo.regionName;
        mr.server=HMaster.this.rootRegionLocation;
        mr.startKey=null;
        if (scanRegion(mr)) {
          numMetaRegions+=1;
        }
        rootScanned=true;
      }
      try {
        if (LOG.isDebugEnabled()) {
          LOG.debug("RootScanner going to sleep");
        }
        Thread.sleep(metaRescanInterval);
        if (LOG.isDebugEnabled()) {
          LOG.debug("RootScanner woke up");
        }
      }
 catch (      InterruptedException e) {
      }
    }
  }
 catch (  IOException e) {
    LOG.error(e);
    closed=true;
  }
  LOG.debug("ROOT scanner exiting");
}
