{
  ByteArrayOutputStream byteValue=new ByteArrayOutputStream();
  DataOutputStream s=new DataOutputStream(byteValue);
  i.write(s);
  long lockid=-1L;
  long clientId=rand.nextLong();
  try {
    lockid=server.startUpdate(regionName,clientId,i.regionName);
    server.put(regionName,clientId,lockid,COL_REGIONINFO,new BytesWritable(byteValue.toByteArray()));
    server.commit(regionName,clientId,lockid);
    lockid=-1L;
    if (LOG.isDebugEnabled()) {
      LOG.debug("updated columns in row: " + i.regionName);
    }
  }
 catch (  NotServingRegionException e) {
    throw e;
  }
catch (  IOException e) {
    LOG.error("column update failed in row: " + i.regionName);
    LOG.error(e);
  }
 finally {
    if (lockid != -1L) {
      try {
        server.abort(regionName,clientId,lockid);
      }
 catch (      IOException iex) {
        LOG.error(iex);
      }
    }
  }
}
