{
  String server=serverInfo.getServerAddress().toString();
synchronized (serversToServerInfo) {
    HServerInfo storedInfo=serversToServerInfo.get(server);
    if (storedInfo == null) {
      HMsg returnMsgs[]=new HMsg[1];
      returnMsgs[0]=new HMsg(HMsg.MSG_CALL_SERVER_STARTUP);
      return returnMsgs;
    }
 else     if (storedInfo.getStartCode() != serverInfo.getStartCode()) {
      HMsg returnMsgs[]=new HMsg[1];
      returnMsgs[0]=new HMsg(HMsg.MSG_REGIONSERVER_ALREADY_RUNNING);
      return returnMsgs;
    }
 else {
      Text serverLabel=new Text(server);
      serverLeases.renewLease(serverLabel,serverLabel);
      serversToServerInfo.put(server,serverInfo);
      return processMsgs(serverInfo,msgs);
    }
  }
}
