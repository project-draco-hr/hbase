{
  String threadName=Thread.currentThread().getName();
  try {
    Threads.setDaemonThreadRunning(this.rootScannerThread,threadName + ".rootScanner");
    Threads.setDaemonThreadRunning(this.metaScannerThread,threadName + ".metaScanner");
    this.serverLeases.setName(threadName + ".leaseChecker");
    this.serverLeases.start();
    this.server.start();
  }
 catch (  IOException e) {
    if (e instanceof RemoteException) {
      try {
        e=RemoteExceptionHandler.decodeRemoteException((RemoteException)e);
      }
 catch (      IOException ex) {
        LOG.warn("thread start",ex);
      }
    }
    this.closed.set(true);
    LOG.error("Failed startup",e);
  }
}
