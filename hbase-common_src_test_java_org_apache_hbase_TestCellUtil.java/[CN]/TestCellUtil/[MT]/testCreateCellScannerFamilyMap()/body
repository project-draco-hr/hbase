{
  final int count=3;
  final NavigableMap<byte[],List<? extends Cell>> map=new TreeMap<byte[],List<? extends Cell>>(Bytes.BYTES_COMPARATOR);
  for (int i=0; i < count; i++) {
    byte[] key=Bytes.toBytes(i);
    KeyValue[] cs=getCells(count,key);
    map.put(key,Arrays.asList(cs));
  }
  CellScanner scanner=CellUtil.createCellScanner(map);
  int i=0;
  while (scanner.advance()) {
    i++;
  }
  assertEquals(count * count,i);
}
