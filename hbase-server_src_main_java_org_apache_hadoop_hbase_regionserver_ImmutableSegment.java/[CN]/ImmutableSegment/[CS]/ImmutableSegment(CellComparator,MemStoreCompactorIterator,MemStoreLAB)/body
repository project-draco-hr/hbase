{
  super(new CellSet(comparator),comparator,memStoreLAB,CompactingMemStore.DEEP_OVERHEAD_PER_PIPELINE_SKIPLIST_ITEM,ClassSize.CONCURRENT_SKIPLISTMAP_ENTRY);
  while (iterator.hasNext()) {
    Cell c=iterator.next();
    Cell newKV=maybeCloneWithAllocator(c);
    boolean usedMSLAB=(newKV != c);
    internalAdd(newKV,usedMSLAB);
  }
  type=Type.SKIPLIST_MAP_BASED;
  TimeRangeTracker trt=getTimeRangeTracker();
  this.timeRange=trt == null ? null : trt.toTimeRange();
}
