{
switch (type) {
case SKIPLIST_MAP_BASED:
    return size.get() - CompactingMemStore.DEEP_OVERHEAD_PER_PIPELINE_SKIPLIST_ITEM;
case ARRAY_MAP_BASED:
  return size.get() - CompactingMemStore.DEEP_OVERHEAD_PER_PIPELINE_CELL_ARRAY_ITEM;
default :
throw new IllegalStateException();
}
}
