{
  Cell[] cells=new Cell[numOfCells];
  int i=0;
  while (iterator.hasNext()) {
    Cell c=iterator.next();
    cells[i]=maybeCloneWithAllocator(c);
    boolean usedMSLAB=(cells[i] != c);
    updateMetaInfo(c,true,usedMSLAB);
    i++;
  }
  CellArrayMap cam=new CellArrayMap(getComparator(),cells,0,i,false);
  return new CellSet(cam);
}
