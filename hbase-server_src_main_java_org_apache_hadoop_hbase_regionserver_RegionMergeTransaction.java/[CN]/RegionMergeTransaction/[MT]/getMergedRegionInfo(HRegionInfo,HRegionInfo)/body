{
  long rid=EnvironmentEdgeManager.currentTimeMillis();
  if (rid < a.getRegionId() || rid < b.getRegionId()) {
    LOG.warn("Clock skew; merging regions id are " + a.getRegionId() + " and "+ b.getRegionId()+ ", but current time here is "+ rid);
    rid=Math.max(a.getRegionId(),b.getRegionId()) + 1;
  }
  byte[] startKey=null;
  byte[] endKey=null;
  if (a.compareTo(b) <= 0) {
    startKey=a.getStartKey();
  }
 else {
    startKey=b.getStartKey();
  }
  if (a.getComparator().matchingRows(a.getEndKey(),0,a.getEndKey().length,HConstants.EMPTY_BYTE_ARRAY,0,HConstants.EMPTY_BYTE_ARRAY.length) || a.getComparator().compareRows(a.getEndKey(),0,a.getEndKey().length,b.getEndKey(),0,b.getEndKey().length) > 0) {
    endKey=a.getEndKey();
  }
 else {
    endKey=b.getEndKey();
  }
  HRegionInfo mergedRegionInfo=new HRegionInfo(a.getTableName(),startKey,endKey,false,rid);
  return mergedRegionInfo;
}
