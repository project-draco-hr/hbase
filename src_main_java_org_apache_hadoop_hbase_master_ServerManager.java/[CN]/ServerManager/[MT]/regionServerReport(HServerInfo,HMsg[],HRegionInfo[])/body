{
  HServerInfo info=new HServerInfo(serverInfo);
  checkIsDead(info.getServerName(),"REPORT");
  HServerInfo storedInfo=this.onlineServers.get(info.getServerName());
  if (storedInfo == null) {
    LOG.warn("Received report from unknown server -- telling it " + "to " + HMsg.Type.STOP_REGIONSERVER + ": "+ info.getServerName());
    return HMsg.STOP_REGIONSERVER_ARRAY;
  }
  if (raceThatShouldNotHappenAnymore(storedInfo,info)) {
    return HMsg.STOP_REGIONSERVER_ARRAY;
  }
  for (  HMsg msg : msgs) {
    LOG.info("Received " + msg);
switch (msg.getType()) {
case REGION_SPLIT:
      this.services.getAssignmentManager().handleSplitReport(serverInfo,msg.getRegionInfo(),msg.getDaughterA(),msg.getDaughterB());
    break;
default :
  LOG.error("Unhandled msg type " + msg);
}
}
HMsg[] reply=null;
int numservers=numServers();
if (this.clusterShutdown) {
if (numservers <= 2) {
reply=HMsg.STOP_REGIONSERVER_ARRAY;
}
}
return processRegionServerAllsWell(info,mostLoadedRegions,reply);
}
