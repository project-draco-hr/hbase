{
  if (all || changed()) {
    clearChanged();
    final Snapshot s=sample.getSnapshot();
    metricsRecordBuilder.addCounter(Interns.info(name + NUM_OPS_METRIC_NAME,desc),count.get());
    metricsRecordBuilder.addGauge(Interns.info(name + MIN_METRIC_NAME,desc),getMin());
    metricsRecordBuilder.addGauge(Interns.info(name + MAX_METRIC_NAME,desc),getMax());
    metricsRecordBuilder.addGauge(Interns.info(name + MEAN_METRIC_NAME,desc),getMean());
    metricsRecordBuilder.addGauge(Interns.info(name + MEDIAN_METRIC_NAME,desc),s.getMedian());
    metricsRecordBuilder.addGauge(Interns.info(name + SEVENTY_FIFTH_PERCENTILE_METRIC_NAME,desc),s.get75thPercentile());
    metricsRecordBuilder.addGauge(Interns.info(name + NINETY_FIFTH_PERCENTILE_METRIC_NAME,desc),s.get95thPercentile());
    metricsRecordBuilder.addGauge(Interns.info(name + NINETY_NINETH_PERCENTILE_METRIC_NAME,desc),s.get99thPercentile());
  }
}
