{
  StorageClusterStatus.Builder builder=StorageClusterStatus.newBuilder();
  builder.setRegions(regions);
  builder.setRequests(requests);
  builder.setAverageLoad(averageLoad);
  for (  Node node : liveNodes) {
    StorageClusterStatus.Node.Builder nodeBuilder=StorageClusterStatus.Node.newBuilder();
    nodeBuilder.setName(node.name);
    nodeBuilder.setStartCode(node.startCode);
    nodeBuilder.setRequests(node.requests);
    for (    Node.Region region : node.regions) {
      nodeBuilder.addRegions(ByteString.copyFrom(region.name));
    }
    builder.addLiveNodes(nodeBuilder);
  }
  for (  String node : deadNodes) {
    builder.addDeadNodes(node);
  }
  return builder.build().toByteArray();
}
