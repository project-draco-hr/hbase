{
  long start=System.currentTimeMillis();
  log("blocking until region is split:" + Bytes.toStringBinary(regionName));
  HRegionInfo daughterA=null, daughterB=null;
  while (System.currentTimeMillis() - start < timeout) {
    Result result=getRegionRow(regionName);
    if (result == null) {
      break;
    }
    HRegionInfo region=HRegionInfo.getHRegionInfo(result);
    if (region.isSplitParent()) {
      log("found parent region: " + region.toString());
      PairOfSameType<HRegionInfo> pair=HRegionInfo.getDaughterRegions(result);
      daughterA=pair.getFirst();
      daughterB=pair.getSecond();
      break;
    }
    sleep(100);
  }
  if (waitForDaughters) {
    long rem=timeout - (System.currentTimeMillis() - start);
    blockUntilRegionIsInMeta(rem,daughterA.getRegionName());
    rem=timeout - (System.currentTimeMillis() - start);
    blockUntilRegionIsInMeta(rem,daughterB.getRegionName());
    rem=timeout - (System.currentTimeMillis() - start);
    blockUntilRegionIsOpenedByRS(rem,daughterA.getRegionName());
    rem=timeout - (System.currentTimeMillis() - start);
    blockUntilRegionIsOpenedByRS(rem,daughterB.getRegionName());
  }
}
