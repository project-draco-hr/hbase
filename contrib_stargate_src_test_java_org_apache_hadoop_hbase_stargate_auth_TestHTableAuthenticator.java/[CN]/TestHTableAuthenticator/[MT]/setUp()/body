{
  super.setUp();
  HBaseAdmin admin=new HBaseAdmin(conf);
  if (!admin.tableExists(TABLE)) {
    HTableDescriptor htd=new HTableDescriptor(TABLE);
    htd.addFamily(new HColumnDescriptor(USER));
    admin.createTable(htd);
    HTable table=new HTable(conf,TABLE);
    Put put=new Put(Bytes.toBytes(ADMIN_TOKEN));
    put.add(USER,NAME,Bytes.toBytes(ADMIN_USERNAME));
    put.add(USER,ADMIN,Bytes.toBytes(true));
    table.put(put);
    put=new Put(Bytes.toBytes(USER_TOKEN));
    put.add(USER,NAME,Bytes.toBytes(USER_USERNAME));
    put.add(USER,ADMIN,Bytes.toBytes(false));
    table.put(put);
    put=new Put(Bytes.toBytes(DISABLED_TOKEN));
    put.add(USER,NAME,Bytes.toBytes(DISABLED_USERNAME));
    put.add(USER,DISABLED,Bytes.toBytes(true));
    table.put(put);
    table.flushCommits();
  }
  authenticator=new HTableAuthenticator(conf,TABLE);
}
