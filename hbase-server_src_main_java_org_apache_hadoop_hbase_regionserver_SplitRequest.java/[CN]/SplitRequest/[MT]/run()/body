{
  if (this.server.isStopping() || this.server.isStopped()) {
    LOG.debug("Skipping split because server is stopping=" + this.server.isStopping() + " or stopped="+ this.server.isStopped());
    return;
  }
  if (this.user == null)   doSplitting();
 else {
    try {
      user.getUGI().doAs(new PrivilegedExceptionAction<Void>(){
        @Override public Void run() throws Exception {
          doSplitting();
          return null;
        }
      }
);
    }
 catch (    InterruptedException ie) {
      Thread.currentThread().interrupt();
    }
catch (    IOException ioe) {
      LOG.error("Encountered exception while splitting",ioe);
    }
  }
}
