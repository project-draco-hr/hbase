{
  StringBuffer sb=new StringBuffer();
  sb.append('/');
  if (accessToken != null) {
    sb.append(accessToken);
    sb.append('/');
  }
  sb.append(Bytes.toStringBinary(name));
  sb.append('/');
  sb.append("scanner");
  try {
    ScannerModel model=ScannerModel.fromScan(scan);
    Response response=client.post(sb.toString(),Constants.MIMETYPE_PROTOBUF,model.createProtobufOutput());
    if (response.getCode() != 201) {
      throw new IOException("scan request failed with " + response.getCode());
    }
    uri=response.getLocation();
  }
 catch (  Exception e) {
    throw new IOException(e);
  }
}
