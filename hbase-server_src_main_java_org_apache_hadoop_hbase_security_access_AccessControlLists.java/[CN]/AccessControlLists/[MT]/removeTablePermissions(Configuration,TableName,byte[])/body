{
  if (LOG.isDebugEnabled()) {
    LOG.debug("Removing permissions of removed column " + Bytes.toString(column) + " from table "+ tableName);
  }
  Table acls=null;
  try {
    acls=new HTable(conf,ACL_TABLE_NAME);
    Scan scan=new Scan();
    scan.addFamily(ACL_LIST_FAMILY);
    String columnName=Bytes.toString(column);
    scan.setFilter(new QualifierFilter(CompareOp.EQUAL,new RegexStringComparator(String.format("(%s%s%s)|(%s%s)$",ACL_KEY_DELIMITER,columnName,ACL_KEY_DELIMITER,ACL_KEY_DELIMITER,columnName))));
    Set<byte[]> qualifierSet=new TreeSet<byte[]>(Bytes.BYTES_COMPARATOR);
    ResultScanner scanner=acls.getScanner(scan);
    try {
      for (      Result res : scanner) {
        for (        byte[] q : res.getFamilyMap(ACL_LIST_FAMILY).navigableKeySet()) {
          qualifierSet.add(q);
        }
      }
    }
  finally {
      scanner.close();
    }
    if (qualifierSet.size() > 0) {
      Delete d=new Delete(tableName.getName());
      for (      byte[] qualifier : qualifierSet) {
        d.deleteColumns(ACL_LIST_FAMILY,qualifier);
      }
      acls.delete(d);
    }
  }
  finally {
    if (acls != null)     acls.close();
  }
}
