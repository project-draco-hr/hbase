{
  Map<byte[],ListMultimap<String,TablePermission>> allPerms=new TreeMap<byte[],ListMultimap<String,TablePermission>>(Bytes.BYTES_RAWCOMPARATOR);
  Scan scan=new Scan();
  scan.addFamily(ACL_LIST_FAMILY);
  Table acls=null;
  ResultScanner scanner=null;
  try {
    acls=new HTable(conf,ACL_TABLE_NAME);
    scanner=acls.getScanner(scan);
    for (    Result row : scanner) {
      ListMultimap<String,TablePermission> resultPerms=parsePermissions(row.getRow(),row);
      allPerms.put(row.getRow(),resultPerms);
    }
  }
  finally {
    if (scanner != null)     scanner.close();
    if (acls != null)     acls.close();
  }
  return allPerms;
}
