{
  PreemptiveFastFailInterceptor interceptor=TestFastFailWithoutTestUtil.createPreemptiveInterceptor();
  FastFailInterceptorContext context=(FastFailInterceptorContext)interceptor.createEmptyContext();
  RetryingCallable<?> callable=new RegionServerCallable<Boolean>(null,null,null){
    @Override public Boolean call(    int callTimeout) throws Exception {
      return true;
    }
    @Override protected HRegionLocation getLocation(){
      return new HRegionLocation(null,ServerName.valueOf("localhost",1234,987654321));
    }
  }
;
  context.prepare(callable);
  ServerName server=getSomeServerName();
  assertEquals(context.getServer(),server);
  context.clear();
  context.prepare(callable,2);
  assertEquals(context.getServer(),server);
}
