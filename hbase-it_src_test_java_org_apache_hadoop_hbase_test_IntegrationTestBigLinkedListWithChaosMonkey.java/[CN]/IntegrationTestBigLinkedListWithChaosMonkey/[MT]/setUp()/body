{
  if (!getTestingUtil().isDistributedCluster()) {
    this.NUM_SLAVES_BASE=5;
  }
  super.setUp();
  String tableName=getConf().get(TABLE_NAME_KEY,DEFAULT_TABLE_NAME);
  Action[] actions1=new Action[]{new CompactTable(tableName,0.5f),new CompactRandomRegionOfTable(tableName,0.6f),new FlushTable(tableName),new FlushRandomRegionOfTable(tableName),new MoveRandomRegionOfTable(tableName)};
  Action[] actions2=new Action[]{new SplitRandomRegionOfTable(tableName),new MergeRandomAdjacentRegionsOfTable(tableName),new SnapshotTable(tableName),new MoveRegionsOfTable(tableName)};
  monkey=new ChaosMonkey(util,new PeriodicRandomActionPolicy(30 * 1000,actions1),new PeriodicRandomActionPolicy(60 * 1000,actions2),ChaosMonkey.getPolicyByName(ChaosMonkey.EVERY_MINUTE_RANDOM_ACTION_POLICY));
  LOG.info("Chaos Monkey Starting");
  monkey.start();
}
