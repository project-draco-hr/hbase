{
  Procedure proc=popFront ? waitingProcedures.removeFirst() : waitingProcedures.removeLast();
  if (waitingProcedures.isEmpty()) {
    waitingProcedures=null;
  }
  return proc;
}
