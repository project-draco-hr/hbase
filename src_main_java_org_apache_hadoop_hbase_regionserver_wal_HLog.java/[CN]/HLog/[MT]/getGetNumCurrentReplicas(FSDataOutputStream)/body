{
  Method m=null;
  Exception exception=null;
  if (os != null) {
    try {
      m=os.getWrappedStream().getClass().getDeclaredMethod("getNumCurrentReplicas",new Class<?>[]{});
      m.setAccessible(true);
    }
 catch (    NoSuchMethodException e) {
      exception=e;
    }
catch (    SecurityException e) {
      exception=e;
      m=null;
    }
  }
  if (m != null) {
    LOG.info("Using getNumCurrentReplicas--HDFS-826");
  }
 else {
    LOG.info("getNumCurrentReplicas--HDFS-826 not available; hdfs_out=" + os,exception);
  }
  return m;
}
