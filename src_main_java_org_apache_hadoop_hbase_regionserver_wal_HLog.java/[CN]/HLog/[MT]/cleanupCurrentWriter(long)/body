{
  Path oldFile=null;
  if (this.writer != null) {
    try {
      this.writer.close();
    }
 catch (    IOException e) {
      FailedLogCloseException flce=new FailedLogCloseException("#" + currentfilenum);
      flce.initCause(e);
      throw e;
    }
    if (currentfilenum >= 0) {
      oldFile=computeFilename(currentfilenum);
      this.outputfiles.put(Long.valueOf(this.logSeqNum.get()),oldFile);
    }
  }
  return oldFile;
}
