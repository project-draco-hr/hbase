{
  long i=0;
  for (int idx=0; idx < vintWidth - 1; idx++) {
    final byte b=buffer[offset + 1 + idx];
    i=i << 8;
    i=i | (b & 0xFF);
  }
  i=(WritableUtils.isNegativeVInt(firstByte) ? (i ^ -1L) : i);
  if (i > Integer.MAX_VALUE) {
    throw new IllegalArgumentException("Calculated vint too large");
  }
  return (int)i;
}
