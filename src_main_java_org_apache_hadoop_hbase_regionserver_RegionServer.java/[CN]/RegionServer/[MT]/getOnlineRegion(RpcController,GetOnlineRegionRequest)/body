{
  try {
    checkOpen();
    requestCount.incrementAndGet();
    List<HRegionInfo> list=new ArrayList<HRegionInfo>(onlineRegions.size());
    for (    Map.Entry<String,HRegion> e : this.onlineRegions.entrySet()) {
      list.add(e.getValue().getRegionInfo());
    }
    Collections.sort(list);
    GetOnlineRegionResponse.Builder builder=GetOnlineRegionResponse.newBuilder();
    for (    HRegionInfo region : list) {
      builder.addRegionInfo(ProtobufUtil.toRegionInfo(region));
    }
    return builder.build();
  }
 catch (  IOException ie) {
    throw new ServiceException(ie);
  }
}
