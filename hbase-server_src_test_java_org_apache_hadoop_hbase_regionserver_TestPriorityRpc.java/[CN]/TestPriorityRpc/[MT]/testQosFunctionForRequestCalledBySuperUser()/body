{
  RequestHeader.Builder headerBuilder=RequestHeader.newBuilder();
  headerBuilder.setMethodName("foo");
  RequestHeader header=headerBuilder.build();
  PriorityFunction qosFunc=regionServer.rpcServices.getPriority();
  ((AnnotationReadingPriorityFunction)qosFunc).superUsers.add("samplesuperuser");
  assertEquals(HConstants.ADMIN_QOS,qosFunc.getPriority(header,null,User.createUserForTesting(regionServer.conf,"samplesuperuser",new String[]{"somegroup"})));
  ((AnnotationReadingPriorityFunction)qosFunc).superGroups.add("samplesupergroup");
  assertEquals(HConstants.ADMIN_QOS,qosFunc.getPriority(header,null,User.createUserForTesting(regionServer.conf,"regularuser",new String[]{"samplesupergroup"})));
}
