{
  HTable table=new HTable(util.getConfiguration(),TEST_TABLE);
  List<? extends Row> rows=Lists.newArrayList(new Get(ROW_A),new Get(ROW_B),new Get(ROW_C));
  Batch.Call<PingProtocol,String> call=Batch.forMethod(PingProtocol.class,"ping");
  Map<byte[],String> results=table.coprocessorExec(PingProtocol.class,ROW_A,ROW_C,call);
  verifyRegionResults(table,results,ROW_A);
  verifyRegionResults(table,results,ROW_B);
  verifyRegionResults(table,results,ROW_C);
  Batch.Call<PingProtocol,String> helloCall=Batch.forMethod(PingProtocol.class,"hello","NAME");
  results=table.coprocessorExec(PingProtocol.class,ROW_A,ROW_C,helloCall);
  verifyRegionResults(table,results,"Hello, NAME",ROW_A);
  verifyRegionResults(table,results,"Hello, NAME",ROW_B);
  verifyRegionResults(table,results,"Hello, NAME",ROW_C);
}
