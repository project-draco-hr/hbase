{
  MultiRequest.Builder builder=MultiRequest.newBuilder();
  RegionSpecifier region=buildRegionSpecifier(RegionSpecifierType.REGION_NAME,regionName);
  builder.setRegion(region);
  for (  Action<R> action : actions) {
    MultiAction.Builder protoAction=MultiAction.newBuilder();
    Row row=action.getAction();
    if (row instanceof Get) {
      protoAction.setGet(ProtobufUtil.toGet((Get)row));
    }
 else     if (row instanceof Put) {
      protoAction.setMutate(ProtobufUtil.toMutate(MutateType.PUT,(Put)row));
    }
 else     if (row instanceof Delete) {
      protoAction.setMutate(ProtobufUtil.toMutate(MutateType.DELETE,(Delete)row));
    }
 else     if (row instanceof Exec) {
      protoAction.setExec(ProtobufUtil.toExec((Exec)row));
    }
 else     if (row instanceof Append) {
      protoAction.setMutate(ProtobufUtil.toMutate(MutateType.APPEND,(Append)row));
    }
 else     if (row instanceof Increment) {
      protoAction.setMutate(ProtobufUtil.toMutate((Increment)row));
    }
 else     if (row instanceof RowMutations) {
      continue;
    }
 else {
      throw new DoNotRetryIOException("multi doesn't support " + row.getClass().getName());
    }
    builder.addAction(protoAction.build());
  }
  return builder.build();
}
