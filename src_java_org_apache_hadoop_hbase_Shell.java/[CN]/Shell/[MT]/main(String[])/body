{
  argumentParsing(args);
  HBaseConfiguration conf=new HBaseConfiguration();
  ConsoleReader reader=new ConsoleReader();
  System.setSecurityManager(new ShellSecurityManager());
  reader.setBellEnabled(conf.getBoolean("hbaseshell.jline.bell.enabled",DEFAULT_BELL_ENABLED));
  Writer out=new OutputStreamWriter(System.out,"UTF-8");
  TableFormatter tableFormater=new TableFormatterFactory(out,conf).get();
  if (MASTER_ADDRESS != null) {
    conf.set("hbase.master",MASTER_ADDRESS.substring(9,MASTER_ADDRESS.length()));
  }
  if (HTML_OPTION != null) {
    tableFormater=new HtmlTableFormatter(out);
    System.out.println("--html");
  }
  HelpCommand help=new HelpCommand(out,tableFormater);
  if (args.length == 0 || !args[0].equals("7")) {
    help.printVersion();
  }
  StringBuilder queryStr=new StringBuilder();
  String extendedLine;
  while ((extendedLine=reader.readLine(getPrompt(queryStr))) != null) {
    if (isEndOfCommand(extendedLine)) {
      queryStr.append(" " + extendedLine);
      long start=System.currentTimeMillis();
      Parser parser=new Parser(queryStr.toString(),out,tableFormater);
      ReturnMsg rs=null;
      try {
        Command cmd=parser.terminatedCommand();
        if (cmd != null) {
          rs=cmd.execute(conf);
        }
      }
 catch (      ParseException pe) {
        String[] msg=pe.getMessage().split("[\n]");
        System.out.println("Syntax error : Type 'help;' for usage.\nMessage : " + msg[0]);
      }
catch (      TokenMgrError te) {
        String[] msg=te.getMessage().split("[\n]");
        System.out.println("Lexical error : Type 'help;' for usage.\nMessage : " + msg[0]);
      }
      long end=System.currentTimeMillis();
      if (rs != null && rs.getType() > -1)       System.out.println(rs.getMsg() + executeTime((rs.getType() == 1),start,end));
      queryStr=new StringBuilder();
    }
 else {
      queryStr.append(" " + extendedLine);
    }
  }
  System.out.println();
}
