{
  secondaryRegion.close();
  walSecondary=spy(walSecondary);
  secondaryRegion=HRegion.openHRegion(secondaryHri,htd,walSecondary,CONF,rss,null);
  verify(walSecondary,times(0)).append((HRegionInfo)any(),(WALKey)any(),(WALEdit)any(),anyBoolean());
  putDataByReplay(secondaryRegion,0,10,cq,families);
  secondaryRegion.replayWALFlushStartMarker(FlushDescriptor.newBuilder().setFlushSequenceNumber(10).setTableName(UnsafeByteOperations.unsafeWrap(primaryRegion.getTableDesc().getTableName().getName())).setAction(FlushAction.START_FLUSH).setEncodedRegionName(UnsafeByteOperations.unsafeWrap(primaryRegion.getRegionInfo().getEncodedNameAsBytes())).setRegionName(UnsafeByteOperations.unsafeWrap(primaryRegion.getRegionInfo().getRegionName())).build());
  verify(walSecondary,times(0)).append((HRegionInfo)any(),(WALKey)any(),(WALEdit)any(),anyBoolean());
  secondaryRegion.close();
  verify(walSecondary,times(0)).append((HRegionInfo)any(),(WALKey)any(),(WALEdit)any(),anyBoolean());
}
