{
  final String clonedTableNameAsString="clone" + originalTableNameAsString;
  final byte[] clonedTableName=Bytes.toBytes(clonedTableNameAsString);
  final String snapshotNameAsString="snapshot" + originalTableNameAsString + System.currentTimeMillis();
  final byte[] snapshotName=Bytes.toBytes(snapshotNameAsString);
  List<byte[]> familiesList=new ArrayList<byte[]>();
  for (  byte[] family : families) {
    familiesList.add(family);
  }
  SnapshotTestingUtils.createSnapshotAndValidate(admin,originalTableNameAsString,null,familiesList,snapshotNameAsString,rootDir,fs);
  admin.cloneSnapshot(snapshotName,clonedTableName);
  HTable clonedTable=new HTable(UTIL.getConfiguration(),clonedTableName);
  Assert.assertEquals(originalTableDescription.replace(originalTableNameAsString,clonedTableNameAsString),clonedTable.getTableDescriptor().toString());
  admin.enableTable(originalTableName);
  clonedTable.close();
}
