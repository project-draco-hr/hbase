{
  Lock lock=readWriteLock.writeLock();
  lock.lock();
  try {
    if (closed) {
      return;
    }
    closed=true;
    agg.deregister(this);
    if (LOG.isTraceEnabled()) {
      LOG.trace("Removing region Metrics: " + regionWrapper.getRegionName());
    }
    registry.removeMetric(regionPutKey);
    registry.removeMetric(regionDeleteKey);
    registry.removeMetric(regionIncrementKey);
    registry.removeMetric(regionAppendKey);
    registry.removeMetric(regionGetKey);
    registry.removeMetric(regionScanNextKey);
    registry.removeHistogramMetrics(regionGetKey);
    registry.removeHistogramMetrics(regionScanNextKey);
    regionWrapper=null;
    JmxCacheBuster.clearJmxCache();
  }
  finally {
    lock.unlock();
  }
}
