{
  super.stopServiceThreads();
  stopChores();
  if (!isAborted() && this.serverManager != null && this.serverManager.isClusterShutdown()) {
    this.serverManager.letRegionServersShutdown();
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug("Stopping service threads");
  }
  if (this.logCleaner != null)   this.logCleaner.interrupt();
  if (this.hfileCleaner != null)   this.hfileCleaner.interrupt();
  if (this.activeMasterManager != null)   this.activeMasterManager.stop();
  if (this.serverManager != null)   this.serverManager.stop();
  if (this.assignmentManager != null)   this.assignmentManager.stop();
  if (this.fileSystemManager != null)   this.fileSystemManager.stop();
  if (this.mpmHost != null)   this.mpmHost.stop("server shutting down.");
}
