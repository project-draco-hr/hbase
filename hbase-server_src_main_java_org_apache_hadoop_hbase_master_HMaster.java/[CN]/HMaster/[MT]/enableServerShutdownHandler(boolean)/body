{
  if (!serverShutdownHandlerEnabled) {
    serverShutdownHandlerEnabled=true;
    this.serverManager.processQueuedDeadServers();
  }
  if (waitForMeta) {
    metaTableLocator.waitMetaRegionLocation(this.getZooKeeper());
    this.assignmentManager.waitForAssignment(HRegionInfo.FIRST_META_REGIONINFO);
  }
}
