{
  final List<HTableDescriptor> descriptors=new ArrayList<HTableDescriptor>();
  boolean bypass=false;
  if (cpHost != null) {
    bypass=cpHost.preGetTableNames(descriptors,regex);
  }
  if (!bypass) {
    Collection<HTableDescriptor> htds=tableDescriptors.getAll().values();
    for (    HTableDescriptor htd : htds) {
      if (includeSysTables || !htd.getTableName().isSystemTable()) {
        descriptors.add(htd);
      }
    }
    if (regex != null) {
      filterTablesByRegex(descriptors,Pattern.compile(regex));
    }
    if (cpHost != null) {
      cpHost.postGetTableNames(descriptors,regex);
    }
  }
  List<TableName> result=new ArrayList(descriptors.size());
  for (  HTableDescriptor htd : descriptors) {
    result.add(htd.getTableName());
  }
  return result;
}
