{
  if (isStopped()) {
    throw new MasterNotRunningException();
  }
  String namespace=hTableDescriptor.getTableName().getNamespaceAsString();
  ensureNamespaceExists(namespace);
  HRegionInfo[] newRegions=getHRegionInfos(hTableDescriptor,splitKeys);
  checkInitialized();
  sanityCheckTableDescriptor(hTableDescriptor);
  if (cpHost != null) {
    cpHost.preCreateTable(hTableDescriptor,newRegions);
  }
  LOG.info(getClientIdAuditPrefix() + " create " + hTableDescriptor);
  this.service.submit(new CreateTableHandler(this,this.fileSystemManager,hTableDescriptor,conf,newRegions,this).prepare());
  if (cpHost != null) {
    cpHost.postCreateTable(hTableDescriptor,newRegions);
  }
}
