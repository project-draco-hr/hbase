{
  long lastMsgTs=0l;
  long now=0l;
  while (!this.stopped) {
    now=EnvironmentEdgeManager.currentTimeMillis();
    if ((now - lastMsgTs) >= this.msgInterval) {
      doMetrics();
      lastMsgTs=EnvironmentEdgeManager.currentTimeMillis();
    }
    stopSleeper.sleep();
  }
}
