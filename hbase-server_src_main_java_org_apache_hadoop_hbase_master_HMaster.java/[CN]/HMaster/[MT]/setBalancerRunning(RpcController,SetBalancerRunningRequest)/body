{
  try {
    boolean prevValue=(req.getSynchronous()) ? synchronousBalanceSwitch(req.getOn()) : balanceSwitch(req.getOn());
    return SetBalancerRunningResponse.newBuilder().setPrevBalanceValue(prevValue).build();
  }
 catch (  IOException ioe) {
    throw new ServiceException(ioe);
  }
}
