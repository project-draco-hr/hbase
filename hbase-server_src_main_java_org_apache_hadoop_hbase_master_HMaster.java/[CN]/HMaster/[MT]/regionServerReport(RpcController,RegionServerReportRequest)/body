{
  try {
    ClusterStatusProtos.ServerLoad sl=request.getLoad();
    ServerName serverName=ProtobufUtil.toServerName(request.getServer());
    ServerLoad oldLoad=serverManager.getLoad(serverName);
    this.serverManager.regionServerReport(serverName,new ServerLoad(sl));
    if (sl != null && this.metricsMaster != null) {
      this.metricsMaster.incrementRequests(sl.getTotalNumberOfRequests() - (oldLoad != null ? oldLoad.getTotalNumberOfRequests() : 0));
    }
  }
 catch (  IOException ioe) {
    throw new ServiceException(ioe);
  }
  return RegionServerReportResponse.newBuilder().build();
}
