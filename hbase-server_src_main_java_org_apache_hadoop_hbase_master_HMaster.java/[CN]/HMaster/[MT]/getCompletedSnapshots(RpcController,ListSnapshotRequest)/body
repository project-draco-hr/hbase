{
  try {
    ListSnapshotResponse.Builder builder=ListSnapshotResponse.newBuilder();
    List<SnapshotDescription> snapshots=snapshotManager.getCompletedSnapshots();
    for (    SnapshotDescription snapshot : snapshots) {
      builder.addSnapshots(snapshot);
    }
    return builder.build();
  }
 catch (  IOException e) {
    throw new ServiceException(e);
  }
}
