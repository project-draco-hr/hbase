{
  ZooKeeperWatcher zkw=rp.getZkw();
  zkw.getRecoverableZooKeeper().exists("/1/2",false);
  LOG.info("Expiring ReplicationPeer ZooKeeper session.");
  utility.expireSession(zkw);
  try {
    LOG.info("Attempting to use expired ReplicationPeer ZooKeeper session.");
    zkw.getRecoverableZooKeeper().exists("/1/2",false);
  }
 catch (  SessionExpiredException k) {
    rp.reloadZkWatcher();
    zkw=rp.getZkw();
    LOG.info("Attempting to use refreshed " + "ReplicationPeer ZooKeeper session.");
    zkw.getRecoverableZooKeeper().exists("/1/2",false);
    return;
  }
  Assert.fail("ReplicationPeer ZooKeeper session was not properly expired.");
}
