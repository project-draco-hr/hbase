{
  ZooKeeperWatcher zkw=rp.getZkw();
  zkw.getRecoverableZooKeeper().exists("/1/2",false);
  LOG.info("Expiring ReplicationPeer ZooKeeper session.");
  utility.expireSession(zkw);
  try {
    LOG.info("Attempting to use expired ReplicationPeer ZooKeeper session.");
    zkw.getRecoverableZooKeeper().getZooKeeper().exists("/2/2",false);
    Assert.fail("ReplicationPeer ZooKeeper session was not properly expired.");
  }
 catch (  SessionExpiredException k) {
    rp.reloadZkWatcher();
    zkw=rp.getZkw();
    LOG.info("Attempting to use refreshed " + "ReplicationPeer ZooKeeper session.");
    zkw.getRecoverableZooKeeper().exists("/3/2",false);
  }
catch (  KeeperException.ConnectionLossException ignored) {
  }
}
