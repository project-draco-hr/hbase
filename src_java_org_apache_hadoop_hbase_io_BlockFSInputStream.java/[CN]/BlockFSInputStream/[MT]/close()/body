{
  if (closed) {
    throw new IOException("Stream closed");
  }
  if (!this.registration.cancel(false)) {
    LOG.warn("Failed cancel of " + this.registration);
  }
  if (blockStream != null) {
    blockStream.close();
    blockStream=null;
  }
  super.close();
  closed=true;
}
