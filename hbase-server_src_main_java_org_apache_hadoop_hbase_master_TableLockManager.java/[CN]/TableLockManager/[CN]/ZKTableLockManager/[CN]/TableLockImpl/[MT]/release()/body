{
  if (LOG.isDebugEnabled()) {
    LOG.debug("Attempt to release table " + (isShared ? "read" : "write") + " lock on :"+ tableNameStr);
  }
  if (lock == null) {
    throw new IllegalStateException("Table " + tableNameStr + " is not locked!");
  }
  try {
    lock.release();
  }
 catch (  InterruptedException e) {
    LOG.warn("Interrupted while releasing a lock for " + tableNameStr);
    Thread.currentThread().interrupt();
    throw new InterruptedIOException();
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug("Released table lock on :" + tableNameStr);
  }
}
