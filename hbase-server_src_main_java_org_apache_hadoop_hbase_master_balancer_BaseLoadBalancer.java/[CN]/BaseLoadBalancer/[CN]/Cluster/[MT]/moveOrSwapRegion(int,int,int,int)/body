{
  if (servers[lServer].equals(masterServerName)) {
    if (lRegion >= 0 && !shouldBeOnMaster(regions[lRegion])) {
      numUserRegionsOnMaster--;
    }
    if (rRegion >= 0 && !shouldBeOnMaster(regions[rRegion])) {
      numUserRegionsOnMaster++;
    }
  }
 else   if (servers[rServer].equals(masterServerName)) {
    if (lRegion >= 0 && !shouldBeOnMaster(regions[lRegion])) {
      numUserRegionsOnMaster++;
    }
    if (rRegion >= 0 && !shouldBeOnMaster(regions[rRegion])) {
      numUserRegionsOnMaster--;
    }
  }
  if (rRegion >= 0 && lRegion >= 0) {
    regionMoved(rRegion,rServer,lServer);
    regionsPerServer[rServer]=replaceRegion(regionsPerServer[rServer],rRegion,lRegion);
    regionMoved(lRegion,lServer,rServer);
    regionsPerServer[lServer]=replaceRegion(regionsPerServer[lServer],lRegion,rRegion);
  }
 else   if (rRegion >= 0) {
    regionMoved(rRegion,rServer,lServer);
    regionsPerServer[rServer]=removeRegion(regionsPerServer[rServer],rRegion);
    regionsPerServer[lServer]=addRegion(regionsPerServer[lServer],rRegion);
  }
 else   if (lRegion >= 0) {
    regionMoved(lRegion,lServer,rServer);
    regionsPerServer[lServer]=removeRegion(regionsPerServer[lServer],lRegion);
    regionsPerServer[rServer]=addRegion(regionsPerServer[rServer],lRegion);
  }
}
