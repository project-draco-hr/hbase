{
  regionIndexToServerIndex[regionIndex]=newServerIndex;
  if (initialRegionIndexToServerIndex[regionIndex] == newServerIndex) {
    numMovedRegions--;
    if (regions[regionIndex].isMetaRegion()) {
      numMovedMetaRegions--;
    }
  }
 else   if (initialRegionIndexToServerIndex[regionIndex] == oldServerIndex) {
    numMovedRegions++;
    if (regions[regionIndex].isMetaRegion()) {
      numMovedMetaRegions++;
    }
  }
  int tableIndex=regionIndexToTableIndex[regionIndex];
  numRegionsPerServerPerTable[oldServerIndex][tableIndex]--;
  numRegionsPerServerPerTable[newServerIndex][tableIndex]++;
  if (numRegionsPerServerPerTable[newServerIndex][tableIndex] > numMaxRegionsPerTable[tableIndex]) {
    numRegionsPerServerPerTable[newServerIndex][tableIndex]=numMaxRegionsPerTable[tableIndex];
  }
 else   if ((numRegionsPerServerPerTable[oldServerIndex][tableIndex] + 1) == numMaxRegionsPerTable[tableIndex]) {
    for (int serverIndex=0; serverIndex < numRegionsPerServerPerTable.length; serverIndex++) {
      if (numRegionsPerServerPerTable[serverIndex][tableIndex] > numMaxRegionsPerTable[tableIndex]) {
        numMaxRegionsPerTable[tableIndex]=numRegionsPerServerPerTable[serverIndex][tableIndex];
      }
    }
  }
}
