{
  setSlop(conf);
  if (slop < 0)   slop=0;
 else   if (slop > 1)   slop=1;
  this.config=conf;
  backupMasterWeight=conf.getInt(BACKUP_MASTER_WEIGHT_KEY,DEFAULT_BACKUP_MASTER_WEIGHT);
  if (backupMasterWeight < 1) {
    usingBackupMasters=false;
    LOG.info("Backup master won't host any region since " + BACKUP_MASTER_WEIGHT_KEY + " is "+ backupMasterWeight+ "(<1)");
  }
  String[] tables=conf.getStrings("hbase.balancer.tablesOnMaster",DEFAULT_TABLES_ON_MASTER);
  if (tables != null) {
    Collections.addAll(tablesOnMaster,tables);
  }
  this.rackManager=new RackManager(getConf());
  regionFinder.setConf(conf);
}
