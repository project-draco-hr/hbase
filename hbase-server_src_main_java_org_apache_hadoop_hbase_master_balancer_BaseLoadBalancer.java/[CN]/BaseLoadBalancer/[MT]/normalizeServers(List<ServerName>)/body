{
  if (servers == null) {
    return null;
  }
  if (!excludedServers.isEmpty()) {
    servers.removeAll(excludedServers);
  }
  Collection<ServerName> allBackupMasters=getBackupMasters();
  List<ServerName> backupMasters=null;
  if (allBackupMasters != null && !allBackupMasters.isEmpty()) {
    for (    ServerName server : allBackupMasters) {
      if (!servers.contains(server)) {
        continue;
      }
      servers.remove(server);
      if (backupMasters == null) {
        backupMasters=new ArrayList<ServerName>();
      }
      backupMasters.add(server);
    }
  }
  return backupMasters;
}
