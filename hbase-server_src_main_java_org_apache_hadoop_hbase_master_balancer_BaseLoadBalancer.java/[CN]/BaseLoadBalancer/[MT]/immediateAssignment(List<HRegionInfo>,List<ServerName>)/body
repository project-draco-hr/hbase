{
  metricsBalancer.incrMiscInvocations();
  if (servers == null || servers.isEmpty()) {
    LOG.warn("Wanted to do random assignment but no servers to assign to");
    return null;
  }
  Map<HRegionInfo,ServerName> assignments=new TreeMap<HRegionInfo,ServerName>();
  List<ServerName> backupMasters=normalizeServers(servers);
  for (  HRegionInfo region : regions) {
    assignments.put(region,randomAssignment(region,servers,backupMasters));
  }
  return assignments;
}
