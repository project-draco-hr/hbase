{
  ensureBlockReady();
  if (compressAlgo == NONE) {
    if (onDiskChecksum == HConstants.EMPTY_BYTE_ARRAY) {
      throw new IOException("A " + blockType + " without compression should have checksums "+ " stored separately.");
    }
    byte[] output=new byte[onDiskBytesWithHeader.length + onDiskChecksum.length];
    System.arraycopy(onDiskBytesWithHeader,0,output,0,onDiskBytesWithHeader.length);
    System.arraycopy(onDiskChecksum,0,output,onDiskBytesWithHeader.length,onDiskChecksum.length);
    return output;
  }
  return onDiskBytesWithHeader;
}
