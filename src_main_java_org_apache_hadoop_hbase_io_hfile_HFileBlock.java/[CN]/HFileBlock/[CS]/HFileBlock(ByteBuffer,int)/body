{
  b.rewind();
  blockType=BlockType.read(b);
  onDiskSizeWithoutHeader=b.getInt();
  uncompressedSizeWithoutHeader=b.getInt();
  prevBlockOffset=b.getLong();
  this.minorVersion=minorVersion;
  if (minorVersion >= MINOR_VERSION_WITH_CHECKSUM) {
    this.checksumType=b.get();
    this.bytesPerChecksum=b.getInt();
    this.onDiskDataSizeWithHeader=b.getInt();
  }
 else {
    this.checksumType=ChecksumType.NULL.getCode();
    this.bytesPerChecksum=0;
    this.onDiskDataSizeWithHeader=onDiskSizeWithoutHeader + HEADER_SIZE_NO_CHECKSUM;
  }
  buf=b;
  buf.rewind();
}
