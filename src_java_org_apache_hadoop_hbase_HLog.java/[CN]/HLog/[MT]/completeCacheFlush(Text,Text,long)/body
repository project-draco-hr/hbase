{
  if (this.closed) {
    return;
  }
  if (!this.insideCacheFlush) {
    throw new IOException("Impossible situation: inside " + "completeCacheFlush(), but 'insideCacheFlush' flag is false");
  }
  HLogKey key=new HLogKey(regionName,tableName,HLog.METAROW,logSeqId);
  this.writer.append(key,new HLogEdit(HLog.METACOLUMN,HGlobals.completeCacheFlush.get(),System.currentTimeMillis()));
  this.numEntries.getAndIncrement();
  this.regionToLastFlush.put(regionName,Long.valueOf(logSeqId));
  cleanup();
}
