{
  try {
    this.lock.lock();
    if (!this.stop.get()) {
      try {
        for (        HLog.Entry entry : entries) {
          this.writer.append(entry);
          this.editsSize.addAndGet(entry.getKey().heapSize() + entry.getEdit().heapSize());
        }
        this.writer.sync();
        this.newData.signal();
      }
 catch (      IOException ioe) {
        LOG.error("Unable to accept edit because",ioe);
        throw ioe;
      }
    }
 else {
      LOG.info("Won't be replicating data as we are shutting down");
    }
  }
  finally {
    this.lock.unlock();
  }
}
