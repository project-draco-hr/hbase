{
  boolean done=false;
  incPending();
  try {
    SocketChannel channel=call.connection.channel;
    writeSelector.wakeup();
    channel.register(writeSelector,SelectionKey.OP_WRITE,call);
  }
 catch (  ClosedChannelException e) {
    done=true;
  }
 finally {
    decPending();
  }
  return done;
}
