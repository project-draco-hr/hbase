{
  data.flip();
  try {
    if (skipInitialSaslHandshake) {
      skipInitialSaslHandshake=false;
      return;
    }
    if (useSasl) {
      saslReadAndProcess(data.array());
    }
 else {
      processOneRpc(data.array());
    }
  }
  finally {
    dataLengthBuffer.clear();
    data=null;
  }
}
