{
  ByteBufferOutputStream saslResponse=new ByteBufferOutputStream(256);
  DataOutputStream out=new DataOutputStream(saslResponse);
  out.writeInt(status.state);
  if (status == SaslStatus.SUCCESS) {
    rv.write(out);
  }
 else {
    WritableUtils.writeString(out,errorClass);
    WritableUtils.writeString(out,error);
  }
  saslCall.setSaslTokenResponse(saslResponse.getByteBuffer());
  saslCall.responder=responder;
  saslCall.sendResponseIfReady();
}
