{
  String curLoc=null;
  int curSize=0;
  List<Pair<HRegionLocation,HLog.Entry>> curQueue=null;
synchronized (this.serverToBufferQueueMap) {
    for (    String locationKey : this.serverToBufferQueueMap.keySet()) {
      curQueue=this.serverToBufferQueueMap.get(locationKey);
      if (!curQueue.isEmpty()) {
        curSize=curQueue.size();
        curLoc=locationKey;
        break;
      }
    }
    if (curSize > 0) {
      this.serverToBufferQueueMap.remove(curLoc);
    }
  }
  if (curSize > 0) {
    this.processWorkItems(curLoc,curQueue);
    controller.dataAvailable.notifyAll();
    return true;
  }
  return false;
}
