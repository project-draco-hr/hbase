{
  String serverName=null;
  if (serverAddress != null && serverAddress.length() > 0) {
    serverName=HServerInfo.getServerName(serverAddress,startCode);
  }
  HServerInfo storedInfo=null;
synchronized (this.master.regionManager) {
    if (info.isOffline() || this.master.regionManager.regionIsInTransition(info.getRegionNameAsString()) || (serverName != null && this.master.serverManager.isDead(serverName))) {
      return;
    }
    if (serverName != null) {
      storedInfo=this.master.serverManager.getServerInfo(serverName);
    }
    if (storedInfo == null) {
      if (LOG.isDebugEnabled()) {
        LOG.debug("Current assignment of " + info.getRegionNameAsString() + " is not valid; "+ " serverAddress="+ serverAddress+ ", startCode="+ startCode+ " unknown.");
      }
      this.master.regionManager.setUnassigned(info,true);
    }
  }
}
