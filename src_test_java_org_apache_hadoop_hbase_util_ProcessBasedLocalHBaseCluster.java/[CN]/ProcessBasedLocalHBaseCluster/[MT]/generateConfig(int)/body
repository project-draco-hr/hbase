{
  StringBuilder sb=new StringBuilder();
  Map<String,Object> confMap=new TreeMap<String,Object>();
  confMap.put(HConstants.CLUSTER_DISTRIBUTED,true);
  if (rsPort > 0) {
    confMap.put(HConstants.REGIONSERVER_PORT,rsPort);
    confMap.put(HConstants.REGIONSERVER_INFO_PORT_AUTO,true);
  }
  confMap.put(HConstants.ZOOKEEPER_CLIENT_PORT,zkClientPort);
  confMap.put(HConstants.MASTER_PORT,masterPort);
  confMap.put(HConstants.HREGION_MAX_FILESIZE,MAX_FILE_SIZE_OVERRIDE);
  confMap.put("fs.file.impl",RawLocalFileSystem.class.getName());
  sb.append("<configuration>\n");
  for (  Map.Entry<String,Object> entry : confMap.entrySet()) {
    sb.append("  <property>\n");
    sb.append("    <name>" + entry.getKey() + "</name>\n");
    sb.append("    <value>" + entry.getValue() + "</value>\n");
    sb.append("  </property>\n");
  }
  sb.append("</configuration>\n");
  return sb.toString();
}
