{
  HTablePool pool=new HTablePool(TEST_UTIL.getConfiguration(),2,getPoolType());
  HTableInterface table1=pool.getTable(TABLENAME);
  HTableInterface table2=pool.getTable(TABLENAME);
  HTableInterface table3=pool.getTable(TABLENAME);
  table1.close();
  table2.close();
  table3.close();
  HTableInterface sameTable1=pool.getTable(TABLENAME);
  HTableInterface sameTable2=pool.getTable(TABLENAME);
  HTableInterface sameTable3=pool.getTable(TABLENAME);
  Assert.assertSame(((HTablePool.PooledHTable)table1).getWrappedTable(),((HTablePool.PooledHTable)sameTable1).getWrappedTable());
  Assert.assertSame(((HTablePool.PooledHTable)table2).getWrappedTable(),((HTablePool.PooledHTable)sameTable2).getWrappedTable());
  Assert.assertNotSame(((HTablePool.PooledHTable)table3).getWrappedTable(),((HTablePool.PooledHTable)sameTable3).getWrappedTable());
}
