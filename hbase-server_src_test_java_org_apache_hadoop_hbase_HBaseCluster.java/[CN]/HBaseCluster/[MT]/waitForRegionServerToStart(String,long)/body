{
  long start=System.currentTimeMillis();
  while ((System.currentTimeMillis() - start) < timeout) {
    for (    ServerName server : getClusterStatus().getServers()) {
      if (server.getHostname().equals(hostname)) {
        return;
      }
    }
    Threads.sleep(100);
  }
  throw new IOException("did timeout waiting for region server to start:" + hostname);
}
