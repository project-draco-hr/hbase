{
  String value=null;
  if (System.getProperty(TEST_DIRECTORY_KEY) == null) {
    System.setProperty(TEST_DIRECTORY_KEY,new File("build/contrib/hbase/test").getAbsolutePath());
  }
  value=System.getenv("DEBUGGING");
  if (value != null && value.equalsIgnoreCase("TRUE")) {
    debugging=true;
    Logger rootLogger=Logger.getRootLogger();
    Level logLevel=Level.INFO;
    value=System.getenv("LOGGING_LEVEL");
    if (value != null && value.length() != 0) {
      if (value.equalsIgnoreCase("ALL")) {
        logLevel=Level.ALL;
      }
 else       if (value.equalsIgnoreCase("DEBUG")) {
        logLevel=Level.DEBUG;
      }
 else       if (value.equalsIgnoreCase("ERROR")) {
        logLevel=Level.ERROR;
      }
 else       if (value.equalsIgnoreCase("FATAL")) {
        logLevel=Level.FATAL;
      }
 else       if (value.equalsIgnoreCase("INFO")) {
        logLevel=Level.INFO;
      }
 else       if (value.equalsIgnoreCase("OFF")) {
        logLevel=Level.OFF;
      }
 else       if (value.equalsIgnoreCase("TRACE")) {
        logLevel=Level.TRACE;
      }
 else       if (value.equalsIgnoreCase("WARN")) {
        logLevel=Level.WARN;
      }
    }
    ConsoleAppender consoleAppender=null;
    for (Enumeration<Appender> e=rootLogger.getAllAppenders(); e.hasMoreElements(); ) {
      Appender a=e.nextElement();
      if (a instanceof ConsoleAppender) {
        consoleAppender=(ConsoleAppender)a;
        break;
      }
    }
    if (consoleAppender != null) {
      Layout layout=consoleAppender.getLayout();
      if (layout instanceof PatternLayout) {
        PatternLayout consoleLayout=(PatternLayout)layout;
        consoleLayout.setConversionPattern("%d %-5p [%t] %l: %m%n");
      }
    }
    Logger.getLogger(HBaseTestCase.class.getPackage().getName()).setLevel(logLevel);
  }
}
