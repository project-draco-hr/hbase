{
  Arrays.sort(startKeys,Bytes.BYTES_COMPARATOR);
  HTable meta=new HTable(c,TableName.META_TABLE_NAME);
  List<HRegionInfo> newRegions=new ArrayList<HRegionInfo>(startKeys.length);
  int count=0;
  for (int i=0; i < startKeys.length; i++) {
    int j=(i + 1) % startKeys.length;
    HRegionInfo hri=new HRegionInfo(tableName,startKeys[i],startKeys[j]);
    Put put=new Put(hri.getRegionName());
    put.setDurability(Durability.SKIP_WAL);
    put.add(HConstants.CATALOG_FAMILY,HConstants.REGIONINFO_QUALIFIER,getBytes(hri));
    put.add(HConstants.CATALOG_FAMILY,HConstants.SPLITA_QUALIFIER,getBytes(hri));
    put.add(HConstants.CATALOG_FAMILY,HConstants.SPLITB_QUALIFIER,getBytes(hri));
    meta.put(put);
    LOG.info("createMultiRegionsWithWritableSerialization: PUT inserted " + hri.toString());
    newRegions.add(hri);
    count++;
  }
  meta.close();
  return count;
}
