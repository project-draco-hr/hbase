{
  if (this.server.isStopped() || this.rsServices.isStopping()) {
    return false;
  }
  final AtomicBoolean signaller=new AtomicBoolean(false);
  PostOpenDeployTasksThread t=new PostOpenDeployTasksThread(r,this.server,this.rsServices,signaller);
  t.start();
  long now=System.currentTimeMillis();
  long lastUpdate=now;
  boolean tickleOpening=true;
  while (!signaller.get() && t.isAlive() && !this.server.isStopped()&& !this.rsServices.isStopping()&& isRegionStillOpening()) {
    long elapsed=now - lastUpdate;
    if (elapsed > 120000) {
      lastUpdate=now;
    }
synchronized (signaller) {
      try {
        if (!signaller.get())         signaller.wait(10000);
      }
 catch (      InterruptedException e) {
      }
    }
    now=System.currentTimeMillis();
  }
  if (t.isAlive()) {
    if (!signaller.get()) {
      LOG.debug("Interrupting thread " + t);
      t.interrupt();
    }
    try {
      t.join();
    }
 catch (    InterruptedException ie) {
      LOG.warn("Interrupted joining " + r.getRegionInfo().getRegionNameAsString(),ie);
      Thread.currentThread().interrupt();
    }
  }
  return ((!Thread.interrupted() && t.getException() == null) && tickleOpening);
}
