{
  boolean result=false;
  HRegionInfo hri=r.getRegionInfo();
  final String name=hri.getRegionNameAsString();
  try {
    if (ZKAssign.transitionNodeOpened(this.server.getZooKeeper(),hri,this.server.getServerName(),this.version) == -1) {
      LOG.warn("Completed the OPEN of region " + name + " but when transitioning from "+ " OPENING to OPENED got a version mismatch, someone else clashed "+ "so now unassigning -- closing region on server: "+ this.server.getServerName());
    }
 else {
      LOG.debug("Transitioned " + r.getRegionInfo().getEncodedName() + " to OPENED in zk on "+ this.server.getServerName());
      result=true;
    }
  }
 catch (  KeeperException e) {
    LOG.error("Failed transitioning node " + name + " from OPENING to OPENED -- closing region",e);
  }
  return result;
}
