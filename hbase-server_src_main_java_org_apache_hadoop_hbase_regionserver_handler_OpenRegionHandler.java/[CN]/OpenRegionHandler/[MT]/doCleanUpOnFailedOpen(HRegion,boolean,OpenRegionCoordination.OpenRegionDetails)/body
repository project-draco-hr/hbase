{
  if (transitionedToOpening) {
    try {
      if (region != null) {
        cleanupFailedOpen(region);
      }
    }
  finally {
      if (!useZKForAssignment) {
        rsServices.reportRegionStateTransition(TransitionCode.FAILED_OPEN,regionInfo);
      }
 else {
        coordination.tryTransitionFromOpeningToFailedOpen(regionInfo,ord);
      }
    }
  }
 else   if (!useZKForAssignment) {
    rsServices.reportRegionStateTransition(TransitionCode.FAILED_OPEN,regionInfo);
  }
 else {
    coordination.tryTransitionFromOfflineToFailedOpen(this.rsServices,regionInfo,ord);
  }
}
