{
  if (!isRegionStillOpening()) {
    LOG.warn("Open region aborted since it isn't opening any more");
    return false;
  }
  if (!isGoodVersion())   return false;
  String encodedName=this.regionInfo.getEncodedName();
  try {
    this.version=ZKAssign.retransitionNodeOpening(server.getZooKeeper(),this.regionInfo,this.server.getServerName(),this.version);
  }
 catch (  KeeperException e) {
    server.abort("Exception refreshing OPENING; region=" + encodedName + ", context="+ context,e);
    this.version=-1;
    return false;
  }
  boolean b=isGoodVersion();
  if (!b) {
    LOG.warn("Failed refreshing OPENING; region=" + encodedName + ", context="+ context);
  }
  return b;
}
