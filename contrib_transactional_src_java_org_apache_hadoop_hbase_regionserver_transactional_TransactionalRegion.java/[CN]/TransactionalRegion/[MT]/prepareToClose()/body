{
  LOG.info("Preparing to close region " + getRegionInfo().getRegionNameAsString());
  closing=true;
  while (!commitPendingTransactions.isEmpty()) {
    LOG.info("Preparing to closing transactional region [" + getRegionInfo().getRegionNameAsString() + "], but still have ["+ commitPendingTransactions.size()+ "] transactions that are pending commit. Sleeping");
    for (    TransactionState s : commitPendingTransactions) {
      LOG.info("commit pending: " + s.toString());
    }
    try {
      Thread.sleep(CLOSE_WAIT_ON_COMMIT_PENDING);
    }
 catch (    InterruptedException e) {
      throw new RuntimeException(e);
    }
  }
}
