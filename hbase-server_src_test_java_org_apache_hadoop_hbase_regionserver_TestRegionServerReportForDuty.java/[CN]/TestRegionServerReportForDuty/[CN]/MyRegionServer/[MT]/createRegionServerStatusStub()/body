{
  sn=super.createRegionServerStatusStub();
  rpcStubCreatedFlag=true;
  while (!masterChanged) {
    ServerName newSn=super.getMasterAddressTracker().getMasterAddress(true);
    if (newSn != null && !newSn.equals(sn)) {
      masterChanged=true;
      break;
    }
    try {
      Thread.sleep(SLEEP_INTERVAL);
    }
 catch (    InterruptedException e) {
    }
    LOG.debug("Waiting for master switch over ... ");
  }
  return sn;
}
