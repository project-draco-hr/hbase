{
  Configuration conf=HBaseConfiguration.create();
  try {
    Properties zkProperties=ZKConfig.makeZKProps(conf);
    writeMyID(zkProperties);
    QuorumPeerConfig zkConfig=new QuorumPeerConfig();
    zkConfig.parseProperties(zkProperties);
    runZKServer(zkConfig);
  }
 catch (  Exception e) {
    e.printStackTrace();
    System.exit(-1);
  }
}
