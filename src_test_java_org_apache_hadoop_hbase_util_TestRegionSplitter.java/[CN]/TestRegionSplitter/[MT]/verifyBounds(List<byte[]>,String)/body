{
  final Configuration conf=UTIL.getConfiguration();
  final int numRegions=expectedBounds.size() - 1;
  final HTable hTable=new HTable(conf,tableName.getBytes());
  final Map<HRegionInfo,HServerAddress> regionInfoMap=hTable.getRegionsInfo();
  assertEquals(numRegions,regionInfoMap.size());
  for (  Map.Entry<HRegionInfo,HServerAddress> entry : regionInfoMap.entrySet()) {
    final HRegionInfo regionInfo=entry.getKey();
    byte[] regionStart=regionInfo.getStartKey();
    byte[] regionEnd=regionInfo.getEndKey();
    int startBoundaryIndex=indexOfBytes(expectedBounds,regionStart);
    assertNotSame(-1,startBoundaryIndex);
    byte[] expectedRegionEnd=expectedBounds.get(startBoundaryIndex + 1);
    assertEquals(0,Bytes.compareTo(regionEnd,expectedRegionEnd));
  }
}
