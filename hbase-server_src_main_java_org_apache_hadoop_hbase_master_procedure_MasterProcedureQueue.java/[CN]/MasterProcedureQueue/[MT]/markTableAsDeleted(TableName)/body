{
  TableRunQueue queue=getRunQueue(table);
  if (queue != null) {
    lock.lock();
    try {
      if (queue.isEmpty() && !queue.isLocked()) {
        fairq.remove(table);
        try {
          lockManager.tableDeleted(table);
        }
 catch (        IOException e) {
          LOG.warn("Received exception from TableLockManager.tableDeleted:",e);
        }
      }
 else {
        return false;
      }
    }
  finally {
      lock.unlock();
    }
  }
  return true;
}
