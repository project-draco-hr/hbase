{
  lock.lock();
  try {
    if (queueSize == 0) {
      waitCond.await();
      if (queueSize == 0) {
        return null;
      }
    }
    RunQueue queue=fairq.poll();
    if (queue != null && queue.isAvailable()) {
      queueSize--;
      return queue.poll();
    }
  }
 catch (  InterruptedException e) {
    Thread.currentThread().interrupt();
    return null;
  }
 finally {
    lock.unlock();
  }
  return null;
}
