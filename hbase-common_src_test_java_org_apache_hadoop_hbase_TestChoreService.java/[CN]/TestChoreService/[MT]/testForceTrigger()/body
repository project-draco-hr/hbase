{
  final int period=100;
  final int delta=5;
  ChoreService service=ChoreService.getInstance(TEST_SERVER_NAME);
  CountingChore chore=new CountingChore("countingChore",period);
  service.scheduleChore(chore);
  Thread.sleep(10 * period + delta);
  assertTrue(chore.getCountOfChoreCalls() == 11);
  chore.triggerNow();
  Thread.sleep(delta);
  chore.triggerNow();
  Thread.sleep(delta);
  chore.triggerNow();
  Thread.sleep(delta);
  chore.triggerNow();
  Thread.sleep(delta);
  chore.triggerNow();
  Thread.sleep(delta);
  assertTrue(chore.getCountOfChoreCalls() == 16);
  Thread.sleep(10 * period + delta);
  assertTrue(chore.getCountOfChoreCalls() == 26);
}
