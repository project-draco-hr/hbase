{
  try {
    MonitoredTask status=TaskMonitor.get().createStatus("Processing schema change exclusion for region server = " + serverName);
    List<String> tables=ZKUtil.listChildrenNoWatch(watcher,watcher.schemaZNode);
    if (tables == null || tables.isEmpty()) {
      String msg="No schema change in progress. Skipping exclusion for " + "server = " + serverName;
      LOG.debug(msg);
      status.setStatus(msg);
      return;
    }
    for (    String tableName : tables) {
      excludeRegionServer(tableName,serverName,status);
    }
  }
 catch (  KeeperException ke) {
    LOG.error("KeeperException during excludeRegionServerForSchemaChanges",ke);
  }
catch (  IOException ioe) {
    LOG.error("IOException during excludeRegionServerForSchemaChanges",ioe);
  }
}
