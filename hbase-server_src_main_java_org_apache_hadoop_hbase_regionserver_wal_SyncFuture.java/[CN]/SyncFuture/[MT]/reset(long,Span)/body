{
  if (t != null && t != Thread.currentThread()) {
    throw new IllegalStateException();
  }
  t=Thread.currentThread();
  if (!isDone()) {
    throw new IllegalStateException("" + txnId + " "+ Thread.currentThread());
  }
  this.doneTxid=NOT_DONE;
  this.txid=txnId;
  this.span=span;
  return this;
}
