{
  boolean exceptionThrown=false;
  try {
    region.put(-1,CONTENTS_BASIC,"bad input".getBytes(HConstants.UTF8_ENCODING));
  }
 catch (  Exception e) {
    exceptionThrown=true;
  }
  assertTrue("Bad lock id",exceptionThrown);
  exceptionThrown=false;
  long lockid=-1;
  try {
    lockid=region.startUpdate(new Text("Some old key"));
    String unregisteredColName="FamilyGroup:FamilyLabel";
    region.put(lockid,new Text(unregisteredColName),unregisteredColName.getBytes(HConstants.UTF8_ENCODING));
    region.commit(lockid);
  }
 catch (  IOException e) {
    exceptionThrown=true;
  }
 finally {
    if (lockid != -1) {
      region.abort(lockid);
    }
  }
  assertTrue("Bad family",exceptionThrown);
}
