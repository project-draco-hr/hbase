{
  HTableDescriptor htd=createTableDescriptor("testtb");
  Path snapshotDir=new Path(rootDir,"snapshot");
  createSnapshot(rootDir,snapshotDir,htd);
  HTableDescriptor htdClone=createTableDescriptor("testtb-clone");
  testRestore(snapshotDir,htd.getNameAsString(),htdClone);
  verifyRestore(rootDir,htd,htdClone);
  Path cloneDir=HTableDescriptor.getTableDir(rootDir,htdClone.getName());
  HTableDescriptor htdClone2=createTableDescriptor("testtb-clone2");
  testRestore(cloneDir,htdClone.getNameAsString(),htdClone2);
  verifyRestore(rootDir,htd,htdClone2);
}
