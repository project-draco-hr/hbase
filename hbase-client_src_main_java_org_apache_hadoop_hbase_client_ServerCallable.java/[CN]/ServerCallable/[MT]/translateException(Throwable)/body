{
  if (t instanceof UndeclaredThrowableException) {
    t=t.getCause();
  }
  if (t instanceof RemoteException) {
    t=((RemoteException)t).unwrapRemoteException();
  }
  if (t instanceof ServiceException) {
    ServiceException se=(ServiceException)t;
    Throwable cause=se.getCause();
    if (cause != null && cause instanceof DoNotRetryIOException) {
      throw (DoNotRetryIOException)cause;
    }
  }
 else   if (t instanceof DoNotRetryIOException) {
    throw (DoNotRetryIOException)t;
  }
  return t;
}
