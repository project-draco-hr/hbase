{
  StoreFile storeFileMock=Mockito.mock(StoreFile.class);
  when(storeFileMock.isReference()).thenReturn(true);
  Store storeMock=Mockito.mock(Store.class);
  List<StoreFile> storeFileList=new ArrayList<StoreFile>(1);
  storeFileList.add(storeFileMock);
  when(storeMock.getStorefiles()).thenReturn(storeFileList);
  when(storeMock.close()).thenReturn(ImmutableList.copyOf(storeFileList));
  this.parent.stores.put(Bytes.toBytes(""),storeMock);
  SplitTransaction st=new SplitTransaction(this.parent,GOOD_SPLIT_ROW);
  assertFalse("a region should not be splittable if it has instances of store file references",st.prepare());
}
