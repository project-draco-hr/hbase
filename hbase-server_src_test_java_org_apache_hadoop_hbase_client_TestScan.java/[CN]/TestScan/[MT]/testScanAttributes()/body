{
  Scan scan=new Scan();
  Assert.assertTrue(scan.getAttributesMap().isEmpty());
  Assert.assertNull(scan.getAttribute("absent"));
  scan.setAttribute("absent",null);
  Assert.assertTrue(scan.getAttributesMap().isEmpty());
  Assert.assertNull(scan.getAttribute("absent"));
  scan.setAttribute("attribute1",Bytes.toBytes("value1"));
  Assert.assertTrue(Arrays.equals(Bytes.toBytes("value1"),scan.getAttribute("attribute1")));
  Assert.assertEquals(1,scan.getAttributesMap().size());
  Assert.assertTrue(Arrays.equals(Bytes.toBytes("value1"),scan.getAttributesMap().get("attribute1")));
  scan.setAttribute("attribute1",Bytes.toBytes("value12"));
  Assert.assertTrue(Arrays.equals(Bytes.toBytes("value12"),scan.getAttribute("attribute1")));
  Assert.assertEquals(1,scan.getAttributesMap().size());
  Assert.assertTrue(Arrays.equals(Bytes.toBytes("value12"),scan.getAttributesMap().get("attribute1")));
  scan.setAttribute("attribute2",Bytes.toBytes("value2"));
  Assert.assertTrue(Arrays.equals(Bytes.toBytes("value2"),scan.getAttribute("attribute2")));
  Assert.assertEquals(2,scan.getAttributesMap().size());
  Assert.assertTrue(Arrays.equals(Bytes.toBytes("value2"),scan.getAttributesMap().get("attribute2")));
  scan.setAttribute("attribute2",null);
  Assert.assertNull(scan.getAttribute("attribute2"));
  Assert.assertEquals(1,scan.getAttributesMap().size());
  Assert.assertNull(scan.getAttributesMap().get("attribute2"));
  scan.setAttribute("attribute2",null);
  Assert.assertNull(scan.getAttribute("attribute2"));
  Assert.assertEquals(1,scan.getAttributesMap().size());
  Assert.assertNull(scan.getAttributesMap().get("attribute2"));
  scan.setAttribute("attribute1",null);
  Assert.assertNull(scan.getAttribute("attribute1"));
  Assert.assertTrue(scan.getAttributesMap().isEmpty());
  Assert.assertNull(scan.getAttributesMap().get("attribute1"));
}
