{
  AccessControlProtos.Permission permission=proto.getPermission();
  List<Permission.Action> actions=toPermissionActions(permission.getActionList());
  byte[] qualifier=null;
  byte[] family=null;
  TableName table=null;
  if (permission.hasTableName())   table=ProtobufUtil.toTableName(permission.getTableName());
  if (permission.hasFamily())   family=permission.getFamily().toByteArray();
  if (permission.hasQualifier())   qualifier=permission.getQualifier().toByteArray();
  return new UserPermission(proto.getUser().toByteArray(),table,family,qualifier,actions.toArray(new Permission.Action[actions.size()]));
}
