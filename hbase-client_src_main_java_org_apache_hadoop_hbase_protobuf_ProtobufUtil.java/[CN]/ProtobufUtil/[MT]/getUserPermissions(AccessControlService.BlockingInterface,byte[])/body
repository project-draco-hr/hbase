{
  AccessControlProtos.UserPermissionsRequest.Builder builder=AccessControlProtos.UserPermissionsRequest.newBuilder();
  if (t != null) {
    builder.setTable(ByteString.copyFrom(t));
  }
  AccessControlProtos.UserPermissionsRequest request=builder.build();
  AccessControlProtos.UserPermissionsResponse response=protocol.getUserPermissions(null,request);
  List<UserPermission> perms=new ArrayList<UserPermission>();
  for (  AccessControlProtos.UserPermission perm : response.getPermissionList()) {
    perms.add(ProtobufUtil.toUserPermission(perm));
  }
  return perms;
}
