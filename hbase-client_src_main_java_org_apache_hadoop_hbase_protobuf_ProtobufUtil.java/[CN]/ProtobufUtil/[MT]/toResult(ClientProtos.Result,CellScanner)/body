{
  if (proto.hasExists()) {
    return proto.getExists() ? EMPTY_RESULT_EXISTS_TRUE : EMPTY_RESULT_EXISTS_FALSE;
  }
  List<Cell> cells=null;
  if (proto.hasAssociatedCellCount()) {
    int count=proto.getAssociatedCellCount();
    cells=new ArrayList<Cell>(count);
    for (int i=0; i < count; i++) {
      if (!scanner.advance())       throw new IOException("Failed get " + i + " of "+ count);
      cells.add(scanner.current());
    }
  }
  List<CellProtos.Cell> values=proto.getCellList();
  if (cells == null) {
    if (values.isEmpty()) {
      return EMPTY_RESULT;
    }
 else {
      cells=new ArrayList<Cell>(values.size());
      for (      CellProtos.Cell c : values) {
        cells.add(toCell(c));
      }
    }
  }
  return Result.create(cells,null);
}
