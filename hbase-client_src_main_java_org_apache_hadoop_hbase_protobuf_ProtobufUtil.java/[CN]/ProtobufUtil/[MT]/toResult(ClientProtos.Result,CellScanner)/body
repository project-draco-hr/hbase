{
  List<Cell> cells=null;
  if (proto.hasAssociatedCellCount()) {
    int count=proto.getAssociatedCellCount();
    cells=new ArrayList<Cell>(count);
    for (int i=0; i < count; i++) {
      if (!scanner.advance())       throw new IOException("Failed get " + i + " of "+ count);
      cells.add(scanner.current());
    }
  }
  List<HBaseProtos.Cell> values=proto.getCellList();
  if (cells == null)   cells=new ArrayList<Cell>(values.size());
  for (  HBaseProtos.Cell c : values) {
    cells.add(toCell(c));
  }
  return new Result(cells);
}
