{
  zkw.debug("Creating or updating an unassigned node for " + region.getEncodedName() + " with an OFFLINE state");
  RegionTransitionData data=new RegionTransitionData(EventType.M2ZK_REGION_OFFLINE,region.getRegionName(),serverName);
synchronized (zkw.getNodes()) {
    String node=getNodeName(zkw,region.getEncodedName());
    zkw.getNodes().add(node);
    int version=ZKUtil.checkExists(zkw,node);
    if (version == -1) {
      ZKUtil.createAndWatch(zkw,node,data.getBytes());
      return true;
    }
 else {
      return ZKUtil.setData(zkw,node,data.getBytes(),version);
    }
  }
}
