{
  if (this.shouldCloseConnection.get()) {
    if (this.closeException == null) {
      call.setException(new IOException("Call " + call.id + " not added as the connection "+ remoteId+ " is closing"));
    }
 else {
      call.setException(this.closeException);
    }
synchronized (call) {
      call.notifyAll();
    }
  }
 else {
    calls.put(call.id,call);
    notify();
  }
}
