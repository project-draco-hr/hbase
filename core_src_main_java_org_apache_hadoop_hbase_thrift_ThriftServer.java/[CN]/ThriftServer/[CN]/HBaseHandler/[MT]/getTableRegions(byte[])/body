{
  try {
    HTable table=getTable(tableName);
    Map<HRegionInfo,HServerAddress> regionsInfo=table.getRegionsInfo();
    List<TRegionInfo> regions=new ArrayList<TRegionInfo>();
    for (    HRegionInfo regionInfo : regionsInfo.keySet()) {
      TRegionInfo region=new TRegionInfo();
      region.startKey=regionInfo.getStartKey();
      region.endKey=regionInfo.getEndKey();
      region.id=regionInfo.getRegionId();
      region.name=regionInfo.getRegionName();
      region.version=regionInfo.getVersion();
      regions.add(region);
    }
    return regions;
  }
 catch (  IOException e) {
    throw new IOError(e.getMessage());
  }
}
