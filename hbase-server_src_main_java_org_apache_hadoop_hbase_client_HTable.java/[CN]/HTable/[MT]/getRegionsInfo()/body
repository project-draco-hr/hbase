{
  final Map<HRegionInfo,HServerAddress> regionMap=new TreeMap<HRegionInfo,HServerAddress>();
  final Map<HRegionInfo,ServerName> regionLocations=getRegionLocations();
  for (  Map.Entry<HRegionInfo,ServerName> entry : regionLocations.entrySet()) {
    HServerAddress server=new HServerAddress();
    ServerName serverName=entry.getValue();
    if (serverName != null && serverName.getHostAndPort() != null) {
      server=new HServerAddress(Addressing.createInetSocketAddressFromHostAndPortStr(serverName.getHostAndPort()));
    }
    regionMap.put(entry.getKey(),server);
  }
  return regionMap;
}
