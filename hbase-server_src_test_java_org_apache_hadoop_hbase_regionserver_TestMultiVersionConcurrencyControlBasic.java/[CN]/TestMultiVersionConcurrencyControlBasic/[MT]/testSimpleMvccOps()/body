{
  MultiVersionConcurrencyControl mvcc=new MultiVersionConcurrencyControl();
  long readPoint=mvcc.memstoreReadPoint();
  MultiVersionConcurrencyControl.WriteEntry writeEntry=mvcc.beginMemstoreInsert();
  mvcc.completeMemstoreInsert(writeEntry);
  long readPoint2=mvcc.memstoreReadPoint();
  assertEquals(readPoint,readPoint2);
  long seqid=238;
  writeEntry=mvcc.beginMemstoreInsertWithSeqNum(seqid);
  mvcc.completeMemstoreInsert(writeEntry);
  assertEquals(seqid,mvcc.memstoreReadPoint());
  writeEntry=mvcc.beginMemstoreInsertWithSeqNum(seqid + 1);
  assertTrue(mvcc.advanceMemstore(writeEntry));
  assertEquals(seqid + 1,mvcc.memstoreReadPoint());
}
