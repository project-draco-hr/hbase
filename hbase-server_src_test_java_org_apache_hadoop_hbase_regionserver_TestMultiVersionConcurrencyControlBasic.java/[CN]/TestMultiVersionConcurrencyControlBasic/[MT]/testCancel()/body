{
  long seqid=238;
  MultiVersionConcurrencyControl mvcc=new MultiVersionConcurrencyControl();
  MultiVersionConcurrencyControl.WriteEntry writeEntry=mvcc.beginMemstoreInsertWithSeqNum(seqid);
  assertTrue(mvcc.advanceMemstore(writeEntry));
  assertEquals(seqid,mvcc.memstoreReadPoint());
  writeEntry=mvcc.beginMemstoreInsertWithSeqNum(seqid + 1);
  mvcc.cancelMemstoreInsert(writeEntry);
  assertEquals(seqid,mvcc.memstoreReadPoint());
}
