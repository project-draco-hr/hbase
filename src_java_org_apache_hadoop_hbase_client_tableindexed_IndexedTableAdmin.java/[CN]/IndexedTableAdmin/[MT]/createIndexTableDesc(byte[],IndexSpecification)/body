{
  HTableDescriptor indexTableDesc=new HTableDescriptor(indexSpec.getIndexedTableName(baseTableName));
  Set<byte[]> families=new TreeSet<byte[]>(Bytes.BYTES_COMPARATOR);
  families.add(IndexedTable.INDEX_COL_FAMILY);
  for (  byte[] column : indexSpec.getAllColumns()) {
    families.add(Bytes.add(HStoreKey.getFamily(column),new byte[]{HStoreKey.COLUMN_FAMILY_DELIMITER}));
  }
  for (  byte[] colFamily : families) {
    indexTableDesc.addFamily(new HColumnDescriptor(colFamily));
  }
  indexTableDesc.setRowKeyComparator(indexSpec.getKeyComparator());
  return indexTableDesc;
}
