{
  if (this.server.isStopped() || this.rsServices.isStopping()) {
    return false;
  }
  final AtomicBoolean signaller=new AtomicBoolean(false);
  PostOpenDeployTasksThread t=new PostOpenDeployTasksThread(r,this.server,this.rsServices,signaller);
  t.start();
  int assignmentTimeout=this.server.getConfiguration().getInt("hbase.master.assignment.timeoutmonitor.period",10000);
  long timeout=assignmentTimeout * 10;
  long now=System.currentTimeMillis();
  long endTime=now + timeout;
  long period=Math.max(1,assignmentTimeout / 3);
  long lastUpdate=now;
  while (!signaller.get() && t.isAlive() && !this.server.isStopped()&& !this.rsServices.isStopping()&& (endTime > now)) {
    long elapsed=now - lastUpdate;
    if (elapsed > period) {
      lastUpdate=now;
      tickleOpening("post_open_deploy");
    }
synchronized (signaller) {
      try {
        signaller.wait(period);
      }
 catch (      InterruptedException e) {
      }
    }
    now=System.currentTimeMillis();
  }
  if (t.isAlive() && !signaller.get()) {
    LOG.debug("Interrupting thread " + t);
    t.interrupt();
  }
  return !t.interrupted() && t.getException() == null;
}
