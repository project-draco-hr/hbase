{
  if (Bytes.equals(tableName,HConstants.ROOT_TABLE_NAME)) {
    List<HRegionInfo> list=new ArrayList<HRegionInfo>();
    list.add(HRegionInfo.ROOT_REGIONINFO);
    return list;
  }
 else   if (Bytes.equals(tableName,HConstants.ROOT_TABLE_NAME)) {
    List<HRegionInfo> list=new ArrayList<HRegionInfo>();
    list.add(HRegionInfo.FIRST_META_REGIONINFO);
    return list;
  }
  HRegionInterface metaServer=getCatalogRegionInterface(catalogTracker,tableName);
  List<HRegionInfo> regions=new ArrayList<HRegionInfo>();
  String tableString=Bytes.toString(tableName);
  byte[] firstRowInTable=Bytes.toBytes(tableString + ",,");
  Scan scan=new Scan(firstRowInTable);
  scan.addColumn(HConstants.CATALOG_FAMILY,HConstants.REGIONINFO_QUALIFIER);
  long scannerid=metaServer.openScanner(getCatalogRegionNameForTable(tableName),scan);
  try {
    Result data;
    while ((data=metaServer.next(scannerid)) != null) {
      if (data != null && data.size() > 0) {
        HRegionInfo info=Writables.getHRegionInfo(data.getValue(HConstants.CATALOG_FAMILY,HConstants.REGIONINFO_QUALIFIER));
        if (info.getTableDesc().getNameAsString().equals(tableString)) {
          regions.add(info);
        }
 else {
          break;
        }
      }
    }
    return regions;
  }
  finally {
    metaServer.close(scannerid);
  }
}
