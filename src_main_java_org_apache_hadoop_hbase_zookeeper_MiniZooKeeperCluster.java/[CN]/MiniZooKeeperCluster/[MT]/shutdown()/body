{
  if (!started) {
    return;
  }
  standaloneServerFactory.shutdown();
  if (!waitForServerDown(clientPort,CONNECTION_TIMEOUT)) {
    throw new IOException("Waiting for shutdown of standalone server");
  }
  started=false;
  zooKeeperCandidateNum=0;
  LOG.info("Shutdown MiniZK Server on client port: " + clientPort);
}
