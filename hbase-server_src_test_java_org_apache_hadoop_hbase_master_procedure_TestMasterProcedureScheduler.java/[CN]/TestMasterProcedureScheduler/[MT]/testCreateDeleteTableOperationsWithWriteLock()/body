{
  TableName tableName=TableName.valueOf("testtb");
  queue.addBack(new TestTableProcedure(1,tableName,TableProcedureInterface.TableOperationType.EDIT));
  assertFalse(queue.markTableAsDeleted(tableName));
  Procedure proc=queue.poll();
  assertEquals(1,proc.getProcId());
  assertTrue(queue.tryAcquireTableExclusiveLock(proc,tableName));
  assertEquals(0,queue.size());
  assertFalse(queue.markTableAsDeleted(tableName));
  queue.releaseTableExclusiveLock(proc,tableName);
  assertTrue(queue.markTableAsDeleted(tableName));
}
