{
  method.setURI(new URI(uri,true));
  for (  Map.Entry<String,String> e : extraHeaders.entrySet()) {
    method.addRequestHeader(e.getKey(),e.getValue());
  }
  if (headers != null) {
    for (    Header header : headers) {
      method.addRequestHeader(header);
    }
  }
  long startTime=System.currentTimeMillis();
  int code=httpClient.executeMethod(method);
  long endTime=System.currentTimeMillis();
  if (LOG.isTraceEnabled()) {
    LOG.trace(method.getName() + " " + uri+ " "+ code+ " "+ method.getStatusText()+ " in "+ (endTime - startTime)+ " ms");
  }
  return code;
}
