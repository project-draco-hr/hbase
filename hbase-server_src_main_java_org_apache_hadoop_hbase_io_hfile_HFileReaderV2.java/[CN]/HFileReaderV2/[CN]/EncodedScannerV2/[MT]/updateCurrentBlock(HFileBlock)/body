{
  block=newBlock;
  if (block.getBlockType() != BlockType.ENCODED_DATA) {
    throw new IllegalStateException("EncodedScanner works only on encoded data blocks");
  }
  short dataBlockEncoderId=block.getDataBlockEncodingId();
  if (dataBlockEncoder == null || !DataBlockEncoding.isCorrectEncoder(dataBlockEncoder,dataBlockEncoderId)) {
    DataBlockEncoder encoder=DataBlockEncoding.getDataBlockEncoderById(dataBlockEncoderId);
    setDataBlockEncoder(encoder);
  }
  seeker.setCurrentBuffer(getEncodedBuffer(newBlock));
  blockFetches++;
}
