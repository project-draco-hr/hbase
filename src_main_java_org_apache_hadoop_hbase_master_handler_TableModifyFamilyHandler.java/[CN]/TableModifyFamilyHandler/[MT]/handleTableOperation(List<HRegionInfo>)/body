{
  HTableDescriptor htd=regions.get(0).getTableDesc();
  byte[] familyName=familyDesc.getName();
  if (!htd.hasFamily(familyName)) {
    throw new InvalidFamilyOperationException("Family '" + Bytes.toString(familyName) + "' doesn't exists so cannot be modified");
  }
  for (  HRegionInfo hri : regions) {
    hri.getTableDesc().addFamily(familyDesc);
    MetaEditor.updateRegionInfo(this.server.getCatalogTracker(),hri);
    this.masterServices.getMasterFileSystem().updateRegionInfo(hri);
  }
}
