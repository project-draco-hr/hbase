{
  TransactionState state;
  try {
    state=getTransactionState(transactionId);
  }
 catch (  UnknownTransactionException e) {
    LOG.error("Asked to abort unknown transaction: " + transactionId);
    return;
  }
  state.setStatus(Status.ABORTED);
  if (state.getWriteSet().size() > 0) {
    logManager.writeAbortToLog(state.getTransactionId());
  }
  if (state.getSequenceNumber() != null) {
    commitedTransactionsBySequenceNumber.remove(state.getSequenceNumber());
  }
  commitPendingTransactions.remove(state);
  retireTransaction(state);
}
