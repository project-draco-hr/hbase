{
  TransactionState state=getTransactionState(transactionId);
  state.addRead(row);
  Cell[] localCells=state.localGet(row,column,timestamp);
  if (localCells != null && localCells.length > 0) {
    LOG.trace("Transactional get of something we've written in the same transaction " + transactionId);
    LOG.trace("row: " + Bytes.toString(row));
    LOG.trace("col: " + Bytes.toString(column));
    LOG.trace("numVersions: " + numVersions);
    for (    Cell cell : localCells) {
      LOG.trace("cell: " + Bytes.toString(cell.getValue()));
    }
    if (numVersions > 1) {
      Cell[] globalCells=Cell.createSingleCellArray(get(row,column,timestamp,numVersions - 1));
      Cell[] result=new Cell[globalCells.length + localCells.length];
      System.arraycopy(localCells,0,result,0,localCells.length);
      System.arraycopy(globalCells,0,result,localCells.length,globalCells.length);
      return result;
    }
    return localCells;
  }
  return Cell.createSingleCellArray(get(row,column,timestamp,numVersions));
}
