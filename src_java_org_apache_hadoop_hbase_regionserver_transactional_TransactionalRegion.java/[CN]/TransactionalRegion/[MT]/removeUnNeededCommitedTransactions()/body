{
  Integer minStartSeqNumber=getMinStartSequenceNumber();
  if (minStartSeqNumber == null) {
    minStartSeqNumber=Integer.MAX_VALUE;
  }
  int numRemoved=0;
  for (  Entry<Integer,TransactionState> entry : new LinkedList<Entry<Integer,TransactionState>>(commitedTransactionsBySequenceNumber.entrySet())) {
    if (entry.getKey() >= minStartSeqNumber) {
      break;
    }
    numRemoved=numRemoved + (commitedTransactionsBySequenceNumber.remove(entry.getKey()) == null ? 0 : 1);
    numRemoved++;
  }
  if (numRemoved > 0) {
    LOG.debug("Removed " + numRemoved + " commited transactions with sequence lower than "+ minStartSeqNumber+ ". Still have "+ commitedTransactionsBySequenceNumber.size()+ " left");
  }
 else   if (commitedTransactionsBySequenceNumber.size() > 0) {
    LOG.debug("Could not remove any transactions, and still have " + commitedTransactionsBySequenceNumber.size() + " left");
  }
}
