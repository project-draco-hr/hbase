{
  TreeMap<byte[],List<KeyValue>> fm=new TreeMap<byte[],List<KeyValue>>(Bytes.BYTES_COMPARATOR);
  for (  Map.Entry<byte[],List<Cell>> e : familyMap.entrySet()) {
    List<KeyValue> kvl=new ArrayList<KeyValue>(e.getValue().size());
    for (    Cell c : e.getValue()) {
      kvl.add(KeyValueUtil.ensureKeyValue(c));
    }
    fm.put(e.getKey(),kvl);
  }
  return fm;
}
