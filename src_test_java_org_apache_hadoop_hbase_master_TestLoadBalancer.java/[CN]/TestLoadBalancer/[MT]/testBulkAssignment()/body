{
  for (  int[] mock : regionsAndServersMocks) {
    LOG.debug("testBulkAssignment with " + mock[0] + " regions and "+ mock[1]+ " servers");
    List<HRegionInfo> regions=randomRegions(mock[0]);
    List<LoadBalancer.ServerAndLoad> servers=randomServers(mock[1],0);
    List<ServerName> list=getListOfServerNames(servers);
    Map<ServerName,List<HRegionInfo>> assignments=LoadBalancer.roundRobinAssignment(regions,list);
    float average=(float)regions.size() / servers.size();
    int min=(int)Math.floor(average);
    int max=(int)Math.ceil(average);
    if (assignments != null && !assignments.isEmpty()) {
      for (      List<HRegionInfo> regionList : assignments.values()) {
        assertTrue(regionList.size() == min || regionList.size() == max);
      }
    }
    returnRegions(regions);
    returnServers(list);
  }
}
