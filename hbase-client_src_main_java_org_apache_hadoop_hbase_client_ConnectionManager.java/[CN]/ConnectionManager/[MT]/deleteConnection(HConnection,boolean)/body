{
synchronized (CONNECTION_INSTANCES) {
    for (    Entry<HConnectionKey,HConnectionImplementation> e : CONNECTION_INSTANCES.entrySet()) {
      if (e.getValue() == connection) {
        deleteConnection(e.getKey(),staleConnection);
        break;
      }
    }
  }
}
