{
  this.conf=conf;
  this.path=path;
  this.fs=fs;
  initReader(stream);
  boolean compression=hasCompression();
  if (compression) {
    try {
      if (compressionContext == null) {
        compressionContext=new CompressionContext(LRUDictionary.class);
      }
 else {
        compressionContext.clear();
      }
    }
 catch (    Exception e) {
      throw new IOException("Failed to initialize CompressionContext",e);
    }
  }
  initAfterCompression();
}
