{
  assertEquals(NamespaceDescriptor.DEFAULT_NAMESPACE_NAME_STR,TEST_TABLE.getTableName().getNamespaceAsString());
  final String regex=NamespaceDescriptor.DEFAULT_NAMESPACE_NAME_STR + TableName.NAMESPACE_DELIM + TEST_TABLE.getTableName().getNameAsString();
  User testUserPerms=User.createUserForTesting(conf,"testUserPerms",new String[0]);
  assertEquals(0,testUserPerms.runAs(getPrivilegedAction(regex)).size());
  grantOnTable(TEST_UTIL,testUserPerms.getShortName(),TEST_TABLE.getTableName(),null,null,Action.ADMIN);
  List<UserPermission> perms=testUserPerms.runAs(getPrivilegedAction(regex));
  assertNotNull(perms);
  assertEquals(5,perms.size());
}
