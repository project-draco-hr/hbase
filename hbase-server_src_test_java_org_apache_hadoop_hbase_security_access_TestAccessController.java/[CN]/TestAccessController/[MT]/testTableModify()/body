{
  PrivilegedExceptionAction modifyTable=new PrivilegedExceptionAction(){
    public Object run() throws Exception {
      HTableDescriptor htd=new HTableDescriptor(TEST_TABLE);
      htd.addFamily(new HColumnDescriptor(TEST_FAMILY));
      htd.addFamily(new HColumnDescriptor("fam_" + User.getCurrent().getShortName()));
      ACCESS_CONTROLLER.preModifyTable(ObserverContext.createAndPrepare(CP_ENV,null),TEST_TABLE,htd);
      return null;
    }
  }
;
  verifyDenied(USER_OWNER,modifyTable);
  verifyDenied(USER_RW,modifyTable);
  verifyDenied(USER_RO,modifyTable);
  verifyDenied(USER_NONE,modifyTable);
  verifyAllowed(SUPERUSER,modifyTable);
  verifyAllowed(USER_ADMIN,modifyTable);
  verifyAllowed(USER_TBLADM,modifyTable);
}
