{
  PrivilegedExceptionAction getAction=new PrivilegedExceptionAction(){
    @Override public Object run() throws Exception {
      Get g=new Get(Bytes.toBytes("random_row"));
      g.addFamily(TEST_FAMILY);
      HTable t=new HTable(conf,TEST_TABLE.getTableName());
      try {
        t.get(g);
      }
  finally {
        t.close();
      }
      return null;
    }
  }
;
  verifyRead(getAction);
  PrivilegedExceptionAction scanAction=new PrivilegedExceptionAction(){
    @Override public Object run() throws Exception {
      Scan s=new Scan();
      s.addFamily(TEST_FAMILY);
      HTable table=new HTable(conf,TEST_TABLE.getTableName());
      try {
        ResultScanner scanner=table.getScanner(s);
        try {
          for (Result r=scanner.next(); r != null; r=scanner.next()) {
          }
        }
 catch (        IOException e) {
        }
 finally {
          scanner.close();
        }
      }
  finally {
        table.close();
      }
      return null;
    }
  }
;
  verifyRead(scanAction);
}
