{
  return new PrivilegedAction<List<UserPermission>>(){
    @Override public List<UserPermission> run(){
      Connection connection=null;
      try {
        connection=ConnectionFactory.createConnection(conf);
        return AccessControlClient.getUserPermissions(connection,regex);
      }
 catch (      Throwable e) {
        LOG.error("error during call of AccessControlClient.getUserPermissions.",e);
        return null;
      }
 finally {
        try {
          connection.close();
        }
 catch (        IOException e) {
          LOG.error("Error during close of connection.",e);
        }
      }
    }
  }
;
}
