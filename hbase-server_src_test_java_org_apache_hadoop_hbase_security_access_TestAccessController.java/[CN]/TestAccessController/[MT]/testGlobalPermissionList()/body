{
  List<UserPermission> perms;
  Table acl=new HTable(conf,AccessControlLists.ACL_TABLE_NAME);
  try {
    BlockingRpcChannel service=acl.coprocessorService(HConstants.EMPTY_START_ROW);
    AccessControlService.BlockingInterface protocol=AccessControlService.newBlockingStub(service);
    perms=ProtobufUtil.getUserPermissions(protocol);
  }
  finally {
    acl.close();
  }
  UserPermission adminPerm=new UserPermission(Bytes.toBytes(USER_ADMIN.getShortName()),AccessControlLists.ACL_TABLE_NAME,null,null,Bytes.toBytes("ACRW"));
  assertTrue("Only user admin has permission on table _acl_ per setup",perms.size() == 1 && hasFoundUserPermission(adminPerm,perms));
}
