{
  String namespace="testGetNamespacePermission";
  NamespaceDescriptor desc=NamespaceDescriptor.create(namespace).build();
  createNamespace(TEST_UTIL,desc);
  grantOnNamespace(TEST_UTIL,USER_NONE.getShortName(),namespace,Permission.Action.READ);
  try {
    List<UserPermission> namespacePermissions=AccessControlClient.getUserPermissions(systemUserConnection,AccessControlLists.toNamespaceEntry(namespace));
    assertTrue(namespacePermissions != null);
    assertTrue(namespacePermissions.size() == 1);
    for (    UserPermission namespacePermission : namespacePermissions) {
      assertFalse(namespacePermission.isGlobal());
      assertEquals(namespace,namespacePermission.getNamespace());
    }
  }
 catch (  Throwable thw) {
    throw new HBaseException(thw);
  }
  deleteNamespace(TEST_UTIL,namespace);
}
