{
  String namespace="testGetNamespacePermission";
  NamespaceDescriptor desc=NamespaceDescriptor.create(namespace).build();
  TEST_UTIL.getMiniHBaseCluster().getMaster().createNamespace(desc);
  grantOnNamespace(TEST_UTIL,USER_NONE.getShortName(),namespace,Permission.Action.READ);
  try {
    List<UserPermission> namespacePermissions=AccessControlClient.getUserPermissions(connection,AccessControlLists.toNamespaceEntry(namespace));
    assertTrue(namespacePermissions != null);
    assertTrue(namespacePermissions.size() == 1);
  }
 catch (  Throwable thw) {
    throw new HBaseException(thw);
  }
  TEST_UTIL.getMiniHBaseCluster().getMaster().deleteNamespace(namespace);
}
