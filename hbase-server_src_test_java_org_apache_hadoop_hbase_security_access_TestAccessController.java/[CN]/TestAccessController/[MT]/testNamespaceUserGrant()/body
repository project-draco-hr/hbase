{
  AccessTestAction getAction=new AccessTestAction(){
    @Override public Object run() throws Exception {
      Table t=TEST_UTIL.getConnection().getTable(TEST_TABLE.getTableName());
      try {
        return t.get(new Get(TEST_ROW));
      }
  finally {
        t.close();
      }
    }
  }
;
  verifyDenied(getAction,USER_NONE);
  String namespace="testNamespaceUserGrant";
  NamespaceDescriptor desc=NamespaceDescriptor.create(namespace).build();
  TEST_UTIL.getMiniHBaseCluster().getMaster().createNamespace(desc);
  grantOnNamespace(TEST_UTIL,USER_NONE.getShortName(),namespace,Permission.Action.READ);
  verifyAllowed(getAction,USER_NONE);
  TEST_UTIL.getMiniHBaseCluster().getMaster().deleteNamespace(namespace);
}
