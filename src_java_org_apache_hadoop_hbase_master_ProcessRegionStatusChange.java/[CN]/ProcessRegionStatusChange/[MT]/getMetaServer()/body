{
  if (this.isMetaTable) {
    this.metaRegionName=HRegionInfo.rootRegionInfo.getRegionName();
  }
 else {
    if (this.metaRegion == null) {
synchronized (master.onlineMetaRegions) {
        metaRegion=master.onlineMetaRegions.size() == 1 ? master.onlineMetaRegions.get(master.onlineMetaRegions.firstKey()) : master.onlineMetaRegions.containsKey(regionInfo.getRegionName()) ? master.onlineMetaRegions.get(regionInfo.getRegionName()) : master.onlineMetaRegions.get(master.onlineMetaRegions.headMap(regionInfo.getRegionName()).lastKey());
      }
      this.metaRegionName=metaRegion.getRegionName();
    }
  }
  HServerAddress server=null;
  if (isMetaTable) {
    server=master.rootRegionLocation.get();
  }
 else {
    server=metaRegion.getServer();
  }
  return master.connection.getHRegionConnection(server);
}
