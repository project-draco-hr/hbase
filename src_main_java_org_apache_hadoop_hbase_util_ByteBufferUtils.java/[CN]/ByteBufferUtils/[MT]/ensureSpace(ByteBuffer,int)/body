{
  if (buffer.position() + length > buffer.limit()) {
    throw new EncoderBufferTooSmallException("Buffer position=" + buffer.position() + ", buffer limit="+ buffer.limit()+ ", length to be written="+ length);
  }
}
