{
  if (out.position() + length > out.limit()) {
    throw new EncoderBufferTooSmallException("Buffer position=" + out.position() + ", buffer limit="+ out.limit()+ ", length to be written="+ length);
  }
}
