{
  transactionLogger.setStatusForTransaction(transactionState.getTransactionId(),TransactionLogger.TransactionStatus.ABORTED);
  for (  HRegionLocation location : transactionState.getParticipatingRegions()) {
    if (locationToIgnore != null && location.equals(locationToIgnore)) {
      continue;
    }
    try {
      TransactionalRegionInterface transactionalRegionServer=(TransactionalRegionInterface)connection.getHRegionConnection(location.getServerAddress());
      transactionalRegionServer.abort(location.getRegionInfo().getRegionName(),transactionState.getTransactionId());
    }
 catch (    UnknownTransactionException e) {
      LOG.debug("Got unknown transaciton exception durring abort. Transaction: [" + transactionState.getTransactionId() + "], region: ["+ location.getRegionInfo().getRegionNameAsString()+ "]. Ignoring.");
    }
catch (    NotServingRegionException e) {
      LOG.debug("Got NSRE durring abort. Transaction: [" + transactionState.getTransactionId() + "], region: ["+ location.getRegionInfo().getRegionNameAsString()+ "]. Ignoring.");
    }
  }
}
