{
  this.webServer=new org.mortbay.jetty.Server();
  this.findPort=findPort;
  this.listener=new SocketListener();
  this.listener.setPort(port);
  this.listener.setHost(bindAddress);
  this.webServer.addListener(listener);
  String appDir=getWebAppsPath();
  String logDir=System.getProperty("hadoop.log.dir");
  if (logDir != null) {
    HttpContext logContext=new HttpContext();
    logContext.setContextPath("/logs/*");
    logContext.setResourceBase(logDir);
    logContext.addHandler(new ResourceHandler());
    webServer.addContext(logContext);
  }
  HttpContext staticContext=new HttpContext();
  staticContext.setContextPath("/static/*");
  staticContext.setResourceBase(appDir + "/static");
  staticContext.addHandler(new ResourceHandler());
  this.webServer.addContext(staticContext);
  String webappDir=null;
  try {
    webappDir=getWebAppsPath("webapps" + File.separator + name);
  }
 catch (  FileNotFoundException e) {
    webappDir=getWebAppsPath("webapps/" + name);
  }
  this.webAppContext=this.webServer.addWebApplication("/",webappDir);
  addServlet("stacks","/stacks",StatusHttpServer.StackServlet.class);
  addServlet("logLevel","/logLevel",org.apache.hadoop.log.LogLevel.Servlet.class);
}
