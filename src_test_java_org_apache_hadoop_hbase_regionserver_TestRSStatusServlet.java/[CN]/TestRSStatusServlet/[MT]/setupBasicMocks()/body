{
  rs=Mockito.mock(HRegionServer.class);
  Mockito.doReturn(HBaseConfiguration.create()).when(rs).getConfiguration();
  Mockito.doReturn(fakeInfo).when(rs).getHServerInfo();
  Mockito.doReturn(metrics).when(rs).getMetrics();
  ZooKeeperWatcher zkw=Mockito.mock(ZooKeeperWatcher.class);
  Mockito.doReturn("fakequorum").when(zkw).getQuorum();
  Mockito.doReturn(zkw).when(rs).getZooKeeper();
  MasterAddressTracker mat=Mockito.mock(MasterAddressTracker.class);
  Mockito.doReturn(fakeMasterAddress).when(mat).getMasterAddress();
  Mockito.doReturn(mat).when(rs).getMasterAddressManager();
}
