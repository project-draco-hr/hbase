{
  if (onDisk == DataBlockEncoding.NONE) {
    return new Pair<ByteBuffer,BlockType>(in,BlockType.DATA);
  }
  ByteBuffer encodedBuffer=encodeBufferToHFileBlockBuffer(in,onDisk,includesMemstoreTS);
  return new Pair<ByteBuffer,BlockType>(encodedBuffer,BlockType.ENCODED_DATA);
}
