{
  if (onDisk != null) {
    DataBlockEncoder encoder=onDisk.getEncoder();
    if (encoder != null) {
      return encoder.newDataBlockEncodingContext(compressionAlgorithm,onDisk,dummyHeader);
    }
  }
  return new HFileBlockDefaultEncodingContext(compressionAlgorithm,null,dummyHeader);
}
