{
  if (ignoreBlock(block)) {
    return block;
  }
  if (block.getBlockType() == BlockType.ENCODED_DATA && block.getDataBlockEncodingId() == inCache.getId()) {
    return block;
  }
  HFileBlock decompressedBlock;
  if (block.getBlockType() == BlockType.ENCODED_DATA) {
    decompressedBlock=decodeDataBlock(block,false,(short)0,block.doesIncludeMemstoreTS());
  }
 else {
    decompressedBlock=block;
  }
  if (encodedSeek && inCache != DataBlockEncodings.Algorithm.NONE && onDisk != DataBlockEncodings.Algorithm.NONE) {
    return encodeDataBlock(decompressedBlock,inCache,block.doesIncludeMemstoreTS());
  }
  return decompressedBlock;
}
