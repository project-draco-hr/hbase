{
  HTableDescriptor htd=new HTableDescriptor(TableName.META_TABLE_NAME);
  final int v=123;
  htd.setMaxFileSize(v);
  htd.setDurability(Durability.ASYNC_WAL);
  htd.setReadOnly(true);
  htd.setRegionReplication(2);
  TableDescriptor td=new TableDescriptor(htd,TableState.State.ENABLED);
  byte[] bytes=td.toByteArray();
  TableDescriptor deserializedTd=TableDescriptor.parseFrom(bytes);
  assertEquals(td,deserializedTd);
  assertEquals(td.getHTableDescriptor(),deserializedTd.getHTableDescriptor());
  assertEquals(td.getTableState(),deserializedTd.getTableState());
}
