{
  return new FSHLog(fs,rootDir,logDir,archiveDir,conf,listeners,failIfWALExists,prefix,suffix){
    @Override void atHeadOfRingBufferEventHandlerAppend(){
      action.run();
      super.atHeadOfRingBufferEventHandlerAppend();
    }
  }
;
}
