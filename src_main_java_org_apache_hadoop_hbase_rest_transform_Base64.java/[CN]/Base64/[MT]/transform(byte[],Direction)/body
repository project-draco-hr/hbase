{
switch (direction) {
case IN:
    return com.sun.jersey.core.util.Base64.encode(data);
case OUT:
  return com.sun.jersey.core.util.Base64.decode(data);
default :
throw new RuntimeException("illegal direction");
}
}
