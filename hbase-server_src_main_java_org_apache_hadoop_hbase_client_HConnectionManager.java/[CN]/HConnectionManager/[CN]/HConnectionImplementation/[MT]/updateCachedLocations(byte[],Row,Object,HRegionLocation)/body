{
  if (row == null || tableName == null) {
    LOG.warn("Coding error, see method javadoc. row=" + (row == null ? "null" : row) + ", tableName="+ (tableName == null ? "null" : Bytes.toString(tableName)));
    return;
  }
  final HRegionLocation oldLocation=getCachedLocation(tableName,row.getRow());
  if (oldLocation == null) {
    return;
  }
  HRegionInfo regionInfo=oldLocation.getRegionInfo();
  final RegionMovedException rme=RegionMovedException.find(exception);
  if (rme != null) {
    LOG.info("Region " + regionInfo.getRegionNameAsString() + " moved to "+ rme.getHostname()+ ":"+ rme.getPort()+ " according to "+ source.getHostnamePort());
    updateCachedLocation(regionInfo,source,rme.getHostname(),rme.getPort(),rme.getLocationSeqNum());
  }
 else {
    deleteCachedLocation(regionInfo,source);
  }
}
