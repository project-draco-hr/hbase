{
  if ((row == null || tableName == null) && hrl == null) {
    LOG.warn("Coding error, see method javadoc. row=" + row + ", tableName="+ Bytes.toString(tableName)+ ", hrl="+ hrl);
    return;
  }
  final HRegionLocation myLoc=(hrl != null ? hrl : getCachedLocation(tableName,row.getRow()));
  if (myLoc == null) {
    return;
  }
  final RegionMovedException rme=RegionMovedException.find(exception);
  if (rme != null) {
    LOG.info("Region " + myLoc.getRegionInfo().getRegionNameAsString() + " moved from "+ myLoc.getHostnamePort()+ ", updating client location cache."+ " New server: "+ rme.getHostname()+ ":"+ rme.getPort());
    updateCachedLocation(myLoc,rme.getHostname(),rme.getPort());
  }
 else {
    deleteCachedLocation(myLoc);
  }
}
