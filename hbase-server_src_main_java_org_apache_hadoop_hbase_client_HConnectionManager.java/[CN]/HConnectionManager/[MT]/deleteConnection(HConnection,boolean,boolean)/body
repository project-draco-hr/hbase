{
synchronized (HBASE_INSTANCES) {
    for (    Entry<HConnectionKey,HConnectionImplementation> connectionEntry : HBASE_INSTANCES.entrySet()) {
      if (connectionEntry.getValue() == connection) {
        deleteConnection(connectionEntry.getKey(),stopProxy,staleConnection);
        break;
      }
    }
  }
}
