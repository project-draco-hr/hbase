{
  HTU.getHBaseCluster().getMaster().stopMaster();
  HRegionServer hrs=HTU.getHBaseCluster().getRegionServer(0);
  ZooKeeperWatcher zkw=hrs.getZooKeeper();
  ZKAssign.createNodeOffline(zkw,HRegionInfo.FIRST_META_REGIONINFO,hrs.getServerName());
  ProtobufUtil.openRegion(hrs.getRSRpcServices(),hrs.getServerName(),HRegionInfo.FIRST_META_REGIONINFO);
  while (true) {
    ServerName sn=MetaRegionTracker.getMetaRegionLocation(zkw);
    if (sn != null && sn.equals(hrs.getServerName())) {
      break;
    }
    Thread.sleep(100);
  }
}
