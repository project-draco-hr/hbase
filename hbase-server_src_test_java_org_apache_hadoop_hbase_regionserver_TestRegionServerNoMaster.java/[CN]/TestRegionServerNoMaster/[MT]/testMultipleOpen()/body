{
  closeNoZK();
  checkRegionIsClosed();
  ZKAssign.createNodeOffline(HTU.getZooKeeperWatcher(),hri,getRS().getServerName());
  for (int i=0; i < 10; i++) {
    AdminProtos.OpenRegionRequest orr=RequestConverter.buildOpenRegionRequest(hri,0);
    AdminProtos.OpenRegionResponse responseOpen=getRS().openRegion(null,orr);
    Assert.assertTrue(responseOpen.getOpeningStateCount() == 1);
    AdminProtos.OpenRegionResponse.RegionOpeningState ors=responseOpen.getOpeningState(0);
    Assert.assertTrue("request " + i + " failed",ors.equals(AdminProtos.OpenRegionResponse.RegionOpeningState.OPENED) || ors.equals(AdminProtos.OpenRegionResponse.RegionOpeningState.ALREADY_OPENED));
  }
  checkRegionIsOpened();
}
