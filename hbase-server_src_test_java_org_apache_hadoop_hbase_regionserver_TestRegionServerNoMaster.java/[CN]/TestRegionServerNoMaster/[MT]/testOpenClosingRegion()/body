{
  Assert.assertTrue(getRS().getRegion(regionName).isAvailable());
  try {
    getRS().regionsInTransitionInRS.put(hri.getEncodedNameAsBytes(),Boolean.FALSE);
    AdminProtos.OpenRegionRequest orr=RequestConverter.buildOpenRegionRequest(hri,0,null);
    getRS().openRegion(null,orr);
    Assert.fail("The closing region should not be opened");
  }
 catch (  ServiceException se) {
    Assert.assertTrue("The region should be already in transition",se.getCause() instanceof RegionAlreadyInTransitionException);
  }
 finally {
    getRS().regionsInTransitionInRS.remove(hri.getEncodedNameAsBytes());
  }
}
