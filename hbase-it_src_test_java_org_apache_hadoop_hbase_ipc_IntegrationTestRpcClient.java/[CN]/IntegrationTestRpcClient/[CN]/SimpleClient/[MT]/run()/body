{
  MethodDescriptor md=SERVICE.getDescriptorForType().findMethodByName("echo");
  while (running.get()) {
    boolean isBigPayload=random.nextBoolean();
    String message=isBigPayload ? BIG_PAYLOAD : id + numCalls;
    EchoRequestProto param=EchoRequestProto.newBuilder().setMessage(message).build();
    EchoResponseProto ret=EchoResponseProto.newBuilder().setMessage("foo").build();
    TestRpcServer server=cluster.getRandomServer();
    try {
      User user=User.getCurrent();
      ret=(EchoResponseProto)rpcClient.callBlockingMethod(md,null,param,ret,user,server.getListenerAddress());
    }
 catch (    Exception e) {
      LOG.warn(e);
      continue;
    }
    try {
      assertNotNull(ret);
      assertEquals(message,ret.getMessage());
    }
 catch (    Throwable t) {
      exception.compareAndSet(null,t);
    }
    numCalls++;
  }
}
