{
  Cacheable cachedBlock;
  if ((cachedBlock=onHeapCache.getBlock(cacheKey,caching,repeat,updateCacheMetrics)) != null) {
    if (updateCacheMetrics)     stats.hit(caching);
    return cachedBlock;
  }
 else   if ((cachedBlock=offHeapCache.getBlock(cacheKey,caching,repeat,updateCacheMetrics)) != null) {
    if (caching) {
      onHeapCache.cacheBlock(cacheKey,cachedBlock);
    }
    if (updateCacheMetrics)     stats.hit(caching);
    return cachedBlock;
  }
  if (!repeat && updateCacheMetrics)   stats.miss(caching);
  return null;
}
