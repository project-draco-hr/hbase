{
  TimingResult result=new TimingResult();
  int numAfterDone=0;
  while (numAfterDone < 10) {
    long start=System.nanoTime();
    TraceScope scope=null;
    try {
      scope=Trace.startSpan(getSpanName(),AlwaysSampler.INSTANCE);
      boolean actionResult=doAction();
      if (actionResult && future.isDone()) {
        numAfterDone++;
      }
    }
 catch (    Exception e) {
      numAfterDone=0;
    }
 finally {
      if (scope != null) {
        scope.close();
      }
    }
    result.addResult(System.nanoTime() - start,scope.getSpan());
  }
  return result;
}
