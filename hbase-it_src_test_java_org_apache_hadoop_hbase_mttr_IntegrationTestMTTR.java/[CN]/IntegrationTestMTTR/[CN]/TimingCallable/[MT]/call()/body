{
  TimingResult result=new TimingResult();
  int numAfterDone=0;
  while (numAfterDone < 10) {
    long start=System.nanoTime();
    Span span=null;
    try {
      span=Trace.startSpan(getSpanName(),Sampler.ALWAYS);
      boolean actionResult=doAction();
      if (actionResult && future.isDone()) {
        numAfterDone++;
      }
    }
 catch (    Exception e) {
      numAfterDone=0;
    }
 finally {
      if (span != null) {
        span.stop();
      }
    }
    result.addResult(System.nanoTime() - start,span);
  }
  return result;
}
