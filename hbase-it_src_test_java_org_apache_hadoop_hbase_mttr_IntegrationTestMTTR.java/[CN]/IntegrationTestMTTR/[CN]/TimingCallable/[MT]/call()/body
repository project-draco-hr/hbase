{
  long maxTime=0;
  int numAfterDone=0;
  while (numAfterDone < 10) {
    long start=System.nanoTime();
    try {
      boolean result=doAction();
      if (result && future.isDone()) {
        numAfterDone++;
      }
    }
 catch (    Exception e) {
      numAfterDone=0;
    }
    maxTime=Math.max(maxTime,System.nanoTime() - start);
  }
  return maxTime;
}
