{
  if (!request.hasCompressCodec()) {
    return null;
  }
  try {
    Class<? extends CompressionCodec> codecClass=conf.getClassByName(request.getCompressCodec()).asSubclass(CompressionCodec.class);
    return ReflectionUtils.newInstance(codecClass,conf);
  }
 catch (  ClassNotFoundException e) {
    throw new IllegalArgumentException("Compression codec " + request.getCompressCodec() + " was not found.",e);
  }
}
