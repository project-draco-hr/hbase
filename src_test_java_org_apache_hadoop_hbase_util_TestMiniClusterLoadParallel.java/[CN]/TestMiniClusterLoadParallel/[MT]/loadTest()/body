{
  prepareForLoadTest();
  readerThreads.linkToWriter(writerThreads);
  writerThreads.start(0,numKeys,NUM_THREADS);
  readerThreads.start(0,numKeys,NUM_THREADS);
  writerThreads.waitForFinish();
  readerThreads.waitForFinish();
  assertEquals(0,writerThreads.getNumWriteFailures());
  assertEquals(0,readerThreads.getNumReadFailures());
  assertEquals(0,readerThreads.getNumReadErrors());
  assertEquals(numKeys,readerThreads.getNumUniqueKeysVerified());
}
