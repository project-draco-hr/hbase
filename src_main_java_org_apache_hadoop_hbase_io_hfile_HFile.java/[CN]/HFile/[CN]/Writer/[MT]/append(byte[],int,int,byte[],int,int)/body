{
  boolean dupKey=checkKey(key,koffset,klength);
  checkValue(value,voffset,vlength);
  if (!dupKey) {
    checkBlockBoundary();
  }
  this.bbosDos.writeInt(klength);
  this.keylength+=klength;
  this.bbosDos.writeInt(vlength);
  this.valuelength+=vlength;
  this.bbosDos.write(key,koffset,klength);
  this.bbosDos.write(value,voffset,vlength);
  if (this.firstKey == null) {
    this.firstKey=new byte[klength];
    System.arraycopy(key,koffset,this.firstKey,0,klength);
  }
  this.lastKeyBuffer=key;
  this.lastKeyOffset=koffset;
  this.lastKeyLength=klength;
  this.entryCount++;
}
