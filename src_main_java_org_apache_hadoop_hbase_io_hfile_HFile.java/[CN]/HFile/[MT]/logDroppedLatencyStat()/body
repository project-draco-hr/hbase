{
  final long now=System.currentTimeMillis();
  final long earliestAcceptableLog=now - TimeUnit.SECONDS.toMillis(30L);
  while (true) {
    final long lastLog=lastLoggedDataDrop.get();
    if (lastLog < earliestAcceptableLog) {
      if (lastLoggedDataDrop.compareAndSet(lastLog,now)) {
        LOG.warn("Dropping fs latency stats since buffer is full");
        break;
      }
    }
 else {
      break;
    }
  }
}
