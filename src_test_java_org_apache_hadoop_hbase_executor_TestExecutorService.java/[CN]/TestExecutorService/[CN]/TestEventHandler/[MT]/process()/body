{
  int num=counter.incrementAndGet();
  System.out.println("Running process #" + num + ", thread="+ Thread.currentThread());
synchronized (lock) {
    while (lock.get()) {
      try {
        lock.wait();
      }
 catch (      InterruptedException e) {
      }
    }
  }
  counter.incrementAndGet();
}
