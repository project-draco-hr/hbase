{
  if (UnsafeAccess.isAvailable()) {
    return compareToUnsafe(buf1,o1,l1,buf2,o2,l2);
  }
  int end1=o1 + l1;
  int end2=o2 + l2;
  for (int i=o1, j=o2; i < end1 && j < end2; i++, j++) {
    int a=buf1.get(i) & 0xFF;
    int b=buf2.get(j) & 0xFF;
    if (a != b) {
      return a - b;
    }
  }
  return l1 - l2;
}
