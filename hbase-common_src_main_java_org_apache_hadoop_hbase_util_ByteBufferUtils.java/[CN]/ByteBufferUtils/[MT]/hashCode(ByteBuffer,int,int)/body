{
  int hash=1;
  for (int i=offset; i < offset + length; i++) {
    hash=(31 * hash) + (int)toByte(buf,i);
  }
  return hash;
}
