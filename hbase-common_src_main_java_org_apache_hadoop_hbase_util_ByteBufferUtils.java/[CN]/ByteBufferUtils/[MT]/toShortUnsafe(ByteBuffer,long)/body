{
  short ret;
  if (buf.isDirect()) {
    ret=UnsafeAccess.theUnsafe.getShort(((DirectBuffer)buf).address() + offset);
  }
 else {
    ret=UnsafeAccess.theUnsafe.getShort(buf.array(),UnsafeAccess.BYTE_ARRAY_BASE_OFFSET + buf.arrayOffset() + offset);
  }
  if (UnsafeAccess.littleEndian) {
    return Short.reverseBytes(ret);
  }
  return ret;
}
