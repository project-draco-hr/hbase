{
  String ret=null;
  String hadoopJarFinder="org.apache.hadoop.util.JarFinder";
  Class<?> jarFinder=null;
  try {
    LOG.debug("Looking for " + hadoopJarFinder + ".");
    jarFinder=Class.forName(hadoopJarFinder);
    LOG.debug(hadoopJarFinder + " found.");
    Method getJar=jarFinder.getMethod("getJar",Class.class);
    ret=(String)getJar.invoke(null,my_class);
  }
 catch (  ClassNotFoundException e) {
    LOG.debug("Using backported JarFinder.");
    ret=JarFinder.getJar(my_class);
  }
catch (  InvocationTargetException e) {
    throw new RuntimeException(e.getCause());
  }
catch (  Exception e) {
    throw new RuntimeException("getJar invocation failed.",e);
  }
  return ret;
}
