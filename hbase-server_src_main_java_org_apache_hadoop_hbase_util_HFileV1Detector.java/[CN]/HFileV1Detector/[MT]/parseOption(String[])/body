{
  if (args.length == 0) {
    return true;
  }
  CommandLineParser parser=new GnuParser();
  CommandLine cmd=parser.parse(options,args);
  if (cmd.hasOption("h")) {
    HelpFormatter formatter=new HelpFormatter();
    formatter.printHelp("HFileV1Detector",options,true);
    System.out.println("In case no option is provided, it processes hbase.rootdir using 10 threads.");
    System.out.println("Example:");
    System.out.println(" To detect any HFileV1 in a given hbase installation '/myhbase':");
    System.out.println(" $ $HBASE_HOME/bin/hbase " + this.getClass().getName() + " -p /myhbase");
    System.out.println();
    return false;
  }
  if (cmd.hasOption("p")) {
    dirToProcess=new Path(cmd.getOptionValue("p"));
  }
  try {
    if (cmd.hasOption("n")) {
      int n=Integer.parseInt(cmd.getOptionValue("n"));
      if (n < 0 || n > 100) {
        System.out.println("Please use a positive number <= 100 for number of threads." + " Continuing with default value " + DEFAULT_NUM_OF_THREADS);
        return true;
      }
      numOfThreads=n;
    }
  }
 catch (  NumberFormatException nfe) {
    System.err.println("Please select a valid number for threads");
    return false;
  }
  return true;
}
