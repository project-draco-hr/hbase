{
  HTableDescriptor htd=new HTableDescriptor(HTableDescriptor.META_TABLEDESC);
  final int v=123;
  htd.setMaxFileSize(v);
  htd.setDeferredLogFlush(true);
  htd.setReadOnly(true);
  byte[] bytes=htd.toByteArray();
  HTableDescriptor deserializedHtd=HTableDescriptor.parseFrom(bytes);
  assertEquals(htd,deserializedHtd);
  assertEquals(v,deserializedHtd.getMaxFileSize());
  assertTrue(deserializedHtd.isReadOnly());
  assertTrue(deserializedHtd.isDeferredLogFlush());
}
