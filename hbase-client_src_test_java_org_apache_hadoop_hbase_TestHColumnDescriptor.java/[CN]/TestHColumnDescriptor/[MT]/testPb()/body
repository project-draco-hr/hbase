{
  HColumnDescriptor hcd=new HColumnDescriptor(new HColumnDescriptor(HConstants.CATALOG_FAMILY).setInMemory(true).setScope(HConstants.REPLICATION_SCOPE_LOCAL).setBloomFilterType(BloomType.NONE).setCacheDataInL1(true));
  final int v=123;
  hcd.setBlocksize(v);
  hcd.setTimeToLive(v);
  hcd.setBlockCacheEnabled(!HColumnDescriptor.DEFAULT_BLOCKCACHE);
  hcd.setValue("a","b");
  hcd.setMaxVersions(v);
  assertEquals(v,hcd.getMaxVersions());
  hcd.setMinVersions(v);
  assertEquals(v,hcd.getMinVersions());
  hcd.setKeepDeletedCells(!HColumnDescriptor.DEFAULT_KEEP_DELETED);
  hcd.setInMemory(!HColumnDescriptor.DEFAULT_IN_MEMORY);
  boolean inmemory=hcd.isInMemory();
  hcd.setScope(v);
  hcd.setDataBlockEncoding(DataBlockEncoding.FAST_DIFF);
  hcd.setBloomFilterType(BloomType.ROW);
  hcd.setCompressionType(Algorithm.SNAPPY);
  byte[] bytes=hcd.toByteArray();
  HColumnDescriptor deserializedHcd=HColumnDescriptor.parseFrom(bytes);
  assertTrue(hcd.equals(deserializedHcd));
  assertEquals(v,hcd.getBlocksize());
  assertEquals(v,hcd.getTimeToLive());
  assertEquals(hcd.getValue("a"),deserializedHcd.getValue("a"));
  assertEquals(hcd.getMaxVersions(),deserializedHcd.getMaxVersions());
  assertEquals(hcd.getMinVersions(),deserializedHcd.getMinVersions());
  assertEquals(hcd.getKeepDeletedCells(),deserializedHcd.getKeepDeletedCells());
  assertEquals(inmemory,deserializedHcd.isInMemory());
  assertEquals(hcd.getScope(),deserializedHcd.getScope());
  assertTrue(deserializedHcd.getCompressionType().equals(Compression.Algorithm.SNAPPY));
  assertTrue(deserializedHcd.getDataBlockEncoding().equals(DataBlockEncoding.FAST_DIFF));
  assertTrue(deserializedHcd.getBloomFilterType().equals(BloomType.ROW));
}
