{
  try {
    HTable table=getTable(tableName);
    Map<HRegionInfo,HServerAddress> regionsInfo=table.getRegionsInfo();
    List<TRegionInfo> regions=new ArrayList<TRegionInfo>();
    for (    HRegionInfo regionInfo : regionsInfo.keySet()) {
      TRegionInfo region=new TRegionInfo();
      region.startKey=ByteBuffer.wrap(regionInfo.getStartKey());
      region.endKey=ByteBuffer.wrap(regionInfo.getEndKey());
      region.id=regionInfo.getRegionId();
      region.name=ByteBuffer.wrap(regionInfo.getRegionName());
      region.version=regionInfo.getVersion();
      regions.add(region);
    }
    return regions;
  }
 catch (  IOException e) {
    throw new IOError(e.getMessage());
  }
}
