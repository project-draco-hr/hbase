{
  try {
    HTable table=getTable(HConstants.META_TABLE_NAME);
    Result startRowResult=table.getRowOrBefore(searchRow.array(),HConstants.CATALOG_FAMILY);
    if (startRowResult == null) {
      throw new IOException("Cannot find row in .META., row=" + Bytes.toString(searchRow.array()));
    }
    byte[] value=startRowResult.getValue(HConstants.CATALOG_FAMILY,HConstants.REGIONINFO_QUALIFIER);
    if (value == null || value.length == 0) {
      throw new IOException("HRegionInfo REGIONINFO was null or " + " empty in Meta for row=" + Bytes.toString(searchRow.array()));
    }
    HRegionInfo regionInfo=Writables.getHRegionInfo(value);
    TRegionInfo region=new TRegionInfo();
    region.setStartKey(regionInfo.getStartKey());
    region.setEndKey(regionInfo.getEndKey());
    region.id=regionInfo.getRegionId();
    region.setName(regionInfo.getRegionName());
    region.version=regionInfo.getVersion();
    value=startRowResult.getValue(HConstants.CATALOG_FAMILY,HConstants.SERVER_QUALIFIER);
    if (value != null && value.length > 0) {
      ServerName sn=new ServerName(Bytes.toString(value),-1);
      region.setServerName(Bytes.toBytes(sn.getHostname()));
      region.port=sn.getPort();
    }
    return region;
  }
 catch (  IOException e) {
    throw new IOError(e.getMessage());
  }
}
