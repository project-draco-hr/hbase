{
  if (!CLASS_TO_CODE.containsKey(key.getClass())) {
    throw new NullPointerException("Unsupported class " + key.getClass() + " cannot be used as a key.");
  }
  if (!CLASS_TO_CODE.containsKey(value.getClass())) {
    throw new NullPointerException("Unsupported class " + value.getClass() + " cannot be used as a value.");
  }
  return instance.put(key,value);
}
