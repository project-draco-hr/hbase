{
  LOG.debug(zkw.prefix("Creating ephemeral node for " + region.getEncodedName() + " in SPLITTING state"));
  RegionTransitionData data=new RegionTransitionData(EventType.RS_ZK_REGION_SPLITTING,region.getRegionName(),serverName);
synchronized (zkw.getNodes()) {
    String node=ZKAssign.getNodeName(zkw,region.getEncodedName());
    zkw.getNodes().add(node);
    if (!ZKUtil.createEphemeralNodeAndWatch(zkw,node,data.getBytes())) {
      throw new IOException("Failed create of ephemeral " + node);
    }
  }
  return transitionNodeSplitting(zkw,region,serverName,-1);
}
