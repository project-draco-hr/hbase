{
  HTablePool pool=new HTablePool(TEST_UTIL.getConfiguration(),2,getPoolType());
  Table table1=pool.getTable(TABLENAME);
  Table table2=pool.getTable(TABLENAME);
  Table table3=pool.getTable(TABLENAME);
  table1.close();
  table2.close();
  table3.close();
  Table sameTable1=pool.getTable(TABLENAME);
  Table sameTable2=pool.getTable(TABLENAME);
  Table sameTable3=pool.getTable(TABLENAME);
  Assert.assertSame(((HTablePool.PooledHTable)table3).getWrappedTable(),((HTablePool.PooledHTable)sameTable1).getWrappedTable());
  Assert.assertSame(((HTablePool.PooledHTable)table3).getWrappedTable(),((HTablePool.PooledHTable)sameTable2).getWrappedTable());
  Assert.assertSame(((HTablePool.PooledHTable)table3).getWrappedTable(),((HTablePool.PooledHTable)sameTable3).getWrappedTable());
}
