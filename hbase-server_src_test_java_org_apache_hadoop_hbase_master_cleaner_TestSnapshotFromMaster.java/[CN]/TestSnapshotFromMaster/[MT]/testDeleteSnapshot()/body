{
  String snapshotName="completed";
  SnapshotDescription snapshot=SnapshotDescription.newBuilder().setName(snapshotName).build();
  DeleteSnapshotRequest request=DeleteSnapshotRequest.newBuilder().setSnapshot(snapshot).build();
  try {
    master.getMasterRpcServices().deleteSnapshot(null,request);
    fail("Master didn't throw exception when attempting to delete snapshot that doesn't exist");
  }
 catch (  ServiceException e) {
    LOG.debug("Correctly failed delete of non-existant snapshot:" + e.getMessage());
  }
  Path snapshotDir=SnapshotDescriptionUtils.getCompletedSnapshotDir(snapshotName,rootDir);
  SnapshotDescriptionUtils.writeSnapshotInfo(snapshot,snapshotDir,fs);
  master.getMasterRpcServices().deleteSnapshot(null,request);
}
