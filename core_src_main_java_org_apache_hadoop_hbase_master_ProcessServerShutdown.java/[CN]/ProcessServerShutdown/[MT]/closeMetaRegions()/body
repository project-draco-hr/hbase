{
  isRootServer=master.getRegionManager().isRootServer(deadServerAddress);
  if (isRootServer) {
    master.getRegionManager().unsetRootRegion();
  }
 else {
    isRootServer=master.getRegionManager().isRootServerCandidate(deadServer);
    if (isRootServer) {
      master.getRegionManager().unsetRootRegion();
    }
  }
  List<byte[]> metaStarts=master.getRegionManager().listMetaRegionsForServer(deadServerAddress);
  metaRegions=new ArrayList<MetaRegion>();
  for (  byte[] region : metaStarts) {
    MetaRegion r=master.getRegionManager().offlineMetaRegion(region);
    metaRegions.add(r);
  }
  HRegionInfo metaServerRegionInfo=master.getRegionManager().getMetaServerRegionInfo(deadServer);
  if (metaServerRegionInfo != null) {
    metaRegions.add(new MetaRegion(deadServerAddress,metaServerRegionInfo));
  }
}
