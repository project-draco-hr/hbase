{
  int tables_index=-1;
  for (int i=0; i < args.length; i++) {
    String cmd=args[i];
    if (cmd.startsWith("-")) {
      if (tables_index >= 0) {
        System.err.println("Invalid command line options");
        printUsageAndExit();
      }
      if (cmd.equals("-help")) {
        printUsageAndExit();
      }
 else       if (cmd.equals("-daemon") && interval == 0) {
        interval=DEFAULT_INTERVAL;
      }
 else       if (cmd.equals("-interval")) {
        i++;
        if (i == args.length) {
          System.err.println("-interval needs a numeric value argument.");
          printUsageAndExit();
        }
        try {
          interval=Long.parseLong(args[i]) * 1000;
        }
 catch (        NumberFormatException e) {
          System.err.println("-interval needs a numeric value argument.");
          printUsageAndExit();
        }
      }
 else {
        System.err.println(cmd + " options is invalid.");
        printUsageAndExit();
      }
    }
 else     if (tables_index < 0) {
      tables_index=i;
    }
  }
  if (conf == null)   conf=HBaseConfiguration.create();
  admin=new HBaseAdmin(conf);
  do {
    if (admin.isAborted()) {
      LOG.error("HBaseAdmin aborted");
      return (1);
    }
    if (tables_index >= 0) {
      for (int i=tables_index; i < args.length; i++) {
        sniff(args[i]);
      }
    }
 else {
      sniff();
    }
    Thread.sleep(interval);
  }
 while (interval > 0);
  return (0);
}
