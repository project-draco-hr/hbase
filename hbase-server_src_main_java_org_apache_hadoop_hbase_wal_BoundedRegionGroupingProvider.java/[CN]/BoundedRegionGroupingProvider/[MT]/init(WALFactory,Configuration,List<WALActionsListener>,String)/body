{
  super.init(factory,conf,listeners,providerId);
  delegates=new WALProvider[Math.max(1,conf.getInt(NUM_REGION_GROUPS,DEFAULT_NUM_REGION_GROUPS))];
  for (int i=0; i < delegates.length; i++) {
    delegates[i]=factory.getProvider(DELEGATE_PROVIDER,DEFAULT_DELEGATE_PROVIDER,listeners,providerId + i);
  }
  LOG.info("Configured to run with " + delegates.length + " delegate WAL providers.");
}
