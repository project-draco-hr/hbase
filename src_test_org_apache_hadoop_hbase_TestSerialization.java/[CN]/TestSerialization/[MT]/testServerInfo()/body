{
  HServerInfo hsi=new HServerInfo(new HServerAddress("0.0.0.0:123"),-1,1245);
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  DataOutputStream dao=new DataOutputStream(baos);
  hsi.write(dao);
  dao.close();
  ByteArrayInputStream bais=new ByteArrayInputStream(baos.toByteArray());
  DataInputStream dis=new DataInputStream(bais);
  HServerInfo deserializedHsi=new HServerInfo();
  deserializedHsi.readFields(dis);
  assertTrue(hsi.equals(deserializedHsi));
}
