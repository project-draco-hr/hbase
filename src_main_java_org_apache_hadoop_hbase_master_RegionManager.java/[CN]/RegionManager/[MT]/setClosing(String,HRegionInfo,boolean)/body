{
synchronized (this.regionsInTransition) {
    RegionState s=this.regionsInTransition.get(regionInfo.getRegionNameAsString());
    if (s == null) {
      s=new RegionState(regionInfo,RegionState.State.CLOSING);
    }
    if (s.isPendingOpen()) {
      serverName=s.getServerName();
    }
    s.setClosing(serverName,setOffline);
    this.regionsInTransition.put(regionInfo.getRegionNameAsString(),s);
  }
}
