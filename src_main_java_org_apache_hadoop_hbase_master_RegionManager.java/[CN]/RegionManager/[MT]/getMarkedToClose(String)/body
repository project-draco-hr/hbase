{
  Set<HRegionInfo> result=new HashSet<HRegionInfo>();
synchronized (regionsInTransition) {
    for (    RegionState s : regionsInTransition.values()) {
      if (s.isClosing() && !s.isPendingClose() && !s.isClosed()&& s.getServerName().compareTo(serverName) == 0) {
        result.add(s.getRegionInfo());
      }
    }
  }
  return result;
}
