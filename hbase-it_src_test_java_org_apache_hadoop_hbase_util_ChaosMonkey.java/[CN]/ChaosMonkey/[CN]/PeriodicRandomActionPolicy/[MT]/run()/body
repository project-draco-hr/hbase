{
  int jitter=new Random().nextInt((int)periodMs);
  LOG.info("Sleeping for " + jitter + " to add jitter");
  Threads.sleep(jitter);
  while (!isStopped()) {
    long start=System.currentTimeMillis();
    Action action=selectWeightedRandomItem(actions);
    try {
      action.perform();
    }
 catch (    Exception ex) {
      LOG.warn("Exception occured during performing action: " + StringUtils.stringifyException(ex));
    }
    long sleepTime=periodMs - (System.currentTimeMillis() - start);
    if (sleepTime > 0) {
      LOG.info("Sleeping for:" + sleepTime);
      Threads.sleep(sleepTime);
    }
  }
}
