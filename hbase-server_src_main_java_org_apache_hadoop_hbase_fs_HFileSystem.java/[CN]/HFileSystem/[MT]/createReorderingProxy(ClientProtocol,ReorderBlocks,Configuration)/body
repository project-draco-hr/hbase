{
  return (ClientProtocol)Proxy.newProxyInstance(cp.getClass().getClassLoader(),new Class[]{ClientProtocol.class},new InvocationHandler(){
    public Object invoke(    Object proxy,    Method method,    Object[] args) throws Throwable {
      Object res=method.invoke(cp,args);
      if (res != null && args.length == 3 && "getBlockLocations".equals(method.getName()) && res instanceof LocatedBlocks && args[0] instanceof String && args[0] != null) {
        lrb.reorderBlocks(conf,(LocatedBlocks)res,(String)args[0]);
      }
      return res;
    }
  }
);
}
