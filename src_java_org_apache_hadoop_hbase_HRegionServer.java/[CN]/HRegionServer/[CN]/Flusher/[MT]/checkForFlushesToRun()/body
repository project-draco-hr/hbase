{
  List<HRegion> nonClosedRegionsToFlush=getRegionsToCheck();
  for (  HRegion cur : nonClosedRegionsToFlush) {
    try {
      cur.optionallyFlush();
    }
 catch (    IOException iex) {
      LOG.error("Cache flush failed",RemoteExceptionHandler.checkIOException(iex));
      if (!checkFileSystem()) {
        break;
      }
    }
  }
}
