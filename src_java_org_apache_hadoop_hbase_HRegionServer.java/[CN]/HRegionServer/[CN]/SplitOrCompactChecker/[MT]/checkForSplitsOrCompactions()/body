{
  List<HRegion> nonClosedRegionsToCheck=getRegionsToCheck();
  for (  HRegion cur : nonClosedRegionsToCheck) {
    try {
      if (cur.compactIfNeeded()) {
        split(cur);
      }
    }
 catch (    IOException e) {
      LOG.error("Split or compaction failed",e);
      if (!checkFileSystem()) {
        break;
      }
    }
  }
}
