{
  if (this.fsOk) {
    FileSystem fs=null;
    try {
      fs=FileSystem.get(this.conf);
      if (fs != null && !FSUtils.isFileSystemAvailable(fs)) {
        LOG.fatal("Shutting down HRegionServer: file system not available");
        this.abortRequested=true;
        this.stopRequested.set(true);
        fsOk=false;
      }
    }
 catch (    Exception e) {
      LOG.error("Failed get of filesystem",e);
      LOG.fatal("Shutting down HRegionServer: file system not available");
      this.abortRequested=true;
      this.stopRequested.set(true);
      fsOk=false;
    }
  }
  return this.fsOk;
}
