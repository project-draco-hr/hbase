{
  if (args.length < 1) {
    printUsageAndExit();
  }
  Configuration conf=new HBaseConfiguration();
  final String addressArgKey="--bind=";
  for (  String cmd : args) {
    if (cmd.startsWith(addressArgKey)) {
      conf.set(REGIONSERVER_ADDRESS,cmd.substring(addressArgKey.length()));
      continue;
    }
    if (cmd.equals("start")) {
      try {
        Constructor<? extends HRegionServer> c=regionServerClass.getConstructor(Configuration.class);
        HRegionServer hrs=c.newInstance(conf);
        Thread t=new Thread(hrs);
        t.setName("regionserver" + hrs.server.getListenerAddress());
        t.start();
      }
 catch (      Throwable t) {
        LOG.error("Can not start region server because " + StringUtils.stringifyException(t));
        System.exit(-1);
      }
      break;
    }
    if (cmd.equals("stop")) {
      printUsageAndExit("There is no regionserver stop mechanism. To stop " + "regionservers, shutdown the hbase master");
    }
    printUsageAndExit();
  }
}
