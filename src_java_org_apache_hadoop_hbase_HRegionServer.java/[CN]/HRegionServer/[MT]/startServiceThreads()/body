{
  String n=Thread.currentThread().getName();
  UncaughtExceptionHandler handler=new UncaughtExceptionHandler(){
    public void uncaughtException(    Thread t,    Throwable e){
      abort();
      LOG.fatal("Set stop flag in " + t.getName(),e);
    }
  }
;
  Threads.setDaemonThreadRunning(this.cacheFlusherThread,n + ".cacheFlusher",handler);
  Threads.setDaemonThreadRunning(this.splitOrCompactCheckerThread,n + ".splitOrCompactChecker",handler);
  Threads.setDaemonThreadRunning(this.logRollerThread,n + ".logRoller",handler);
  Threads.setDaemonThreadRunning(this.workerThread,n + ".worker",handler);
  this.leases.setName(n + ".leaseChecker");
  this.leases.start();
  this.server.start();
  LOG.info("HRegionServer started at: " + serverInfo.getServerAddress().toString());
}
