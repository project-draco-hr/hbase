{
  Configuration conf=HBaseConfiguration.create();
  try {
    Properties zkProperties=ZKConfig.makeZKProps(conf);
    writeMyID(zkProperties);
    QuorumPeerConfig zkConfig=new QuorumPeerConfig();
    zkConfig.parseProperties(zkProperties);
    ZKUtil.loginServer(conf,"hbase.zookeeper.server.keytab.file","hbase.zookeeper.server.kerberos.principal",zkConfig.getClientPortAddress().getHostName());
    runZKServer(zkConfig);
  }
 catch (  Exception e) {
    e.printStackTrace();
    System.exit(-1);
  }
}
