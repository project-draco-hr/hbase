{
  boolean interrupted=false;
  WriteEntry w=waitedEntry;
  try {
    WriteEntry firstEntry=null;
    do {
synchronized (writeQueue) {
        if (writeQueue.isEmpty()) {
          break;
        }
        firstEntry=writeQueue.getFirst();
        if (firstEntry == w) {
          break;
        }
        try {
          writeQueue.wait(0);
        }
 catch (        InterruptedException ie) {
          interrupted=true;
          break;
        }
      }
    }
 while (firstEntry != null);
  }
  finally {
    if (w != null) {
      advanceMemstore(w);
    }
  }
  if (interrupted) {
    Thread.currentThread().interrupt();
  }
}
