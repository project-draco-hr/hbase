{
  long nextReadValue=-1;
synchronized (writeQueue) {
    e.markCompleted();
    while (!writeQueue.isEmpty()) {
      WriteEntry queueFirst=writeQueue.getFirst();
      if (queueFirst.isCompleted()) {
        nextReadValue=Math.max(nextReadValue,queueFirst.getWriteNumber());
        writeQueue.removeFirst();
      }
 else {
        break;
      }
    }
    if (nextReadValue > memstoreRead) {
      memstoreRead=nextReadValue;
    }
    writeQueue.notifyAll();
  }
  if (nextReadValue > 0) {
synchronized (readWaiters) {
      readWaiters.notifyAll();
    }
  }
  if (memstoreRead >= e.getWriteNumber()) {
    return true;
  }
  return false;
}
