{
  if (shouldFixAssignments()) {
    errors.print(msg);
    undeployRegions(hbi);
    setShouldRerun();
    HRegionInfo hri=hbi.getHdfsHRI();
    if (hri == null) {
      hri=hbi.metaEntry;
    }
    HBaseFsckRepair.fixUnassigned(admin,hri);
    HBaseFsckRepair.waitUntilAssigned(admin,hri);
  }
}
