{
  checkClosed();
  if (val == null) {
    throw new IllegalArgumentException("value cannot be null");
  }
  if (batch != null) {
    batch.put(lockid,column,val);
    return;
  }
  if (lockid != currentLockId) {
    throw new IllegalArgumentException("invalid lockid");
  }
  try {
    this.currentServer.put(this.currentRegion,this.clientid,lockid,column,val);
  }
 catch (  IOException e) {
    try {
      this.currentServer.abort(this.currentRegion,this.clientid,lockid);
    }
 catch (    IOException e2) {
      LOG.warn(e2);
    }
    this.currentServer=null;
    this.currentRegion=null;
    if (e instanceof RemoteException) {
      e=RemoteExceptionHandler.decodeRemoteException((RemoteException)e);
    }
    throw e;
  }
}
