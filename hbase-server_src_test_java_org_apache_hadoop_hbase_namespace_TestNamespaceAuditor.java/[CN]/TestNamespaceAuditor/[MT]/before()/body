{
  UTIL.getConfiguration().set(CoprocessorHost.REGION_COPROCESSOR_CONF_KEY,CustomObserver.class.getName());
  Configuration conf=UTIL.getConfiguration();
  conf.setBoolean(QuotaUtil.QUOTA_CONF_KEY,true);
  conf.setClass("hbase.coprocessor.regionserver.classes",CPRegionServerObserver.class,RegionServerObserver.class);
  UTIL.startMiniCluster(1,3);
  UTIL.waitFor(60000,new Waiter.Predicate<Exception>(){
    @Override public boolean evaluate() throws Exception {
      return UTIL.getHBaseCluster().getMaster().getMasterQuotaManager().isQuotaEnabled();
    }
  }
);
  admin=UTIL.getHBaseAdmin();
}
