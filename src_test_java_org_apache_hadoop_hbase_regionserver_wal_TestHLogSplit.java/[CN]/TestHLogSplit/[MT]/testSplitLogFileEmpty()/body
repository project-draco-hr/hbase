{
  LOG.info("testSplitLogFileEmpty");
  injectEmptyFile(".empty",true);
  FileStatus logfile=fs.listStatus(hlogDir)[0];
  fs.initialize(fs.getUri(),conf);
  HLogSplitter.splitLogFileToTemp(hbaseDir,"tmpdir",logfile,fs,conf,reporter);
  HLogSplitter.moveRecoveredEditsFromTemp("tmpdir",hbaseDir,oldLogDir,logfile.getPath().toString(),conf);
  Path tdir=HTableDescriptor.getTableDir(hbaseDir,TABLE_NAME);
  FileStatus[] files=this.fs.listStatus(tdir);
  assertTrue(files == null || files.length == 0);
  assertEquals(0,countHLog(fs.listStatus(oldLogDir)[0].getPath(),fs,conf));
}
