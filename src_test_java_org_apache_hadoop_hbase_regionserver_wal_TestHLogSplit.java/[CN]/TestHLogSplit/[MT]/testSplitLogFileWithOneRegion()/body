{
  LOG.info("testSplitLogFileWithOneRegion");
  final String REGION="region__1";
  regions.removeAll(regions);
  regions.add(REGION);
  generateHLogs(1,10,-1);
  FileStatus logfile=fs.listStatus(hlogDir)[0];
  fs.initialize(fs.getUri(),conf);
  HLogSplitter.splitLogFileToTemp(hbaseDir,"tmpdir",logfile,fs,conf,reporter);
  HLogSplitter.moveRecoveredEditsFromTemp("tmpdir",hbaseDir,oldLogDir,logfile.getPath().toString(),conf);
  Path originalLog=(fs.listStatus(oldLogDir))[0].getPath();
  Path splitLog=getLogForRegion(hbaseDir,TABLE_NAME,REGION);
  assertEquals(true,logsAreEqual(originalLog,splitLog));
}
