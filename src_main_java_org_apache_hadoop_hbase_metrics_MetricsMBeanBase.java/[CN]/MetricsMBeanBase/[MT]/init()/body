{
  List<MBeanAttributeInfo> attributes=new ArrayList<MBeanAttributeInfo>();
  MBeanInfo parentInfo=super.getMBeanInfo();
  List<String> parentAttributes=new ArrayList<String>();
  for (  MBeanAttributeInfo attr : parentInfo.getAttributes()) {
    attributes.add(attr);
    parentAttributes.add(attr.getName());
  }
  this.registryLength=this.registry.getMetricsList().size();
  for (  MetricsBase metric : this.registry.getMetricsList()) {
    if (metric.getName() == null || parentAttributes.contains(metric.getName()))     continue;
    if (metric instanceof MetricsRate) {
      attributes.add(new MBeanAttributeInfo(metric.getName(),"java.lang.Float",metric.getDescription(),true,false,false));
      extendedAttributes.put(metric.getName(),metric);
    }
 else     if (metric instanceof MetricsString) {
      attributes.add(new MBeanAttributeInfo(metric.getName(),"java.lang.String",metric.getDescription(),true,false,false));
      extendedAttributes.put(metric.getName(),metric);
      LOG.info("MetricsString added: " + metric.getName());
    }
  }
  LOG.info("new MBeanInfo");
  this.extendedInfo=new MBeanInfo(this.getClass().getName(),this.description,attributes.toArray(new MBeanAttributeInfo[0]),parentInfo.getConstructors(),parentInfo.getOperations(),parentInfo.getNotifications());
}
