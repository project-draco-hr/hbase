{
  ClientProtos.Scan.Builder scanBuilder=ClientProtos.Scan.newBuilder();
  scanBuilder.setStartRow(ByteString.copyFromUtf8("row1"));
  scanBuilder.setStopRow(ByteString.copyFromUtf8("row2"));
  Column.Builder columnBuilder=Column.newBuilder();
  columnBuilder.setFamily(ByteString.copyFromUtf8("f1"));
  columnBuilder.addQualifier(ByteString.copyFromUtf8("c1"));
  columnBuilder.addQualifier(ByteString.copyFromUtf8("c2"));
  scanBuilder.addColumn(columnBuilder.build());
  columnBuilder.clear();
  columnBuilder.setFamily(ByteString.copyFromUtf8("f2"));
  scanBuilder.addColumn(columnBuilder.build());
  ClientProtos.Scan proto=scanBuilder.build();
  assertEquals(1,proto.getMaxVersions());
  assertEquals(true,proto.getCacheBlocks());
  scanBuilder=ClientProtos.Scan.newBuilder(proto);
  scanBuilder.setMaxVersions(1);
  scanBuilder.setCacheBlocks(true);
  Scan scan=ProtobufUtil.toScan(proto);
  assertEquals(scanBuilder.build(),ProtobufUtil.toScan(scan));
}
