{
  SnapshotSentinel sentinel=removeSentinelIfFinished(this.restoreHandlers,snapshot);
  cleanupSentinels();
  if (sentinel == null) {
    return true;
  }
  LOG.debug("Verify snapshot=" + snapshot.getName() + " against="+ sentinel.getSnapshot().getName()+ " table="+ snapshot.getTable());
  sentinel.rethrowExceptionIfFailed();
  if (sentinel.isFinished()) {
    LOG.debug("Restore snapshot=" + ClientSnapshotDescriptionUtils.toString(snapshot) + " has completed. Notifying the client.");
    return true;
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug("Sentinel is not yet finished with restoring snapshot=" + ClientSnapshotDescriptionUtils.toString(snapshot));
  }
  return false;
}
