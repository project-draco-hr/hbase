{
  int iTimes=this.server.getConfiguration().getInt("hbase.catalog.verification.retries",10);
  long waitTime=this.server.getConfiguration().getLong("hbase.catalog.verification.timeout",1000);
  int iFlag=0;
  while (true) {
    try {
      verifyAndAssignRoot();
      break;
    }
 catch (    KeeperException e) {
      this.server.abort("In server shutdown processing, assigning root",e);
      throw new IOException("Aborting",e);
    }
catch (    Exception e) {
      if (iFlag >= iTimes) {
        this.server.abort("verifyAndAssignRoot failed after" + iTimes + " times retries, aborting",e);
        throw new IOException("Aborting",e);
      }
      try {
        Thread.sleep(waitTime);
      }
 catch (      InterruptedException e1) {
        LOG.warn("Interrupted when is the thread sleep",e1);
        Thread.currentThread().interrupt();
        throw new IOException("Interrupted",e1);
      }
      iFlag++;
    }
  }
}
