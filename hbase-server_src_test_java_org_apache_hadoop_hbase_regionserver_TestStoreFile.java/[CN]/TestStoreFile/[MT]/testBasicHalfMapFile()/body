{
  final HRegionInfo hri=new HRegionInfo(Bytes.toBytes("testBasicHalfMapFileTb"));
  HRegionFileSystem regionFs=HRegionFileSystem.createRegionOnFileSystem(conf,fs,new Path(this.testDir,hri.getTableNameAsString()),hri);
  StoreFile.Writer writer=new StoreFile.WriterBuilder(conf,cacheConf,this.fs,2 * 1024).withFilePath(regionFs.createTempName()).build();
  writeStoreFile(writer);
  Path sfPath=regionFs.commitStoreFile(TEST_FAMILY,writer.getPath());
  StoreFile sf=new StoreFile(this.fs,sfPath,conf,cacheConf,BloomType.NONE,NoOpDataBlockEncoder.INSTANCE);
  checkHalfHFile(regionFs,sf);
}
