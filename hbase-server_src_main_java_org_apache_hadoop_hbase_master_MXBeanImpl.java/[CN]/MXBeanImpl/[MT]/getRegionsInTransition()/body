{
  List<RegionsInTransitionInfo> info=new ArrayList<RegionsInTransitionInfo>();
  for (  final Entry<String,RegionState> entry : master.getAssignmentManager().getRegionsInTransition().entrySet()) {
    RegionsInTransitionInfo innerinfo=new RegionsInTransitionInfo(){
      @Override public String getRegionState(){
        return entry.getValue().getState().toString();
      }
      @Override public String getRegionName(){
        return entry.getKey();
      }
      @Override public long getLastUpdateTime(){
        return entry.getValue().getStamp();
      }
      @Override public String getRegionServerName(){
        ServerName serverName=entry.getValue().getServerName();
        if (serverName != null) {
          return serverName.getServerName();
        }
 else {
          return "";
        }
      }
    }
;
    info.add(innerinfo);
  }
  RegionsInTransitionInfo[] data=new RegionsInTransitionInfo[info.size()];
  info.toArray(data);
  return data;
}
