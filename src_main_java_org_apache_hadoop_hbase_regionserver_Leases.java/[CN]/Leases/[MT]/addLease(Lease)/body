{
  if (this.stopRequested) {
    return;
  }
  lease.setExpirationTime(System.currentTimeMillis() + this.leasePeriod);
synchronized (leaseQueue) {
    if (leases.containsKey(lease.getLeaseName())) {
      throw new LeaseStillHeldException(lease.getLeaseName());
    }
    leases.put(lease.getLeaseName(),lease);
    leaseQueue.add(lease);
  }
}
