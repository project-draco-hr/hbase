{
  HConnection connection=Mockito.mock(HConnection.class);
  ServiceException connectException=new ServiceException(new ConnectException("Connection refused"));
  final AdminProtos.AdminService.BlockingInterface implementation=Mockito.mock(AdminProtos.AdminService.BlockingInterface.class);
  Mockito.when(implementation.getRegionInfo((RpcController)Mockito.any(),(GetRegionInfoRequest)Mockito.any())).thenThrow(connectException);
  Mockito.when(connection.getAdmin(Mockito.any(ServerName.class),Mockito.anyBoolean())).thenReturn(implementation);
  final CatalogTracker ct=constructAndStartCatalogTracker(connection);
  try {
    MetaRegionTracker.setMetaLocation(this.watcher,new ServerName("example.com",1234,System.currentTimeMillis()));
    Assert.assertFalse(ct.verifyMetaRegionLocation(100));
  }
  finally {
    MetaRegionTracker.deleteMetaLocation(this.watcher);
  }
}
