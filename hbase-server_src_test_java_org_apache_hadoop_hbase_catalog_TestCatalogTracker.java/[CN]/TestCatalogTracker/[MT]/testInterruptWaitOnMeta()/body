{
  final ClientProtos.ClientService.BlockingInterface client=Mockito.mock(ClientProtos.ClientService.BlockingInterface.class);
  HConnection connection=mockConnection(null,client);
  Mockito.when(client.get((RpcController)Mockito.any(),(GetRequest)Mockito.any())).thenReturn(GetResponse.newBuilder().build());
  final CatalogTracker ct=constructAndStartCatalogTracker(connection);
  ServerName meta=ct.getMetaLocation();
  Assert.assertNull(meta);
  Thread t=new Thread(){
    @Override public void run(){
      try {
        ct.waitForMeta();
      }
 catch (      InterruptedException e) {
        throw new RuntimeException("Interrupted",e);
      }
    }
  }
;
  t.start();
  while (!t.isAlive())   Threads.sleep(1);
  Threads.sleep(1);
  assertTrue(t.isAlive());
  ct.stop();
  t.join();
}
