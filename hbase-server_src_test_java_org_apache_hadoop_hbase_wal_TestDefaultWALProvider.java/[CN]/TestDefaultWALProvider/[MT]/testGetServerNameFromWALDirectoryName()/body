{
  ServerName sn=ServerName.valueOf("hn",450,1398);
  String hl=FSUtils.getRootDir(conf) + "/" + DefaultWALProvider.getWALDirectoryName(sn.toString());
  assertNull(DefaultWALProvider.getServerNameFromWALDirectoryName(conf,null));
  assertNull(DefaultWALProvider.getServerNameFromWALDirectoryName(conf,FSUtils.getRootDir(conf).toUri().toString()));
  assertNull(DefaultWALProvider.getServerNameFromWALDirectoryName(conf,""));
  assertNull(DefaultWALProvider.getServerNameFromWALDirectoryName(conf,"                  "));
  assertNull(DefaultWALProvider.getServerNameFromWALDirectoryName(conf,hl));
  assertNull(DefaultWALProvider.getServerNameFromWALDirectoryName(conf,hl + "qdf"));
  assertNull(DefaultWALProvider.getServerNameFromWALDirectoryName(conf,"sfqf" + hl + "qdf"));
  final String wals="/WALs/";
  ServerName parsed=DefaultWALProvider.getServerNameFromWALDirectoryName(conf,FSUtils.getRootDir(conf).toUri().toString() + wals + sn+ "/localhost%2C32984%2C1343316388997.1343316390417");
  assertEquals("standard",sn,parsed);
  parsed=DefaultWALProvider.getServerNameFromWALDirectoryName(conf,hl + "/qdf");
  assertEquals("subdir",sn,parsed);
  parsed=DefaultWALProvider.getServerNameFromWALDirectoryName(conf,FSUtils.getRootDir(conf).toUri().toString() + wals + sn+ "-splitting/localhost%3A57020.1340474893931");
  assertEquals("split",sn,parsed);
}
