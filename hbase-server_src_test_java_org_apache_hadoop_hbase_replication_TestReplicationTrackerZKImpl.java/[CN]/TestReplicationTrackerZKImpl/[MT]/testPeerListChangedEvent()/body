{
  rp.addPeer("5",utility.getClusterKey());
  zkw.getRecoverableZooKeeper().getZooKeeper().getChildren("/hbase/replication/peers/5",true);
  rt.registerListener(new DummyReplicationListener());
  rp.disablePeer("5");
  ZKUtil.deleteNode(zkw,"/hbase/replication/peers/5/peer-state");
  int tmp=plChangedCount.get();
  while (plChangedCount.get() <= tmp) {
    Thread.sleep(5);
  }
  assertEquals(1,plChangedData.size());
  assertTrue(plChangedData.contains("5"));
  ZKUtil.deleteNode(zkw,"/hbase/replication/peers/5");
}
