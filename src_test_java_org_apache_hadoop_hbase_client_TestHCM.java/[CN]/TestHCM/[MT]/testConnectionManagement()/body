{
  TEST_UTIL.createTable(TABLE_NAME1,FAM_NAM);
  HConnection conn=HConnectionManager.createConnection(TEST_UTIL.getConfiguration());
  ThreadPoolExecutor pool=new ThreadPoolExecutor(1,10,60,TimeUnit.SECONDS,new SynchronousQueue<Runnable>(),new DaemonThreadFactory());
  HTable table=new HTable(TABLE_NAME1,conn,pool);
  table.close();
  assertFalse(conn.isClosed());
  assertFalse(pool.isShutdown());
  table=new HTable(TEST_UTIL.getConfiguration(),TABLE_NAME1,pool);
  table.close();
  assertFalse(pool.isShutdown());
  conn.close();
  pool.shutdownNow();
}
