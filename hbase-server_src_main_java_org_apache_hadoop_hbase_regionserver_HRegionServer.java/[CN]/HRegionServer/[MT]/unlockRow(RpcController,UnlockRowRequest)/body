{
  try {
    requestCount.increment();
    HRegion region=getRegion(request.getRegion());
    if (!request.hasLockId()) {
      throw new DoNotRetryIOException("Invalid unlock rowrequest, missing lock id");
    }
    long lockId=request.getLockId();
    String lockName=String.valueOf(lockId);
    try {
      Integer r=rowlocks.remove(lockName);
      if (r == null) {
        throw new UnknownRowLockException(lockName);
      }
      region.releaseRowLock(r);
      this.leases.cancelLease(lockName);
      LOG.debug("Row lock " + lockId + " has been explicitly released by client");
      return UnlockRowResponse.newBuilder().build();
    }
 catch (    Throwable t) {
      throw convertThrowableToIOE(cleanup(t));
    }
  }
 catch (  IOException ie) {
    throw new ServiceException(ie);
  }
}
