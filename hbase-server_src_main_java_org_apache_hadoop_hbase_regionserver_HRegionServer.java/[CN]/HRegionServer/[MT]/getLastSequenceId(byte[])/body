{
  long lastFlushedSequenceId=-1L;
  try {
    GetLastFlushedSequenceIdRequest req=RequestConverter.buildGetLastFlushedSequenceIdRequest(encodedRegionName);
    RegionServerStatusService.BlockingInterface rss=rssStub;
    if (rss == null) {
      createRegionServerStatusStub();
      rss=rssStub;
      if (rss == null) {
        LOG.warn("Unable to connect to the master to check " + "the last flushed sequence id");
        return -1L;
      }
    }
    lastFlushedSequenceId=rss.getLastFlushedSequenceId(null,req).getLastFlushedSequenceId();
  }
 catch (  ServiceException e) {
    lastFlushedSequenceId=-1l;
    LOG.warn("Unable to connect to the master to check " + "the last flushed sequence id",e);
  }
  return lastFlushedSequenceId;
}
