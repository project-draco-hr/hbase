{
  if (nonceManager == null || !mutation.hasNonce())   return HConstants.NO_NONCE;
  boolean canProceed=false;
  try {
    canProceed=nonceManager.startOperation(nonceGroup,mutation.getNonce(),this);
  }
 catch (  InterruptedException ex) {
    throw new InterruptedIOException("Nonce start operation interrupted");
  }
  if (!canProceed) {
    String message="The operation with nonce {" + nonceGroup + ", "+ mutation.getNonce()+ "} on row ["+ Bytes.toString(mutation.getRow().toByteArray())+ "] may have already completed";
    throw new OperationConflictException(message);
  }
  return mutation.getNonce();
}
