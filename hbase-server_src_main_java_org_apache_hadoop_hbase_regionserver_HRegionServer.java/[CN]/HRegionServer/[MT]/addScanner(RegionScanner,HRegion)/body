{
  long scannerId=-1;
  while (true) {
    scannerId=Math.abs(rand.nextLong() << 24) ^ startcode;
    String scannerName=String.valueOf(scannerId);
    RegionScannerHolder existing=scanners.putIfAbsent(scannerName,new RegionScannerHolder(s,r));
    if (existing == null) {
      this.leases.createLease(scannerName,this.scannerLeaseTimeoutPeriod,new ScannerListener(scannerName));
      break;
    }
  }
  return scannerId;
}
