{
  String msg="ABORTING region server " + this + ": "+ reason;
  if (cause != null) {
    LOG.fatal(msg,cause);
  }
 else {
    LOG.fatal(msg);
  }
  this.abortRequested=true;
  this.reservedSpace.clear();
  LOG.fatal("RegionServer abort: loaded coprocessors are: " + CoprocessorHost.getLoadedCoprocessors());
  try {
    if (cause != null) {
      msg+="\nCause:\n" + StringUtils.stringifyException(cause);
    }
    if (hbaseMaster != null) {
      ReportRSFatalErrorRequest.Builder builder=ReportRSFatalErrorRequest.newBuilder();
      ServerName sn=ServerName.parseVersionedServerName(this.serverNameFromMasterPOV.getVersionedBytes());
      builder.setServer(ProtobufUtil.toServerName(sn));
      builder.setErrorMessage(msg);
      hbaseMaster.reportRSFatalError(null,builder.build());
    }
  }
 catch (  Throwable t) {
    LOG.warn("Unable to report fatal error to master",t);
  }
  stop(reason);
}
