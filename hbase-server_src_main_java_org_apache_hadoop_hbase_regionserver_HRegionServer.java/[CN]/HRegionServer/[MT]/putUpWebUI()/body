{
  int port=this.conf.getInt(HConstants.REGIONSERVER_INFO_PORT,60030);
  if (port < 0)   return port;
  String addr=this.conf.get("hbase.regionserver.info.bindAddress","0.0.0.0");
  boolean auto=this.conf.getBoolean(HConstants.REGIONSERVER_INFO_PORT_AUTO,false);
  while (true) {
    try {
      this.infoServer=new InfoServer("regionserver",addr,port,false,this.conf);
      this.infoServer.addServlet("status","/rs-status",RSStatusServlet.class);
      this.infoServer.addServlet("dump","/dump",RSDumpServlet.class);
      this.infoServer.setAttribute(REGIONSERVER,this);
      this.infoServer.start();
      break;
    }
 catch (    BindException e) {
      if (!auto) {
        throw e;
      }
      LOG.info("Failed binding http info server to port: " + port);
      port++;
    }
  }
  return port;
}
