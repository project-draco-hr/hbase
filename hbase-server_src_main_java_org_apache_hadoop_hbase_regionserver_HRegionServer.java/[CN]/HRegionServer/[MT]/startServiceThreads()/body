{
  String n=Thread.currentThread().getName();
  this.service=new ExecutorService(getServerName().toString());
  this.service.startExecutorService(ExecutorType.RS_OPEN_REGION,conf.getInt("hbase.regionserver.executor.openregion.threads",3));
  this.service.startExecutorService(ExecutorType.RS_OPEN_META,conf.getInt("hbase.regionserver.executor.openmeta.threads",1));
  this.service.startExecutorService(ExecutorType.RS_CLOSE_REGION,conf.getInt("hbase.regionserver.executor.closeregion.threads",3));
  this.service.startExecutorService(ExecutorType.RS_CLOSE_META,conf.getInt("hbase.regionserver.executor.closemeta.threads",1));
  if (conf.getBoolean(StoreScanner.STORESCANNER_PARALLEL_SEEK_ENABLE,false)) {
    this.service.startExecutorService(ExecutorType.RS_PARALLEL_SEEK,conf.getInt("hbase.storescanner.parallel.seek.threads",10));
  }
  Threads.setDaemonThreadRunning(this.hlogRoller.getThread(),n + ".logRoller",uncaughtExceptionHandler);
  this.cacheFlusher.start(uncaughtExceptionHandler);
  Threads.setDaemonThreadRunning(this.compactionChecker.getThread(),n + ".compactionChecker",uncaughtExceptionHandler);
  Threads.setDaemonThreadRunning(this.periodicFlusher.getThread(),n + ".periodicFlusher",uncaughtExceptionHandler);
  if (this.healthCheckChore != null) {
    Threads.setDaemonThreadRunning(this.healthCheckChore.getThread(),n + ".healthChecker",uncaughtExceptionHandler);
  }
  this.leases.setName(n + ".leaseChecker");
  this.leases.start();
  this.webuiport=putUpWebUI();
  if (this.replicationSourceHandler == this.replicationSinkHandler && this.replicationSourceHandler != null) {
    this.replicationSourceHandler.startReplicationService();
  }
 else   if (this.replicationSourceHandler != null) {
    this.replicationSourceHandler.startReplicationService();
  }
 else   if (this.replicationSinkHandler != null) {
    this.replicationSinkHandler.startReplicationService();
  }
  this.rpcServer.start();
  this.splitLogWorker=new SplitLogWorker(this.zooKeeper,this.getConfiguration(),this,this);
  splitLogWorker.start();
}
