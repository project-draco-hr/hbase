{
  HRegion region=this.onlineRegions.get(encodedRegionName);
  if (region == null) {
    MovedRegionInfo moveInfo=getMovedRegion(encodedRegionName);
    if (moveInfo != null) {
      throw new RegionMovedException(moveInfo.getServerName(),moveInfo.getSeqNum());
    }
    Boolean isOpening=this.regionsInTransitionInRS.get(Bytes.toBytes(encodedRegionName));
    if (isOpening != null && isOpening.booleanValue()) {
      throw new RegionOpeningException("Region is being opened: " + encodedRegionName);
    }
    throw new NotServingRegionException("Region is not online: " + encodedRegionName);
  }
  return region;
}
