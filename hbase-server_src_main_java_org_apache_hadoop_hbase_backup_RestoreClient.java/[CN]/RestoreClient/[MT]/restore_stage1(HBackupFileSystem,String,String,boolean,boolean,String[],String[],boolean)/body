{
  HashMap<String,BackupManifest> backupManifestMap=new HashMap<String,BackupManifest>();
  hBackupFS.checkImageManifestExist(backupManifestMap,sTableArray);
  try {
    if (check || autoRestore) {
      if (validate(backupManifestMap)) {
        LOG.info("Checking backup images: ok");
      }
 else {
        String errMsg="Some dependencies are missing for restore";
        LOG.error(errMsg);
        throw new IOException(errMsg);
      }
    }
    if (check) {
      return true;
    }
    if (tTableArray == null) {
      tTableArray=sTableArray;
    }
    checkTargetTables(tTableArray,isOverwrite);
    Set<BackupImage> restoreImageSet=restore_stage2(hBackupFS,backupManifestMap,sTableArray,tTableArray,autoRestore);
    LOG.info("Restore for " + Arrays.asList(sTableArray) + " are successful!");
    lastRestoreImagesSet=restoreImageSet;
  }
 catch (  IOException e) {
    LOG.error("ERROR: restore failed with error: " + e.getMessage());
    throw e;
  }
  return false;
}
