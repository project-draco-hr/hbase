{
  super(options);
  if (options.maxQueuedRequests > 0) {
    this.callQueue=new CallQueue(new LinkedBlockingQueue<Call>(options.maxQueuedRequests),metrics);
  }
 else {
    this.callQueue=new CallQueue(new SynchronousQueue<Call>(),metrics);
  }
  ThreadFactoryBuilder tfb=new ThreadFactoryBuilder();
  tfb.setDaemon(true);
  tfb.setNameFormat("thrift-worker-%d");
  executorService=new ThreadPoolExecutor(options.minWorkerThreads,options.maxWorkerThreads,options.threadKeepAliveTimeSec,TimeUnit.SECONDS,this.callQueue,tfb.build());
  serverOptions=options;
}
