{
  final String name="testHMsg";
  HMsg m=new HMsg(HMsg.Type.STOP_REGIONSERVER);
  byte[] mb=Writables.getBytes(m);
  HMsg deserializedHMsg=(HMsg)Writables.getWritable(mb,new HMsg());
  assertTrue(m.equals(deserializedHMsg));
  m=new HMsg(HMsg.Type.STOP_REGIONSERVER,new HRegionInfo(new HTableDescriptor(name),HConstants.EMPTY_BYTE_ARRAY,HConstants.EMPTY_BYTE_ARRAY),"Some message".getBytes());
  mb=Writables.getBytes(m);
  deserializedHMsg=(HMsg)Writables.getWritable(mb,new HMsg());
  assertTrue(m.equals(deserializedHMsg));
}
