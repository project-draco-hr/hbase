{
  this.entryStart=this.reader.getPosition();
  HLog.Entry e=reuse;
  if (e == null) {
    HLogKey key;
    if (keyClass == null) {
      key=HLog.newKey(conf);
    }
 else {
      try {
        key=keyClass.newInstance();
      }
 catch (      InstantiationException ie) {
        throw new IOException(ie);
      }
catch (      IllegalAccessException iae) {
        throw new IOException(iae);
      }
    }
    WALEdit val=new WALEdit();
    e=new HLog.Entry(key,val);
  }
  boolean b=false;
  try {
    if (compressionContext != null) {
      e.setCompressionContext(compressionContext);
    }
    b=this.reader.next(e.getKey(),e.getEdit());
  }
 catch (  IOException ioe) {
    throw addFileInfoToException(ioe);
  }
  edit++;
  return b ? e : null;
}
