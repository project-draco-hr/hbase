{
  if (bytes == null || (bytes.length - offset < SIZEOF_LONG)) {
    return offset;
  }
  for (int i=offset + 7; i > offset; i--) {
    bytes[i]=(byte)(val);
    val>>>=8;
  }
  bytes[offset]=(byte)(val);
  return offset + SIZEOF_LONG;
}
