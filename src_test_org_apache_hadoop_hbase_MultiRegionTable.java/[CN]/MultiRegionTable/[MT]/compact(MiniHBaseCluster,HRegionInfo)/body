{
  if (r == null) {
    LOG.debug("Passed region is null");
    return;
  }
  LOG.info("Starting compaction");
  for (  LocalHBaseCluster.RegionServerThread thread : cluster.getRegionThreads()) {
    SortedMap<Text,HRegion> regions=thread.getRegionServer().onlineRegions;
    for (int i=0; i < 10; i++) {
      try {
        for (        HRegion online : regions.values()) {
          if (online.getRegionName().toString().equals(r.getRegionName().toString())) {
            online.compactStores();
          }
        }
        break;
      }
 catch (      ConcurrentModificationException e) {
        LOG.warn("Retrying because ..." + e.toString() + " -- one or "+ "two should be fine");
        continue;
      }
    }
  }
}
