{
  if (this.server.stopRequested.get()) {
    return;
  }
  r.setForceMajorCompaction(force);
  if (LOG.isDebugEnabled()) {
    LOG.debug("Compaction " + (force ? "(major) " : "") + "requested for region "+ Bytes.toString(r.getRegionName())+ "/"+ r.getRegionInfo().getEncodedName()+ (why != null && !why.isEmpty() ? " because: " + why : ""));
  }
synchronized (regionsInQueue) {
    if (!regionsInQueue.contains(r)) {
      compactionQueue.add(r);
      regionsInQueue.add(r);
    }
  }
}
