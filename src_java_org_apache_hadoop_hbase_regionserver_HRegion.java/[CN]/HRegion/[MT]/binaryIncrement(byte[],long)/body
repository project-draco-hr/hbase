{
  for (int i=0; i < value.length; i++) {
    int cur=(int)(amount >> (8 * i)) % 256;
    int val=value[value.length - i - 1] & 0xff;
    int total=cur + val;
    if (total > 255) {
      amount+=((long)256 << (8 * i));
      total%=256;
    }
    value[value.length - i - 1]=(byte)total;
    amount=(amount >> (8 * (i + 1))) << (8 * (i + 1));
    if (amount == 0)     return value;
  }
  return value;
}
