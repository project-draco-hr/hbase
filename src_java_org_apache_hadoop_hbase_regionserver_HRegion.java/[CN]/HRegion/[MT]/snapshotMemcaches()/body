{
  if (this.memcacheSize.get() == 0) {
    return -1;
  }
  long startTime=System.currentTimeMillis();
  if (LOG.isDebugEnabled()) {
    LOG.debug("Started memcache flush for region " + this.regionInfo.getRegionName() + ". Size "+ StringUtils.humanReadableInt(this.memcacheSize.get()));
  }
  this.memcacheSize.set(0L);
  this.flushRequested=false;
  this.lastFlushTime=System.currentTimeMillis();
  for (  HStore hstore : stores.values()) {
    hstore.snapshotMemcache();
  }
  return startTime;
}
