{
  this.onDisk=onDisk != null ? onDisk : DataBlockEncoding.NONE;
  this.inCache=inCache != null ? inCache : DataBlockEncoding.NONE;
  if (inCache != DataBlockEncoding.NONE) {
    inCacheEncodeCtx=this.inCache.getEncoder().newDataBlockEncodingContext(Algorithm.NONE,this.inCache,dummyHeader);
  }
 else {
    inCacheEncodeCtx=new HFileBlockDefaultEncodingContext(Algorithm.NONE,this.inCache,dummyHeader);
  }
  Preconditions.checkArgument(onDisk == DataBlockEncoding.NONE || onDisk == inCache,"on-disk encoding (" + onDisk + ") must be "+ "either the same as in-cache encoding ("+ inCache+ ") or "+ DataBlockEncoding.NONE);
}
