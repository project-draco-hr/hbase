{
  for (  HServerInfo rsinfo : regionServerList) {
    errors.progress();
    try {
      HRegionInterface server=connection.getHRegionConnection(rsinfo.getServerAddress());
      List<HRegionInfo> regions=server.getOnlineRegions();
      if (details) {
        errors.detail("RegionServer: " + rsinfo.getServerName() + " number of regions: "+ regions.size());
        for (        HRegionInfo rinfo : regions) {
          errors.detail("  " + rinfo.getRegionNameAsString() + " id: "+ rinfo.getRegionId()+ " encoded_name: "+ rinfo.getEncodedName()+ " start: "+ Bytes.toStringBinary(rinfo.getStartKey())+ " end: "+ Bytes.toStringBinary(rinfo.getEndKey()));
        }
      }
      for (      HRegionInfo r : regions) {
        HbckInfo hbi=getOrCreateInfo(r.getEncodedName());
        hbi.deployedOn.add(rsinfo.getServerAddress());
      }
    }
 catch (    IOException e) {
      errors.reportError("\nRegionServer:" + rsinfo.getServerName() + " Unable to fetch region information. "+ e);
    }
  }
}
