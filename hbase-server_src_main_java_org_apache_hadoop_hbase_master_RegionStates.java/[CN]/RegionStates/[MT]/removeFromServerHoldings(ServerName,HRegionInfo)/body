{
  Set<HRegionInfo> oldRegions=serverHoldings.get(serverName);
  oldRegions.remove(hri);
  if (oldRegions.isEmpty()) {
    serverHoldings.remove(serverName);
  }
  HRegionInfo defaultReplica=RegionReplicaUtil.getRegionInfoForDefaultReplica(hri);
  Set<HRegionInfo> replicas=defaultReplicaToOtherReplicas.get(defaultReplica);
  if (replicas != null) {
    replicas.remove(hri);
    if (replicas.isEmpty()) {
      defaultReplicaToOtherReplicas.remove(defaultReplica);
    }
  }
}
