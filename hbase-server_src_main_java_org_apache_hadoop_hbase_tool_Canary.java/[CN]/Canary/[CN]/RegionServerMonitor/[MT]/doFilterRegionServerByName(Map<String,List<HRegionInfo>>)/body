{
  Map<String,List<HRegionInfo>> filteredRsAndRMap=null;
  if (this.targets != null && this.targets.length > 0) {
    filteredRsAndRMap=new HashMap<String,List<HRegionInfo>>();
    Pattern pattern=null;
    Matcher matcher=null;
    boolean regExpFound=false;
    for (    String rsName : this.targets) {
      if (this.useRegExp) {
        regExpFound=false;
        pattern=Pattern.compile(rsName);
        for (        String tmpRsName : fullRsAndRMap.keySet()) {
          matcher=pattern.matcher(tmpRsName);
          if (matcher.matches()) {
            filteredRsAndRMap.put(tmpRsName,fullRsAndRMap.get(tmpRsName));
            regExpFound=true;
          }
        }
        if (!regExpFound) {
          LOG.error("No any RegionServerInfo found, regionServerPattern:" + rsName);
          this.error=true;
        }
      }
 else {
        if (fullRsAndRMap.containsKey(rsName)) {
          filteredRsAndRMap.put(rsName,fullRsAndRMap.get(rsName));
        }
 else {
          LOG.error("No any RegionServerInfo found, regionServerName:" + rsName);
          this.error=true;
        }
      }
    }
  }
 else {
    filteredRsAndRMap=fullRsAndRMap;
  }
  return filteredRsAndRMap;
}
