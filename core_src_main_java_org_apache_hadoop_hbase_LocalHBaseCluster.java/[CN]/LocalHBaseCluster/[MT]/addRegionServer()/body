{
synchronized (regionThreads) {
    HRegionServer server;
    try {
      server=regionServerClass.getConstructor(Configuration.class).newInstance(conf);
    }
 catch (    Exception e) {
      IOException ioe=new IOException();
      ioe.initCause(e);
      throw ioe;
    }
    RegionServerThread t=new RegionServerThread(server,this.regionThreads.size());
    this.regionThreads.add(t);
    return t;
  }
}
