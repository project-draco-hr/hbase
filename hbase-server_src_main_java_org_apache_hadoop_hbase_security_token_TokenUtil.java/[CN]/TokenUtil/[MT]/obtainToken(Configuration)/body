{
  HTable meta=null;
  try {
    meta=new HTable(conf,".META.");
    CoprocessorRpcChannel rpcChannel=meta.coprocessorService(HConstants.EMPTY_START_ROW);
    AuthenticationProtos.AuthenticationService.BlockingInterface service=AuthenticationProtos.AuthenticationService.newBlockingStub(rpcChannel);
    AuthenticationProtos.TokenResponse response=service.getAuthenticationToken(null,AuthenticationProtos.TokenRequest.getDefaultInstance());
    return ProtobufUtil.toToken(response.getToken());
  }
 catch (  ServiceException se) {
    ProtobufUtil.toIOException(se);
  }
 finally {
    if (meta != null) {
      meta.close();
    }
  }
  return null;
}
