{
  try (Connection connection=ConnectionFactory.createConnection(conf)){
    try (Table meta=connection.getTable(TableName.META_TABLE_NAME)){
      CoprocessorRpcChannel rpcChannel=meta.coprocessorService(HConstants.EMPTY_START_ROW);
      AuthenticationProtos.AuthenticationService.BlockingInterface service=AuthenticationProtos.AuthenticationService.newBlockingStub(rpcChannel);
      AuthenticationProtos.GetAuthenticationTokenResponse response=service.getAuthenticationToken(null,AuthenticationProtos.GetAuthenticationTokenRequest.getDefaultInstance());
      return ProtobufUtil.toToken(response.getToken());
    }
 catch (    ServiceException se) {
      ProtobufUtil.toIOException(se);
    }
  }
   return null;
}
