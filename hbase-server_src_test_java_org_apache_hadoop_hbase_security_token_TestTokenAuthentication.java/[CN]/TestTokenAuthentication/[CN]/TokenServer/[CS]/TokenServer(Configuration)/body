{
  this.conf=conf;
  this.startcode=EnvironmentEdgeManager.currentTimeMillis();
  String hostname=Strings.domainNamePointerToHostName(DNS.getDefaultHost("default","default"));
  int port=0;
  InetSocketAddress initialIsa=new InetSocketAddress(hostname,port);
  if (initialIsa.getAddress() == null) {
    throw new IllegalArgumentException("Failed resolve of " + initialIsa);
  }
  this.rpcServer=HBaseServerRPC.getServer(TokenServer.class,this,new Class<?>[]{AuthenticationProtos.AuthenticationService.Interface.class},initialIsa.getHostName(),initialIsa.getPort(),3,1,true,this.conf,HConstants.QOS_THRESHOLD);
  this.isa=this.rpcServer.getListenerAddress();
  this.sleeper=new Sleeper(1000,this);
}
