{
  this.conf=conf;
  this.startcode=EnvironmentEdgeManager.currentTimeMillis();
  String hostname=Strings.domainNamePointerToHostName(DNS.getDefaultHost("default","default"));
  int port=0;
  InetSocketAddress initialIsa=new InetSocketAddress(hostname,port);
  if (initialIsa.getAddress() == null) {
    throw new IllegalArgumentException("Failed resolve of " + initialIsa);
  }
  final List<BlockingServiceAndInterface> sai=new ArrayList<BlockingServiceAndInterface>(1);
  BlockingService service=AuthenticationProtos.AuthenticationService.newReflectiveBlockingService(this);
  sai.add(new BlockingServiceAndInterface(service,AuthenticationProtos.AuthenticationService.BlockingInterface.class));
  this.rpcServer=new RpcServer(this,"tokenServer",sai,initialIsa,3,1,conf,HConstants.QOS_THRESHOLD);
  this.isa=this.rpcServer.getListenerAddress();
  this.sleeper=new Sleeper(1000,this);
}
