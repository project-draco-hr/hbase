{
  HTablePool pool=new HTablePool((HBaseConfiguration)null,2);
  String tableName="testTable";
  HTable table1=pool.getTable(tableName);
  HTable table2=pool.getTable(tableName);
  HTable table3=pool.getTable(tableName);
  pool.putTable(table1);
  pool.putTable(table2);
  pool.putTable(table3);
  HTable sameTable1=pool.getTable(tableName);
  HTable sameTable2=pool.getTable(tableName);
  HTable sameTable3=pool.getTable(tableName);
  assertSame(table1,sameTable1);
  assertSame(table2,sameTable2);
  assertNotSame(table3,sameTable3);
}
