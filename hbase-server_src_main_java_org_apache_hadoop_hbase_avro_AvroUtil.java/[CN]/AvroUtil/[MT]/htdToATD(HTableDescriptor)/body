{
  ATableDescriptor atd=new ATableDescriptor();
  atd.name=ByteBuffer.wrap(table.getName());
  Collection<HColumnDescriptor> families=table.getFamilies();
  Schema afdSchema=Schema.createArray(AFamilyDescriptor.SCHEMA$);
  GenericData.Array<AFamilyDescriptor> afamilies=null;
  if (families.size() > 0) {
    afamilies=new GenericData.Array<AFamilyDescriptor>(families.size(),afdSchema);
    for (    HColumnDescriptor hcd : families) {
      AFamilyDescriptor afamily=hcdToAFD(hcd);
      afamilies.add(afamily);
    }
  }
 else {
    afamilies=new GenericData.Array<AFamilyDescriptor>(0,afdSchema);
  }
  atd.families=afamilies;
  atd.maxFileSize=table.getMaxFileSize();
  atd.memStoreFlushSize=table.getMemStoreFlushSize();
  atd.rootRegion=table.isRootRegion();
  atd.metaRegion=table.isMetaRegion();
  atd.metaTable=table.isMetaTable();
  atd.readOnly=table.isReadOnly();
  atd.deferredLogFlush=table.isDeferredLogFlush();
  return atd;
}
