{
  ServerName sn=new ServerName(serverName);
  AdminService.BlockingInterface admin=this.connection.getAdmin(sn);
  RollWALWriterRequest request=RequestConverter.buildRollWALWriterRequest();
  try {
    RollWALWriterResponse response=admin.rollWALWriter(null,request);
    int regionCount=response.getRegionToFlushCount();
    byte[][] regionsToFlush=new byte[regionCount][];
    for (int i=0; i < regionCount; i++) {
      ByteString region=response.getRegionToFlush(i);
      regionsToFlush[i]=region.toByteArray();
    }
    return regionsToFlush;
  }
 catch (  ServiceException se) {
    throw ProtobufUtil.getRemoteException(se);
  }
}
