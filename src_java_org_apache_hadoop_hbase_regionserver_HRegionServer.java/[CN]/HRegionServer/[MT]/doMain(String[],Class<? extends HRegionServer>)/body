{
  if (args.length < 1) {
    printUsageAndExit();
  }
  Configuration conf=new HBaseConfiguration();
  for (  String cmd : args) {
    if (cmd.equals("start")) {
      try {
        if (LocalHBaseCluster.isLocal(conf)) {
          LOG.warn("Not starting a distinct region server because " + "hbase.master is set to 'local' mode");
        }
 else {
          RuntimeMXBean runtime=ManagementFactory.getRuntimeMXBean();
          if (runtime != null) {
            LOG.info("vmInputArguments=" + runtime.getInputArguments());
          }
          Constructor<? extends HRegionServer> c=regionServerClass.getConstructor(HBaseConfiguration.class);
          HRegionServer hrs=c.newInstance(conf);
          Thread t=new Thread(hrs);
          t.setName("regionserver" + hrs.server.getListenerAddress());
          t.start();
        }
      }
 catch (      Throwable t) {
        LOG.error("Can not start region server because " + StringUtils.stringifyException(t));
      }
      break;
    }
    if (cmd.equals("stop")) {
      printUsageAndExit("To shutdown the regionserver run " + "bin/hbase-daemon.sh stop regionserver or send a kill signal to" + "the regionserver pid");
    }
    printUsageAndExit();
  }
}
