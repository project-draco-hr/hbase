{
  ArrayList<HRegionInfo> regions=new ArrayList<HRegionInfo>();
synchronized (onlineRegions) {
    for (    Map.Entry<Text,HRegion> entry : onlineRegions.entrySet()) {
      if (regions.size() < numRegionsToReport) {
        regions.add(entry.getValue().getRegionInfo());
      }
 else {
        break;
      }
    }
  }
  return regions.toArray(new HRegionInfo[regions.size()]);
}
