{
  long lockid=t.startUpdate(region.getRegionName());
  t.put(lockid,HConstants.COL_REGIONINFO,Writables.getBytes(region.getRegionInfo()));
  t.put(lockid,HConstants.COL_SERVER,Writables.stringToBytes(serverAddress.toString()));
  t.put(lockid,HConstants.COL_STARTCODE,Writables.longToBytes(startCode));
  t.commit(lockid);
  byte[] bytes=t.get(region.getRegionName(),HConstants.COL_REGIONINFO).getValue();
  HRegionInfo hri=Writables.getHRegionInfo(bytes);
  assertEquals(region.getRegionId(),hri.getRegionId());
  if (LOG.isDebugEnabled()) {
    LOG.info("Added region " + region.getRegionName() + " to table "+ t.getTableName());
  }
}
