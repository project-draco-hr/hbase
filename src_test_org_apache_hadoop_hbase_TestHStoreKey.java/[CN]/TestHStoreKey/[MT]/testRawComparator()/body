{
  long timestamp=System.currentTimeMillis();
  byte[] a=Bytes.toBytes("a");
  HStoreKey past=new HStoreKey(a,a,timestamp - 10);
  byte[] pastBytes=Writables.getBytes(past);
  HStoreKey now=new HStoreKey(a,a,timestamp);
  byte[] nowBytes=Writables.getBytes(now);
  HStoreKey future=new HStoreKey(a,a,timestamp + 10);
  byte[] futureBytes=Writables.getBytes(future);
  HStoreKey.StoreKeyComparator comparator=new HStoreKey.StoreKeyComparator();
  assertTrue(past.compareTo(now) > 0);
  assertTrue(comparator.compare(pastBytes,nowBytes) > 0);
  assertTrue(now.compareTo(now) == 0);
  assertTrue(comparator.compare(nowBytes,nowBytes) == 0);
  assertTrue(future.compareTo(now) < 0);
  assertTrue(comparator.compare(futureBytes,nowBytes) < 0);
  HStoreKey nocolumn=new HStoreKey(a,timestamp);
  byte[] nocolumnBytes=Writables.getBytes(nocolumn);
  HStoreKey withcolumn=new HStoreKey(a,a,timestamp);
  byte[] withcolumnBytes=Writables.getBytes(withcolumn);
  assertTrue(nocolumn.compareTo(withcolumn) < 0);
  assertTrue(comparator.compare(nocolumnBytes,withcolumnBytes) < 0);
  nocolumn=new HStoreKey(a,HConstants.LATEST_TIMESTAMP);
  nocolumnBytes=Writables.getBytes(nocolumn);
  withcolumn=new HStoreKey(a,a,timestamp);
  withcolumnBytes=Writables.getBytes(withcolumn);
  assertTrue(nocolumn.compareTo(withcolumn) < 0);
  assertTrue(comparator.compare(nocolumnBytes,withcolumnBytes) < 0);
}
