{
  LeaseName name=null;
synchronized (leases) {
synchronized (sortedLeases) {
      Lease lease=new Lease(holderId,resourceId,listener);
      name=lease.getLeaseName();
      if (leases.get(name) != null) {
        throw new AssertionError("Impossible state for createLease(): " + "Lease " + name + " is still held.");
      }
      leases.put(name,lease);
      sortedLeases.add(lease);
    }
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug("Created lease " + name);
  }
}
