{
  while (!stopRequested || (stopRequested && leaseQueue.size() > 0)) {
    Lease lease=null;
    try {
      lease=leaseQueue.poll(leaseCheckFrequency,TimeUnit.MILLISECONDS);
    }
 catch (    InterruptedException e) {
      continue;
    }
catch (    ConcurrentModificationException e) {
      continue;
    }
    if (lease == null) {
      continue;
    }
synchronized (leaseQueue) {
      leases.remove(lease.getLeaseName());
      if (lease.getListener() == null) {
        LOG.error("lease listener is null for lease " + lease.getLeaseName());
        continue;
      }
    }
    lease.getListener().leaseExpired();
  }
  close();
}
