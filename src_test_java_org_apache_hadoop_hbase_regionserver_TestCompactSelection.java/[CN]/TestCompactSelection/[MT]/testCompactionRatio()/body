{
  long tooBig=maxSize + 1;
  compactEquals(sfCreate(100,50,23,12,12),23,12,12);
  compactEquals(sfCreate(100,50,25,12,12));
  compactEquals(sfCreate(tooBig,tooBig,700,700,700),700,700,700);
  compactEquals(sfCreate(tooBig,tooBig,700,700));
  compactEquals(sfCreate(8,3,1),8,3,1);
  compactEquals(sfCreate(100,50,23,12,12,500),23,12,12);
  assertEquals(maxFiles,store.compactSelection(sfCreate(7,6,5,4,3,2,1),false).size());
  compactEquals(sfCreate(100,50,25,12,12),true,100,50,25,12,12);
  compactEquals(sfCreate(12,12),true,12,12);
  compactEquals(sfCreate(tooBig,12,12),true,12,12);
  assertEquals(maxFiles,store.compactSelection(sfCreate(7,6,5,4,3,2,1),true).size());
  compactEquals(sfCreate(true,100,50,25,12,12),true,100,50,25,12,12);
  compactEquals(sfCreate(true,tooBig,12,12),true,tooBig,12,12);
  assertEquals(maxFiles,store.compactSelection(sfCreate(true,7,6,5,4,3,2,1),true).size());
  compactEquals(new ArrayList<StoreFile>());
  compactEquals(sfCreate(tooBig,tooBig));
}
