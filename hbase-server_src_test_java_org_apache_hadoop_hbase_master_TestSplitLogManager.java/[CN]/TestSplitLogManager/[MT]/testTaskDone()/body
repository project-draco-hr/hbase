{
  LOG.info("TestTaskDone - cleanup task node once in DONE state");
  slm=new SplitLogManager(zkw,conf,stopper,master,DUMMY_MASTER,null);
  slm.finishInitialization();
  TaskBatch batch=new TaskBatch();
  String tasknode=submitTaskAndWait(batch,"foo/1");
  final ServerName worker1=new ServerName("worker1,1,1");
  SplitLogTask slt=new SplitLogTask.Done(worker1);
  ZKUtil.setData(zkw,tasknode,slt.toByteArray());
synchronized (batch) {
    while (batch.installed != batch.done) {
      batch.wait();
    }
  }
  waitForCounter(tot_mgr_task_deleted,0,1,1000);
  assertTrue(ZKUtil.checkExists(zkw,tasknode) == -1);
}
