{
  if (this.server.isStopped()) {
    return;
  }
  if (force) {
    s.setForceMajorCompaction(force);
  }
  CompactionRequest compactionRequest=new CompactionRequest(r,s,priority);
  if (compactionQueue.add(compactionRequest) && LOG.isDebugEnabled()) {
    LOG.debug("Compaction " + (force ? "(major) " : "") + "requested for region "+ r.getRegionNameAsString()+ "/"+ r.getRegionInfo().getEncodedName()+ ", store "+ s+ (why != null && !why.isEmpty() ? " because " + why : "")+ "; priority="+ priority+ ", compaction queue size="+ compactionQueue.size());
  }
}
