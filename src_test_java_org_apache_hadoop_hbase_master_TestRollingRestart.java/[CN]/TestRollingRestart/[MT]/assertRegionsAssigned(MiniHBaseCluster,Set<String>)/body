{
  int numFound=0;
  for (  RegionServerThread rst : cluster.getLiveRegionServerThreads()) {
    numFound+=rst.getRegionServer().getNumberOfOnlineRegions();
  }
  if (expectedRegions.size() != numFound) {
    LOG.debug("Expected to find " + expectedRegions.size() + " but only found"+ " "+ numFound);
    NavigableSet<String> foundRegions=getAllOnlineRegions(cluster);
    for (    String region : expectedRegions) {
      if (!foundRegions.contains(region)) {
        LOG.debug("Missing region: " + region);
      }
    }
    assertEquals(expectedRegions.size(),numFound);
  }
 else {
    log("Success!  Found expected number of " + numFound + " regions");
  }
}
