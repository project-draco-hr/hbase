{
  long id;
  TransactionStatus existing;
  do {
    id=random.nextLong();
    existing=getStatusForTransaction(id);
  }
 while (existing != null);
  setStatusForTransaction(id,TransactionStatus.PENDING);
  return id;
}
