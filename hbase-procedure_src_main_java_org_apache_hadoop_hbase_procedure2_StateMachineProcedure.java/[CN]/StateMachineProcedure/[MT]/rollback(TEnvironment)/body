{
  try {
    updateTimestamp();
    rollbackState(env,stateCount > 0 ? getState(states[stateCount - 1]) : getInitialState());
    stateCount--;
  }
  finally {
    updateTimestamp();
  }
}
