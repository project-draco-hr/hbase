{
  ClassLoader parent=TestDynamicClassLoader.class.getClassLoader();
  DynamicClassLoader classLoader=new DynamicClassLoader(conf,parent);
  String className="TestLoadClassFromAnotherPath";
  try {
    classLoader.loadClass(className);
    fail("Should not be able to load class " + className);
  }
 catch (  ClassNotFoundException cnfe) {
  }
  try {
    buildJar(className,TEST_UTIL.getDataTestDir().toString());
    classLoader.loadClass(className);
  }
 catch (  ClassNotFoundException cnfe) {
    LOG.error("Should be able to load class " + className,cnfe);
    fail(cnfe.getMessage());
  }
 finally {
    deleteClass(className);
  }
}
