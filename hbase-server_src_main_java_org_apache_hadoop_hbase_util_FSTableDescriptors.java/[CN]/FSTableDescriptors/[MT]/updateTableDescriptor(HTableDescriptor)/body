{
  if (fsreadonly) {
    throw new NotImplementedException("Cannot update a table descriptor - in read only mode");
  }
  Path tableDir=getTableDir(htd.getTableName());
  Path p=writeTableDescriptor(fs,htd,tableDir,getTableInfoPath(tableDir));
  if (p == null)   throw new IOException("Failed update");
  LOG.info("Updated tableinfo=" + p);
  return p;
}
