{
  if (fsreadonly) {
    throw new NotImplementedException("Cannot add a table descriptor - in read only mode");
  }
  if (Bytes.equals(HConstants.ROOT_TABLE_NAME,htd.getName())) {
    throw new NotImplementedException();
  }
  if (Bytes.equals(HConstants.META_TABLE_NAME,htd.getName())) {
    throw new NotImplementedException();
  }
  if (HConstants.HBASE_NON_USER_TABLE_DIRS.contains(htd.getNameAsString())) {
    throw new NotImplementedException("Cannot add a table descriptor for a reserved subdirectory name: " + htd.getNameAsString());
  }
  updateTableDescriptor(htd);
  long modtime=getTableInfoModtime(htd.getNameAsString());
  this.cache.put(htd.getNameAsString(),new TableDescriptorAndModtime(modtime,htd));
}
