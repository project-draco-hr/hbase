{
  invocations++;
  if (HTableDescriptor.ROOT_TABLEDESC.getNameAsString().equals(tablename)) {
    cachehits++;
    return HTableDescriptor.ROOT_TABLEDESC;
  }
  if (HTableDescriptor.META_TABLEDESC.getNameAsString().equals(tablename)) {
    cachehits++;
    return HTableDescriptor.META_TABLEDESC;
  }
  if (HConstants.HBASE_NON_USER_TABLE_DIRS.contains(tablename)) {
    throw new IOException("No descriptor found for table = " + tablename);
  }
  TableDescriptorModtime cachedtdm=this.cache.get(tablename);
  if (cachedtdm != null) {
    if (getTableInfoModtime(this.fs,this.rootdir,tablename) <= cachedtdm.getModtime()) {
      cachehits++;
      return cachedtdm.getTableDescriptor();
    }
  }
  TableDescriptorModtime tdmt=null;
  try {
    tdmt=getTableDescriptorModtime(this.fs,this.rootdir,tablename);
  }
 catch (  NullPointerException e) {
    LOG.debug("Exception during readTableDecriptor. Current table name = " + tablename,e);
  }
catch (  IOException ioe) {
    LOG.debug("Exception during readTableDecriptor. Current table name = " + tablename,ioe);
  }
  if (tdmt == null) {
    LOG.warn("The following folder is in HBase's root directory and " + "doesn't contain a table descriptor, " + "do consider deleting it: "+ tablename);
  }
 else {
    this.cache.put(tablename,tdmt);
  }
  return tdmt == null ? null : tdmt.getTableDescriptor();
}
