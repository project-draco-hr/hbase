{
  ByteBuffer rawKeyValues=ByteBuffer.wrap(uncompressedBytesWithHeader,HConstants.HFILEBLOCK_HEADER_SIZE,uncompressedBytesWithHeader.length - HConstants.HFILEBLOCK_HEADER_SIZE).slice();
  dataBlockEncoder.beforeWriteToDisk(rawKeyValues,includesMemstoreTS,dataBlockEncodingCtx,blockType);
  uncompressedBytesWithHeader=dataBlockEncodingCtx.getUncompressedBytesWithHeader();
  onDiskBytesWithHeader=dataBlockEncodingCtx.getOnDiskBytesWithHeader();
  blockType=dataBlockEncodingCtx.getBlockType();
}
