{
  HFileContext newContext=new HFileContextBuilder().withBlockSize(fileContext.getBlocksize()).withBytesPerCheckSum(0).withChecksumType(ChecksumType.NULL).withCompressionAlgo(fileContext.getCompression()).withDataBlockEncodingInCache(fileContext.getEncodingInCache()).withDataBlockEncodingOnDisk(fileContext.getEncodingOnDisk()).withHBaseCheckSum(fileContext.shouldUseHBaseChecksum()).withCompressTags(fileContext.shouldCompressTags()).withIncludesMvcc(fileContext.shouldIncludeMvcc()).withIncludesTags(fileContext.shouldIncludeTags()).build();
  return new HFileBlock(blockType,getOnDiskSizeWithoutHeader(),getUncompressedSizeWithoutHeader(),prevOffset,getUncompressedBufferWithHeader(),DONT_FILL_HEADER,startOffset,onDiskBytesWithHeader.length + onDiskChecksum.length,newContext);
}
