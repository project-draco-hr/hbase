{
  long size=ClassSize.align(ClassSize.OBJECT + 2 * ClassSize.REFERENCE + 6 * Bytes.SIZEOF_INT + 1 * Bytes.SIZEOF_BYTE + 2 * Bytes.SIZEOF_LONG + Bytes.SIZEOF_BOOLEAN);
  if (buf != null) {
    size+=ClassSize.align(buf.capacity() + BYTE_BUFFER_HEAP_SIZE);
  }
  return ClassSize.align(size);
}
