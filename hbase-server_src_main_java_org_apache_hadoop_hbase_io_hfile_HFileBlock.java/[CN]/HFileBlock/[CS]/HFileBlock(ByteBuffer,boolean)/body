{
  b.rewind();
  blockType=BlockType.read(b);
  onDiskSizeWithoutHeader=b.getInt();
  uncompressedSizeWithoutHeader=b.getInt();
  prevBlockOffset=b.getLong();
  this.fileContext=new HFileContext();
  this.fileContext.setUsesHBaseChecksum(usesHBaseChecksum);
  if (usesHBaseChecksum) {
    this.fileContext.setChecksumType(ChecksumType.codeToType(b.get()));
    this.fileContext.setBytesPerChecksum(b.getInt());
    this.onDiskDataSizeWithHeader=b.getInt();
  }
 else {
    this.fileContext.setChecksumType(ChecksumType.NULL);
    this.fileContext.setBytesPerChecksum(0);
    this.onDiskDataSizeWithHeader=onDiskSizeWithoutHeader + HConstants.HFILEBLOCK_HEADER_SIZE_NO_CHECKSUM;
  }
  buf=b;
  buf.rewind();
}
