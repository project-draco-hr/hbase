{
  LOG.info("Shutting down minicluster");
  if (this.hbaseCluster != null) {
    this.hbaseCluster.shutdown();
    this.hbaseCluster.join();
  }
  shutdownMiniZKCluster();
  if (this.dfsCluster != null) {
    this.dfsCluster.shutdown();
  }
  if (this.clusterTestBuildDir != null && this.clusterTestBuildDir.exists()) {
    if (!FSUtils.deleteDirectory(FileSystem.getLocal(this.conf),new Path(this.clusterTestBuildDir.toString()))) {
      LOG.warn("Failed delete of " + this.clusterTestBuildDir.toString());
    }
  }
  LOG.info("Minicluster is down");
}
