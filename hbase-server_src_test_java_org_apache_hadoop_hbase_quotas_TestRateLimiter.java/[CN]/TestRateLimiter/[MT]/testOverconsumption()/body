{
  RateLimiter limiter=new RateLimiter();
  limiter.set(10,TimeUnit.SECONDS);
  assertTrue(limiter.canExecute(0,0));
  limiter.consume(20);
  assertEquals(1100,limiter.waitInterval());
  assertFalse(limiter.canExecute(1000,0));
  assertEquals(100,limiter.waitInterval());
  assertTrue(limiter.canExecute(1100,0));
  assertEquals(0,limiter.waitInterval());
}
