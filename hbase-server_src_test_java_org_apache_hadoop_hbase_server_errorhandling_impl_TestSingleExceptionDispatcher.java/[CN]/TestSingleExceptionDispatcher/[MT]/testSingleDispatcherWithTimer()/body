{
  ExceptionListener<Exception> listener1=Mockito.mock(ExceptionListener.class);
  ExceptionListener<Exception> listener2=Mockito.mock(ExceptionListener.class);
  ExceptionDispatcher<? extends ExceptionListener<Exception>,Exception> monitor=new ExceptionDispatcher<ExceptionListener<Exception>,Exception>();
  monitor.addErrorListener(monitor.genericVisitor,listener1);
  monitor.addErrorListener(monitor.genericVisitor,listener2);
  Object info="message";
  OperationAttemptTimer timer=new OperationAttemptTimer(monitor,1000,info);
  timer.start();
  timer.trigger();
  assertTrue("Monitor didn't get timeout",monitor.checkForError());
  Mockito.verify(listener1).receiveError(Mockito.anyString(),Mockito.any(OperationAttemptTimeoutException.class),Mockito.eq(info));
  Mockito.verify(listener2).receiveError(Mockito.anyString(),Mockito.any(OperationAttemptTimeoutException.class),Mockito.eq(info));
}
