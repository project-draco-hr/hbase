{
  Configuration conf=HBaseConfiguration.create();
  conf.set(HConstants.CRYPTO_KEYPROVIDER_CONF_KEY,KeyProviderForTesting.class.getName());
  try {
    EncryptionTest.testEncryption(conf,"AES",null);
  }
 catch (  Exception e) {
    fail("Test for cipher AES should have succeeded");
  }
  try {
    EncryptionTest.testEncryption(conf,"foobar",null);
    fail("Test for bogus cipher should have failed");
  }
 catch (  Exception e) {
  }
}
