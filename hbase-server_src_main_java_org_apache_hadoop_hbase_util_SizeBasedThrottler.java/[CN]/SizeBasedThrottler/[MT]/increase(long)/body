{
  if (currentSize.get() >= threshold) {
synchronized (this) {
      while (currentSize.get() >= threshold) {
        wait();
      }
    }
  }
  return currentSize.addAndGet(delta);
}
