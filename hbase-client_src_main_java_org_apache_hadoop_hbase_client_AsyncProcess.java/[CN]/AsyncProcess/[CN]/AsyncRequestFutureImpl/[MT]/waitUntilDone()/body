{
  long lastLog=EnvironmentEdgeManager.currentTimeMillis();
  long currentInProgress;
  try {
    while (0 != (currentInProgress=actionsInProgress.get())) {
      long now=EnvironmentEdgeManager.currentTimeMillis();
      if (now > lastLog + 10000) {
        lastLog=now;
        LOG.info("#" + id + ", waiting for "+ currentInProgress+ "  actions to finish");
      }
synchronized (actionsInProgress) {
        if (actionsInProgress.get() == 0)         break;
        actionsInProgress.wait(100);
      }
    }
  }
 catch (  InterruptedException iex) {
    throw new InterruptedIOException(iex.getMessage());
  }
}
