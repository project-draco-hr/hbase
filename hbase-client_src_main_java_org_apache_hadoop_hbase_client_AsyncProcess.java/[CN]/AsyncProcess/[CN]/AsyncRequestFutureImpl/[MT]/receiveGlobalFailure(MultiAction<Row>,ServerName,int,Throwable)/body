{
  errorsByServer.reportServerError(server);
  boolean canRetry=errorsByServer.canRetryMore(numAttempt);
  List<Action<Row>> toReplay=new ArrayList<Action<Row>>();
  for (  Map.Entry<byte[],List<Action<Row>>> e : rsActions.actions.entrySet()) {
    byte[] regionName=e.getKey();
    byte[] row=e.getValue().iterator().next().getAction().getRow();
    hConnection.updateCachedLocations(tableName,regionName,row,null,server);
    for (    Action<Row> action : e.getValue()) {
      if (manageError(action.getOriginalIndex(),action.getAction(),canRetry,t,server)) {
        toReplay.add(action);
      }
    }
  }
  logAndResubmit(server,toReplay,numAttempt,rsActions.size(),t);
}
