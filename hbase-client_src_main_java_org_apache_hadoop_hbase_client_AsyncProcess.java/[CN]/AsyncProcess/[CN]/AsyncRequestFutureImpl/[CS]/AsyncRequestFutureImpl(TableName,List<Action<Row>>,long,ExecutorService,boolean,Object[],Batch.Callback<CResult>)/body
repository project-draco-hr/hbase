{
  this.pool=pool;
  this.callback=callback;
  this.nonceGroup=nonceGroup;
  this.tableName=tableName;
  this.actionsInProgress.set(actions.size());
  if (results != null) {
    assert needResults;
    if (results.length != actions.size())     throw new AssertionError("results.length");
    this.results=results;
    for (int i=0; i != this.results.length; ++i) {
      results[i]=null;
    }
  }
 else {
    this.results=needResults ? new Object[actions.size()] : null;
  }
  this.errorsByServer=createServerErrorTracker();
  this.errors=(globalErrors != null) ? globalErrors : new BatchErrors();
}
