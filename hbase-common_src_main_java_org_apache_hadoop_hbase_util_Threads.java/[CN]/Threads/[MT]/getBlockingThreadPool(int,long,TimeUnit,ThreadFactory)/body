{
  ThreadPoolExecutor blockingThreadPool=new ThreadPoolExecutor(1,blockingLimit,timeout,TimeUnit.SECONDS,new SynchronousQueue<Runnable>(),threadFactory,new RejectedExecutionHandler(){
    @Override public void rejectedExecution(    Runnable r,    ThreadPoolExecutor executor){
      try {
        executor.getQueue().put(r);
      }
 catch (      InterruptedException e) {
        throw new RejectedExecutionException("Failed to requeue the rejected request because of ",e);
      }
    }
  }
);
  blockingThreadPool.allowCoreThreadTimeOut(true);
  return blockingThreadPool;
}
