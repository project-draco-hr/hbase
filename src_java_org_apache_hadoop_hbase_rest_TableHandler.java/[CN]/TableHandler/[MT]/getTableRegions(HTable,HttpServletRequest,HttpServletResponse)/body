{
  Text[] startKeys=table.getStartKeys();
switch (ContentType.getContentType(request.getHeader(ACCEPT))) {
case XML:
    setResponseHeader(response,startKeys.length > 0 ? 200 : 204,ContentType.XML.toString());
  XMLOutputter outputter=getXMLOutputter(response.getWriter());
outputter.startTag("regions");
for (int i=0; i < startKeys.length; i++) {
doElement(outputter,"region",startKeys[i].toString());
}
outputter.endTag();
outputter.endDocument();
outputter.getWriter().close();
break;
case PLAIN:
setResponseHeader(response,startKeys.length > 0 ? 200 : 204,ContentType.PLAIN.toString());
PrintWriter out=response.getWriter();
for (int i=0; i < startKeys.length; i++) {
out.print(startKeys[i].toString());
}
out.close();
break;
case MIME:
default :
doNotAcceptable(response,"Unsupported Accept Header Content: " + request.getHeader(CONTENT_TYPE));
}
}
