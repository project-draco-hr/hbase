{
  HConnection previousConnection=null;
  for (int i=0; i < 2; i++) {
    Configuration configuration=TEST_UTIL.getConfiguration();
    configuration.set("some_key",String.valueOf(_randy.nextInt()));
    LOG.info("The hash code of the current configuration is: " + configuration.hashCode());
    HConnection currentConnection=HConnectionManager.getConnection(configuration);
    if (previousConnection != null) {
      assertTrue("Did not get the same connection even though its key didn't change",previousConnection == currentConnection);
    }
    previousConnection=currentConnection;
    configuration.set("other_key",String.valueOf(_randy.nextInt()));
  }
}
