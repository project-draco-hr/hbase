{
  PrivilegedExceptionAction createTable=new PrivilegedExceptionAction(){
    public Object run() throws Exception {
      HTableDescriptor htd=new HTableDescriptor("testnewtable");
      htd.addFamily(new HColumnDescriptor(TEST_FAMILY));
      ACCESS_CONTROLLER.preCreateTable(ObserverContext.createAndPrepare(CP_ENV,null),htd,null);
      return null;
    }
  }
;
  verifyAllowed(SUPERUSER,createTable);
  verifyAllowed(USER_ADMIN,createTable);
  verifyDenied(USER_OWNER,createTable);
  verifyDenied(USER_RW,createTable);
  verifyDenied(USER_RO,createTable);
  verifyDenied(USER_NONE,createTable);
}
