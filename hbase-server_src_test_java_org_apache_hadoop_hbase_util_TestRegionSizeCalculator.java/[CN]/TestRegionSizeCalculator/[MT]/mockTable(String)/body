{
  HTable mockedTable=Mockito.mock(HTable.class);
  when(mockedTable.getConfiguration()).thenReturn(configuration);
  when(mockedTable.getTableName()).thenReturn("sizeTestTable".getBytes());
  NavigableMap<HRegionInfo,ServerName> regionLocations=new TreeMap<HRegionInfo,ServerName>();
  when(mockedTable.getRegionLocations()).thenReturn(regionLocations);
  for (  String regionName : regionNames) {
    HRegionInfo info=Mockito.mock(HRegionInfo.class);
    when(info.getRegionName()).thenReturn(regionName.getBytes());
    regionLocations.put(info,null);
  }
  return mockedTable;
}
