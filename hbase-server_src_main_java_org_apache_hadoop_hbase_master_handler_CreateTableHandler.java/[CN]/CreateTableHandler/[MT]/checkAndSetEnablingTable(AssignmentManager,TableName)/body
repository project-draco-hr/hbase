{
  try {
    if (!assignmentManager.getTableStateManager().setTableStateIfNotInStates(tableName,ZooKeeperProtos.Table.State.ENABLING,ZooKeeperProtos.Table.State.ENABLING,ZooKeeperProtos.Table.State.ENABLED)) {
      throw new TableExistsException(tableName);
    }
  }
 catch (  CoordinatedStateException e) {
    throw new IOException("Unable to ensure that the table will be" + " enabling because of a ZooKeeper issue",e);
  }
}
