{
  if (compression == null) {
    compression=HFile.DEFAULT_COMPRESSION_ALGORITHM;
  }
  HFileContext hFileContext=new HFileContextBuilder().withIncludesMvcc(includeMVCCReadpoint).withIncludesTags(includesTag).withCompression(compression).withCompressTags(family.shouldCompressTags()).withChecksumType(checksumType).withBytesPerCheckSum(bytesPerChecksum).withBlockSize(blocksize).withHBaseCheckSum(true).withDataBlockEncoding(family.getDataBlockEncoding()).build();
  return hFileContext;
}
