{
  if (this.bulkAssign)   return;
  boolean noRSAvailable=this.serverManager.createDestinationServersList().isEmpty();
synchronized (regionsInTransition) {
    long now=System.currentTimeMillis();
    for (    RegionState regionState : regionsInTransition.values()) {
      if (regionState.getStamp() + timeout <= now) {
        actOnTimeOut(regionState);
      }
 else       if (this.allRegionServersOffline && !noRSAvailable) {
        actOnTimeOut(regionState);
      }
    }
  }
  setAllRegionServersOffline(noRSAvailable);
}
