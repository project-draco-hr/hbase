{
  Lock lock=locker.acquireLock(encodedRegionName);
  try {
    Stat stat=new Stat();
    byte[] data=ZKAssign.getDataAndWatch(watcher,encodedRegionName,stat);
    if (data == null)     return false;
    RegionTransition rt;
    try {
      rt=RegionTransition.parseFrom(data);
    }
 catch (    DeserializationException e) {
      LOG.warn("Failed parse znode data",e);
      return false;
    }
    HRegionInfo hri=regionInfo;
    if (hri == null) {
      hri=regionStates.getRegionInfo(rt.getRegionName());
      if (hri == null)       return false;
    }
    processRegionsInTransition(rt,hri,deadServers,stat.getVersion());
    return true;
  }
  finally {
    lock.unlock();
  }
}
