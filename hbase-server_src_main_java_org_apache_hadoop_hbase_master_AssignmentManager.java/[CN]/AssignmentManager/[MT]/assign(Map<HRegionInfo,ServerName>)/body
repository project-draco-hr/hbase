{
  if (regions == null || regions.isEmpty()) {
    return;
  }
  List<ServerName> servers=serverManager.createDestinationServersList();
  if (servers == null || servers.isEmpty()) {
    throw new IOException("Found no destination server to assign region(s)");
  }
  Map<ServerName,List<HRegionInfo>> bulkPlan=balancer.retainAssignment(regions,servers);
  assign(regions.size(),servers.size(),"retainAssignment=true",bulkPlan);
}
