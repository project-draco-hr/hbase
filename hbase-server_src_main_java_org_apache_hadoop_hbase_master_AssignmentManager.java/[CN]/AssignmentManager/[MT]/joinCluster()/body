{
  long startTime=System.currentTimeMillis();
  Map<ServerName,List<HRegionInfo>> deadServers;
  deadServers=rebuildUserRegions();
  boolean failover=processDeadServersAndRegionsInTransition(deadServers);
  if (!useZKForAssignment) {
    ZKUtil.deleteNodeFailSilent(watcher,watcher.assignmentZNode);
  }
  recoverTableInDisablingState();
  recoverTableInEnablingState();
  LOG.info("Joined the cluster in " + (System.currentTimeMillis() - startTime) + "ms, failover="+ failover);
}
