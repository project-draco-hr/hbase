{
  long startTime=System.currentTimeMillis();
  long remaining=timeout;
synchronized (regionsInTransition) {
    while (regionsInTransition.size() > 0 && !this.master.isStopped() && remaining > 0) {
      regionsInTransition.wait(remaining);
      remaining=timeout - (System.currentTimeMillis() - startTime);
    }
  }
  return regionsInTransition.isEmpty();
}
