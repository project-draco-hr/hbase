{
  final long endTime=System.currentTimeMillis() + timeout;
  while (!this.master.isStopped() && regionStates.isRegionsInTransition() && endTime > System.currentTimeMillis()) {
    regionStates.waitForUpdate(100);
  }
  return !regionStates.isRegionsInTransition();
}
