{
  final long endTime=EnvironmentEdgeManager.currentTimeMillis() + timeout;
  while (!this.server.isStopped() && regionStates.isRegionsInTransition() && endTime > EnvironmentEdgeManager.currentTimeMillis()) {
    regionStates.waitForUpdate(100);
  }
  return !regionStates.isRegionsInTransition();
}
