{
synchronized (this.regionPlans) {
    for (Iterator<Map.Entry<String,RegionPlan>> i=this.regionPlans.entrySet().iterator(); i.hasNext(); ) {
      Map.Entry<String,RegionPlan> e=i.next();
      ServerName otherSn=e.getValue().getDestination();
      if (otherSn != null && otherSn.equals(sn)) {
        i.remove();
      }
    }
  }
  return regionStates.serverOffline(sn);
}
