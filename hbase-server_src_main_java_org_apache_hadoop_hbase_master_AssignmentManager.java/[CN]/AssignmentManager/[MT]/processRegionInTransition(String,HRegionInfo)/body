{
  Lock lock=locker.acquireLock(encodedRegionName);
  try {
    Stat stat=new Stat();
    byte[] data=ZKAssign.getDataAndWatch(watcher,encodedRegionName,stat);
    if (data == null)     return false;
    RegionTransition rt;
    try {
      rt=RegionTransition.parseFrom(data);
    }
 catch (    DeserializationException e) {
      LOG.warn("Failed parse znode data",e);
      return false;
    }
    HRegionInfo hri=regionInfo;
    if (hri == null) {
      hri=regionStates.getRegionInfo(rt.getRegionName());
      EventType et=rt.getEventType();
      if (hri == null && et != EventType.RS_ZK_REGION_MERGING && et != EventType.RS_ZK_REQUEST_REGION_MERGE) {
        LOG.warn("Couldn't find the region in recovering " + rt);
        return false;
      }
    }
    BaseCoordinatedStateManager cp=(BaseCoordinatedStateManager)this.server.getCoordinatedStateManager();
    OpenRegionCoordination openRegionCoordination=cp.getOpenRegionCoordination();
    ZkOpenRegionCoordination.ZkOpenRegionDetails zkOrd=new ZkOpenRegionCoordination.ZkOpenRegionDetails();
    zkOrd.setVersion(stat.getVersion());
    zkOrd.setServerName(cp.getServer().getServerName());
    return processRegionsInTransition(rt,hri,openRegionCoordination,zkOrd);
  }
  finally {
    lock.unlock();
  }
}
