{
  LOG.debug("ALREADY_OPENED region " + region.getRegionNameAsString() + " to "+ sn);
  String encodedRegionName=region.getEncodedName();
  try {
    ZKAssign.deleteOfflineNode(master.getZooKeeper(),encodedRegionName);
  }
 catch (  KeeperException.NoNodeException e) {
    if (LOG.isDebugEnabled()) {
      LOG.debug("The unassigned node " + encodedRegionName + " doesnot exist.");
    }
  }
catch (  KeeperException e) {
    master.abort("Error deleting OFFLINED node in ZK for transition ZK node (" + encodedRegionName + ")",e);
  }
  this.regionsInTransition.remove(region.getEncodedName());
synchronized (this.regions) {
    this.regions.put(region,sn);
    addToServers(sn,region);
  }
}
