{
  int regions=0;
  FileStatus[] tableDirs=master.fs.listStatus(master.rootdir,new TableDirFilter());
  FileStatus[] regionDirs;
  RegionDirFilter rdf=new RegionDirFilter();
  for (  FileStatus tabledir : tableDirs) {
    if (tabledir.isDir()) {
      regionDirs=master.fs.listStatus(tabledir.getPath(),rdf);
      regions+=regionDirs.length;
    }
  }
  return regions;
}
