{
  HServerLoad thisServersLoad=info.getLoad();
  Set<RegionState> regionsToAssign=regionsAwaitingAssignment();
  if (regionsToAssign.size() == 0) {
    if (!inSafeMode()) {
      loadBalancer.loadBalancing(info,mostLoadedRegions,returnMsgs);
    }
  }
 else {
    if (master.serverManager.numServers() == 1) {
      assignRegionsToOneServer(regionsToAssign,info,returnMsgs);
    }
 else {
      assignRegionsToMultipleServers(thisServersLoad,regionsToAssign,info,returnMsgs);
    }
  }
}
