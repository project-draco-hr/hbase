{
  AtomicUtils.updateMin(min,value);
  AtomicUtils.updateMax(max,value);
  if (value < this.binsMin) {
    this.counts.addAndGet(0,count);
  }
 else   if (value > this.bins10XMax) {
    this.counts.addAndGet(this.counts.length() - 1,count);
  }
 else   if (value >= this.binsMax) {
    this.counts.addAndGet(this.counts.length() - 2,count);
  }
 else {
    int pos=1 + (int)((value - this.binsMin) * (this.counts.length() - 3) / (this.binsMax - this.binsMin));
    this.counts.addAndGet(pos,count);
  }
  this.hasData.set(true);
}
