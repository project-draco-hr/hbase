{
  LOG.info("Starting testRowMutation");
  final byte[] TABLENAME=Bytes.toBytes("testRowMutation");
  HTable t=TEST_UTIL.createTable(TABLENAME,FAMILY);
  byte[][] QUALIFIERS=new byte[][]{Bytes.toBytes("a"),Bytes.toBytes("b")};
  RowMutation arm=new RowMutation(ROW);
  arm.add(new Delete(ROW));
  Put p=new Put(ROW);
  p.add(FAMILY,QUALIFIERS[0],VALUE);
  arm.add(p);
  t.mutateRow(arm);
  Get g=new Get(ROW);
  Result r=t.get(g);
  assertEquals(0,Bytes.compareTo(VALUE,r.getValue(FAMILY,QUALIFIERS[0])));
  arm=new RowMutation(ROW);
  arm.add(p);
  arm.add(new Delete(ROW));
  t.batch(Arrays.asList((Row)arm));
  r=t.get(g);
  assertTrue(r.isEmpty());
}
