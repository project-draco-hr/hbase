{
  final byte[] COLUMN_FAMILY=Bytes.toBytes("columnfam");
  final byte[] COLUMN=Bytes.toBytes("col");
  HTable table=TEST_UTIL.createTable(Bytes.toBytes("testConnectionRecover"),new byte[][]{COLUMN_FAMILY});
  Put put01=new Put(Bytes.toBytes("testrow1"));
  put01.add(COLUMN_FAMILY,COLUMN,Bytes.toBytes("testValue"));
  table.put(put01);
  HConnection conn=table.getConnection();
  conn.abort("Test Connection Abort",new KeeperException.ConnectionLossException());
  boolean putSuccess=true;
  try {
    Put put02=new Put(Bytes.toBytes("testrow1"));
    put02.add(COLUMN_FAMILY,COLUMN,Bytes.toBytes("testValue"));
    table.put(put02);
  }
 catch (  IOException ioe) {
    putSuccess=false;
  }
  assertTrue(putSuccess);
}
