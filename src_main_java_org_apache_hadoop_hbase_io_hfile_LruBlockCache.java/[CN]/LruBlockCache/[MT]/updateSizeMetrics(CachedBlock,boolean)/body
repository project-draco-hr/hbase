{
  long heapsize=cb.heapSize();
  if (evict) {
    heapsize*=-1;
  }
  if (cb.getBuffer() instanceof HFileBlockInfo) {
    HFileBlockInfo cb_hfbi=(HFileBlockInfo)cb.getBuffer();
    HRegion.incrNumericPersistentMetric(cb_hfbi.getColumnFamilyName() + ".blockCacheSize",heapsize);
    HRegion.incrNumericPersistentMetric("bt." + cb_hfbi.getBlockType().getMetricName() + ".blockCacheSize",heapsize);
  }
  return size.addAndGet(heapsize);
}
