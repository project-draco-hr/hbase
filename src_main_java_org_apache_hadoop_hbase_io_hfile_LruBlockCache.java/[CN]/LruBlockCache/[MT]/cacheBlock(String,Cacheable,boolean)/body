{
  CachedBlock cb=map.get(blockName);
  if (cb != null) {
    throw new RuntimeException("Cached an already cached block");
  }
  cb=new CachedBlock(blockName,buf,count.incrementAndGet(),inMemory);
  long newSize=updateSizeMetrics(cb,false);
  map.put(blockName,cb);
  elements.incrementAndGet();
  if (newSize > acceptableSize() && !evictionInProgress) {
    runEviction();
  }
}
