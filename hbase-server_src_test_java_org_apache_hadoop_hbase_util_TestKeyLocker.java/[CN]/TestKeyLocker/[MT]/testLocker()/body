{
  KeyLocker<String> locker=new KeyLocker();
  ReentrantLock lock1=locker.acquireLock("l1");
  Assert.assertTrue(lock1.isHeldByCurrentThread());
  ReentrantLock lock2=locker.acquireLock("l2");
  Assert.assertTrue(lock2.isHeldByCurrentThread());
  Assert.assertTrue(lock1 != lock2);
  ReentrantLock lock20=locker.acquireLock("l2");
  Assert.assertTrue(lock20 == lock2);
  Assert.assertTrue(lock2.isHeldByCurrentThread());
  Assert.assertTrue(lock20.isHeldByCurrentThread());
  lock20.unlock();
  Assert.assertTrue(lock20.isHeldByCurrentThread());
  lock2.unlock();
  Assert.assertFalse(lock20.isHeldByCurrentThread());
  ReentrantLock lock200=locker.acquireLock("l2");
  Assert.assertTrue(lock2 != lock200);
  lock200.unlock();
  Assert.assertFalse(lock200.isHeldByCurrentThread());
  Assert.assertTrue(lock1.isHeldByCurrentThread());
  lock1.unlock();
  Assert.assertFalse(lock1.isHeldByCurrentThread());
}
