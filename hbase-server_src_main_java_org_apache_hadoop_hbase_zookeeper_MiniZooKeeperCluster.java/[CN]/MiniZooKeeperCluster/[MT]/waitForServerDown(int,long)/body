{
  long start=EnvironmentEdgeManager.currentTimeMillis();
  while (true) {
    try {
      Socket sock=new Socket("localhost",port);
      try {
        OutputStream outstream=sock.getOutputStream();
        outstream.write("stat".getBytes());
        outstream.flush();
      }
  finally {
        sock.close();
      }
    }
 catch (    IOException e) {
      return true;
    }
    if (EnvironmentEdgeManager.currentTimeMillis() > start + timeout) {
      break;
    }
    try {
      Thread.sleep(250);
    }
 catch (    InterruptedException e) {
    }
  }
  return false;
}
