{
  LOG.info("No file system version found. Checking to see if file system " + "is at revision 0.1");
  checkNewRootRegionDirExists();
  checkForUnrecoveredLogFiles(rootFiles);
  extraFiles(rootFiles);
  if (!newRootRegion) {
    Path rootRegion=new Path(rootdir,OLD_PREFIX + HRegionInfo.rootRegionInfo.getEncodedName());
    if (!fs.exists(rootRegion)) {
      throw new IOException("Cannot find root region " + rootRegion.toString());
    }
 else     if (readOnly) {
      migrationNeeded=true;
    }
 else {
      migrateRegionDir(HConstants.ROOT_TABLE_NAME,rootRegion);
      scanRootRegion();
      extraRegions();
    }
  }
}
