{
  for (int i=0; i < stats.length; i++) {
    String name=stats[i].getPath().getName();
    boolean newRootRegion=checkNewRootRegionDirExists();
    if (name.startsWith(OLD_PREFIX)) {
      if (!newRootRegion) {
        migrationNeeded=true;
        String regionName=name.substring(OLD_PREFIX.length());
        try {
          Integer.parseInt(regionName);
        }
 catch (        NumberFormatException e) {
          extraFile(otherFiles,"Old region format can not be upgraded: " + name,stats[i].getPath());
        }
      }
 else {
        extraFile(otherFiles,"Old region directory found: " + name,stats[i].getPath());
      }
    }
 else {
      if (!newRootRegion) {
        String message="Unrecognized file " + name;
        extraFile(otherFiles,message,stats[i].getPath());
      }
    }
  }
}
