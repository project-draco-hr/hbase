{
  Configuration conf=HBaseConfiguration.create();
  StochasticLoadBalancer.CostFunction costFunction=new StochasticLoadBalancer.RegionCountSkewCostFunction(conf);
  for (  int[] mockCluster : clusterStateMocks) {
    double cost=costFunction.cost(mockCluster(mockCluster));
    assertTrue(cost >= 0);
    assertTrue(cost <= 1.01);
  }
  assertEquals(1,costFunction.cost(mockCluster(new int[]{0,0,0,0,1})),0.01);
  assertEquals(.75,costFunction.cost(mockCluster(new int[]{0,0,0,1,1})),0.01);
  assertEquals(.5,costFunction.cost(mockCluster(new int[]{0,0,1,1,1})),0.01);
  assertEquals(.25,costFunction.cost(mockCluster(new int[]{0,1,1,1,1})),0.01);
  assertEquals(0,costFunction.cost(mockCluster(new int[]{1,1,1,1,1})),0.01);
  assertEquals(0,costFunction.cost(mockCluster(new int[]{10,10,10,10,10})),0.01);
}
