{
  final byte[] tableName=Bytes.toBytes("testUnmanagedHConnection");
  TEST_UTIL.createTable(tableName,HConstants.CATALOG_FAMILY);
  HConnection conn=HConnectionManager.createConnection(TEST_UTIL.getConfiguration());
  ExecutorService pool=new ThreadPoolExecutor(1,Integer.MAX_VALUE,60,TimeUnit.SECONDS,new SynchronousQueue<Runnable>(),new DaemonThreadFactory("test-from-client-pool"));
  ((ThreadPoolExecutor)pool).allowCoreThreadTimeOut(true);
  HTable t=new HTable(tableName,conn,pool);
  HBaseAdmin ha=new HBaseAdmin(conn);
  assertTrue(ha.tableExists(tableName));
  assertTrue(t.get(new Get(ROW)).isEmpty());
}
