{
  LOG.debug(name.getNamePrefixForLog() + " Recieved error, notifying listeners...");
  List<Pair<ExceptionVisitor<?>,WeakReference<?>>> toRemove=new ArrayList<Pair<ExceptionVisitor<?>,WeakReference<?>>>();
  for (  Entry<ExceptionVisitor<?>,WeakReference<?>> entry : listeners.entries()) {
    Object o=entry.getValue().get();
    if (o == null) {
      toRemove.add(new Pair<ExceptionVisitor<?>,WeakReference<?>>(entry.getKey(),entry.getValue()));
      continue;
    }
    ((ExceptionVisitor)entry.getKey()).visit(o,message,e,info);
  }
  if (toRemove.size() > 0)   LOG.debug(name.getNamePrefixForLog() + " Cleaning up entries.");
  for (  Pair<ExceptionVisitor<?>,WeakReference<?>> entry : toRemove) {
    this.listeners.remove(entry.getFirst(),entry.getSecond());
  }
}
