{
  int dataLen=lenAsVal ? Bytes.SIZEOF_INT : 0;
  byte[] newBuffer=new byte[getKeyLength() + (2 * Bytes.SIZEOF_INT) + dataLen];
  System.arraycopy(this.bytes,this.offset,newBuffer,0,Math.min(newBuffer.length,this.length));
  Bytes.putInt(newBuffer,Bytes.SIZEOF_INT,dataLen);
  if (lenAsVal) {
    Bytes.putInt(newBuffer,newBuffer.length - dataLen,this.getValueLength());
  }
  this.bytes=newBuffer;
  this.offset=0;
  this.length=newBuffer.length;
}
