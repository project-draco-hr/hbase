{
  if (spaceLeft() != 0) {
    throw new IllegalStateException("Did not write as much data as expected.");
  }
}
