{
  TEST_UTIL=new HBaseTestingUtility();
  Configuration conf=TEST_UTIL.getConfiguration();
  SecureTestUtil.enableSecurity(conf);
  String baseuser=User.getCurrent().getShortName();
  conf.set("hbase.superuser",conf.get("hbase.superuser","") + String.format(",%s.hfs.0,%s.hfs.1,%s.hfs.2",baseuser,baseuser,baseuser));
  TEST_UTIL.startMiniCluster();
  TEST_UTIL.waitTableEnabled(AccessControlLists.ACL_TABLE_NAME);
  ADMIN=User.createUserForTesting(conf,"admin",new String[]{"supergroup"});
  READER=User.createUserForTesting(conf,"reader",new String[0]);
  LIMITED=User.createUserForTesting(conf,"limited",new String[0]);
  DENIED=User.createUserForTesting(conf,"denied",new String[0]);
}
