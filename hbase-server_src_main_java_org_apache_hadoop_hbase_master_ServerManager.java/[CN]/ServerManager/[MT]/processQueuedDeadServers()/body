{
  if (!services.isServerShutdownHandlerEnabled()) {
    LOG.info("Master hasn't enabled ServerShutdownHandler");
  }
  Iterator<ServerName> serverIterator=queuedDeadServers.iterator();
  while (serverIterator.hasNext()) {
    expireServer(serverIterator.next());
    serverIterator.remove();
  }
  if (!services.getAssignmentManager().isFailoverCleanupDone()) {
    LOG.info("AssignmentManager hasn't finished failover cleanup");
  }
  serverIterator=requeuedDeadServers.iterator();
  while (serverIterator.hasNext()) {
    processDeadServer(serverIterator.next());
    serverIterator.remove();
  }
}
