{
  if (!services.isServerShutdownHandlerEnabled()) {
    LOG.info("Master hasn't enabled ServerShutdownHandler");
  }
  Iterator<ServerName> serverIterator=queuedDeadServers.iterator();
  while (serverIterator.hasNext()) {
    ServerName tmpServerName=serverIterator.next();
    expireServer(tmpServerName);
    serverIterator.remove();
    requeuedDeadServers.remove(tmpServerName);
  }
  if (!services.getAssignmentManager().isFailoverCleanupDone()) {
    LOG.info("AssignmentManager hasn't finished failover cleanup");
  }
  for (  ServerName tmpServerName : requeuedDeadServers.keySet()) {
    processDeadServer(tmpServerName,requeuedDeadServers.get(tmpServerName));
  }
  requeuedDeadServers.clear();
}
