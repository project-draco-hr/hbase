{
  if (!services.isServerShutdownHandlerEnabled()) {
    throw new IOException("Master hasn't enabled ServerShutdownHandler ");
  }
  Iterator<ServerName> serverIterator=deadNotExpiredServers.iterator();
  while (serverIterator.hasNext()) {
    expireServer(serverIterator.next());
    serverIterator.remove();
  }
}
