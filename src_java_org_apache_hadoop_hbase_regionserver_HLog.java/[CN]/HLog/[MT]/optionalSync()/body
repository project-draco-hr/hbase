{
  if (!this.closed) {
    long now=System.currentTimeMillis();
synchronized (updateLock) {
      if (((now - this.optionalFlushInterval) > this.lastLogFlushTime) && this.unflushedEntries.get() > 0) {
        try {
          sync();
        }
 catch (        IOException e) {
          LOG.error("Error flushing HLog",e);
        }
      }
    }
  }
}
