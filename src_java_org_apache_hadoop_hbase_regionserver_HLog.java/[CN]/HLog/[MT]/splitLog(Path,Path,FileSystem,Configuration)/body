{
  if (!fs.exists(srcDir)) {
    return;
  }
  FileStatus[] logfiles=fs.listStatus(srcDir);
  if (logfiles == null || logfiles.length == 0) {
    return;
  }
  LOG.info("Splitting " + logfiles.length + " log(s) in "+ srcDir.toString());
  splitLog(rootDir,logfiles,fs,conf);
  try {
    fs.delete(srcDir,true);
  }
 catch (  IOException e) {
    e=RemoteExceptionHandler.checkIOException(e);
    IOException io=new IOException("Cannot delete: " + srcDir);
    io.initCause(e);
    throw io;
  }
  LOG.info("log file splitting completed for " + srcDir.toString());
}
