{
  List<StoreFile> storeFiles;
  List<KeyValueScanner> memStoreScanners;
  this.lock.readLock().lock();
  try {
    storeFiles=this.getStorefiles();
    memStoreScanners=this.memstore.getScanners();
  }
  finally {
    this.lock.readLock().unlock();
  }
  List<StoreFileScanner> sfScanners=StoreFileScanner.getScannersForStoreFiles(storeFiles,cacheBlocks,isGet,isCompaction,matcher);
  List<KeyValueScanner> scanners=new ArrayList<KeyValueScanner>(sfScanners.size() + 1);
  scanners.addAll(sfScanners);
  scanners.addAll(memStoreScanners);
  return scanners;
}
