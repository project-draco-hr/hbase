{
synchronized (regionsInQueue) {
    for (    HRegion region : regionsBySize.values()) {
      if (excludedRegionNames.contains(region.getRegionName())) {
        continue;
      }
      if (checkStoreFileCount && isTooManyStoreFiles(region)) {
        continue;
      }
      return region;
    }
  }
  return null;
}
