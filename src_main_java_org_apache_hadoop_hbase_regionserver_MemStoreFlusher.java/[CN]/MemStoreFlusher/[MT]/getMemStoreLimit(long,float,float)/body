{
  float effectiveLimit=limit;
  if (limit >= 0.9f || limit < 0.1f) {
    LOG.warn("Setting global memstore limit to default of " + defaultLimit + " because supplied value outside allowed range of 0.1 -> 0.9");
    effectiveLimit=defaultLimit;
  }
  return (long)(max * effectiveLimit);
}
