{
  byte[] tableName=Bytes.toBytes("testtable");
  byte[] fam=Bytes.toBytes("info");
  byte[][] families={fam};
  String method=this.getName();
  initHRegion(tableName,method,families);
  byte[] row=Bytes.toBytes("row1");
  byte[] qual=Bytes.toBytes("qual");
  Put put=new Put(row);
  put.add(fam,qual,HConstants.LATEST_TIMESTAMP,Bytes.toBytes("value"));
  region.put(put,false);
  Get get=new Get(row).addColumn(fam,qual);
  Result result=region.get(get,null);
  assertEquals(1,result.size());
  KeyValue kv=result.raw()[0];
  LOG.info("Got: " + kv);
  assertTrue("LATEST_TIMESTAMP was not replaced with real timestamp",kv.getTimestamp() != HConstants.LATEST_TIMESTAMP);
  row=Bytes.toBytes("row2");
  put=new Put(row);
  put.add(fam,qual,HConstants.LATEST_TIMESTAMP,Bytes.toBytes("value"));
  region.put(put,true);
  get=new Get(row).addColumn(fam,qual);
  result=region.get(get,null);
  assertEquals(1,result.size());
  kv=result.raw()[0];
  LOG.info("Got: " + kv);
  assertTrue("LATEST_TIMESTAMP was not replaced with real timestamp",kv.getTimestamp() != HConstants.LATEST_TIMESTAMP);
}
