{
  DeadServer ds=new DeadServer();
  final ServerName hostname123=new ServerName("127.0.0.1",123,3L);
  ds.add(hostname123);
  assertTrue(ds.areDeadServersInProgress());
  ds.finish(hostname123);
  assertFalse(ds.areDeadServersInProgress());
  final ServerName hostname1234=new ServerName("127.0.0.2",1234,4L);
  ds.add(hostname1234);
  assertTrue(ds.areDeadServersInProgress());
  ds.finish(hostname1234);
  assertFalse(ds.areDeadServersInProgress());
  final ServerName hostname12345=new ServerName("127.0.0.2",12345,4L);
  ds.add(hostname12345);
  assertTrue(ds.areDeadServersInProgress());
  ds.finish(hostname12345);
  assertFalse(ds.areDeadServersInProgress());
  final ServerName deadServer=new ServerName("127.0.0.1",9090,112321L);
  assertFalse(ds.cleanPreviousInstance(deadServer));
  ds.add(deadServer);
  assertTrue(ds.isDeadServer(deadServer));
  final ServerName deadServerHostComingAlive=new ServerName("127.0.0.1",9090,112321L);
  assertTrue(ds.cleanPreviousInstance(deadServerHostComingAlive));
  assertFalse(ds.isDeadServer(deadServer));
  assertFalse(ds.cleanPreviousInstance(deadServerHostComingAlive));
}
