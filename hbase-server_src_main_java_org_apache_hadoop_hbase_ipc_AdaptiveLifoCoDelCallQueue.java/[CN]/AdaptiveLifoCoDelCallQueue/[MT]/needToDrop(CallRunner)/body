{
  long now=System.currentTimeMillis();
  long callDelay=now - callRunner.getCall().timestamp;
  long localMinDelay=this.minDelay;
  if (now > intervalTime && !resetDelay.getAndSet(true)) {
    intervalTime=now + codelInterval;
    if (localMinDelay > codelTargetDelay) {
      isOverloaded=true;
    }
 else {
      isOverloaded=false;
    }
  }
  if (resetDelay.getAndSet(false)) {
    minDelay=callDelay;
    return false;
  }
 else   if (callDelay < localMinDelay) {
    minDelay=callDelay;
  }
  if (isOverloaded && callDelay > 2 * codelTargetDelay) {
    return true;
  }
 else {
    return false;
  }
}
