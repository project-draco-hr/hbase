{
  SnapshotDescription snapshot=SnapshotDescription.newBuilder().setName("snapshot").build();
  ExceptionListener snare=new SnapshotExceptionSnare(snapshot);
  snare.receiveError("Some message",new Exception());
  try {
    ((SnapshotExceptionSnare)snare).failOnError();
    fail("Snare didn't throw an exception");
  }
 catch (  HBaseSnapshotException e) {
    LOG.error("Correctly got a snapshot exception" + e);
  }
}
