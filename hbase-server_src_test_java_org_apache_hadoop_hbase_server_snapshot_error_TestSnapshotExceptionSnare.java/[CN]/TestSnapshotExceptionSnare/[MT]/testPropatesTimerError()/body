{
  SnapshotDescription snapshot=SnapshotDescription.newBuilder().setName("snapshot").build();
  SnapshotExceptionSnare snare=new SnapshotExceptionSnare(snapshot);
  Configuration conf=new Configuration();
  conf.setLong(SnapshotDescriptionUtils.MASTER_WAIT_TIME_DISABLED_SNAPSHOT,Long.MAX_VALUE);
  OperationAttemptTimer timer=TakeSnapshotUtils.getMasterTimerAndBindToMonitor(snapshot,conf,snare);
  timer.trigger();
  try {
    snare.failOnError();
  }
 catch (  HBaseSnapshotException e) {
    LOG.info("Correctly failed from timer:" + e.getMessage());
  }
}
