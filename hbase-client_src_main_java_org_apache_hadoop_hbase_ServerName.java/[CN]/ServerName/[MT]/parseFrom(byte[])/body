{
  if (data == null || data.length <= 0)   return null;
  if (ProtobufUtil.isPBMagicPrefix(data)) {
    int prefixLen=ProtobufUtil.lengthOfPBMagic();
    try {
      RootRegionServer rss=RootRegionServer.newBuilder().mergeFrom(data,prefixLen,data.length - prefixLen).build();
      org.apache.hadoop.hbase.protobuf.generated.HBaseProtos.ServerName sn=rss.getServer();
      return new ServerName(sn.getHostName(),sn.getPort(),sn.getStartCode());
    }
 catch (    InvalidProtocolBufferException e) {
      throw new DeserializationException(e);
    }
  }
  String str=Bytes.toString(data);
  int index=str.indexOf(ServerName.SERVERNAME_SEPARATOR);
  if (index != -1) {
    return ServerName.parseVersionedServerName(data);
  }
  String hostname=Addressing.parseHostname(str);
  int port=Addressing.parsePort(str);
  return new ServerName(hostname,port,-1L);
}
