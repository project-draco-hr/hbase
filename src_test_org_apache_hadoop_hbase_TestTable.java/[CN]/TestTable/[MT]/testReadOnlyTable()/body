{
  HBaseAdmin admin=new HBaseAdmin(conf);
  HTableDescriptor desc=new HTableDescriptor(getName());
  byte[] colName=Bytes.toBytes("test");
  desc.addFamily(new HColumnDescriptor(colName));
  desc.setReadOnly(true);
  admin.createTable(desc);
  HTable table=new HTable(conf,getName());
  try {
    byte[] value=Bytes.toBytes("somedata");
    Put put=new Put(value);
    byte[][] famAndQf=KeyValue.parseColumn(colName);
    put.add(famAndQf[0],famAndQf[1],value);
    table.put(put);
    fail("Put on read only table succeeded");
  }
 catch (  Exception e) {
  }
}
