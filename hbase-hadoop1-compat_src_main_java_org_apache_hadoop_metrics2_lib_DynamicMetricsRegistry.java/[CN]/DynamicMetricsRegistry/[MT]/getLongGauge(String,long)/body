{
  MetricMutable metric=metricsMap.get(gaugeName);
  if (metric == null) {
    MetricMutableGaugeLong newGauge=mf.newGauge(gaugeName,"",potentialStartingValue);
    metric=metricsMap.putIfAbsent(gaugeName,newGauge);
    if (metric == null) {
      return newGauge;
    }
  }
  if (!(metric instanceof MetricMutableGaugeLong)) {
    throw new MetricsException("Metric already exists in registry for metric name: " + name + " and not of type MetricMutableGaugeLong");
  }
  return (MetricMutableGaugeLong)metric;
}
