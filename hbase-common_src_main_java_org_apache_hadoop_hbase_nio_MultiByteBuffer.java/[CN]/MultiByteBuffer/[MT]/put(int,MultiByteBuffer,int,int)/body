{
  if (src.hasArray() && this.hasArray()) {
    System.arraycopy(src.array(),srcOffset + src.arrayOffset(),this.array(),this.arrayOffset() + offset,length);
  }
 else {
    int destItemIndex=getItemIndex(offset);
    int srcItemIndex=getItemIndex(srcOffset);
    ByteBuffer destItem=this.items[destItemIndex];
    offset=offset - this.itemBeginPos[destItemIndex];
    ByteBuffer srcItem=src.items[srcItemIndex];
    srcOffset=srcOffset - this.itemBeginPos[srcItemIndex];
    int toRead, toWrite, toMove;
    while (length > 0) {
      toWrite=destItem.limit() - offset;
      toRead=srcItem.limit() - srcOffset;
      toMove=Math.min(length,Math.min(toRead,toWrite));
      ByteBufferUtils.copyFromBufferToBuffer(destItem,srcItem,srcOffset,offset,toMove);
      length-=toMove;
      if (length == 0)       break;
      if (toRead < toWrite) {
        srcItem=src.items[++srcItemIndex];
        srcOffset=0;
        offset+=toMove;
      }
 else       if (toRead > toWrite) {
        destItem=this.items[++destItemIndex];
        offset=0;
        srcOffset+=toMove;
      }
 else {
        srcItem=src.items[++srcItemIndex];
        srcOffset=0;
        destItem=this.items[++destItemIndex];
        offset=0;
      }
    }
  }
}
