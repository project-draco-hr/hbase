{
  return table.coprocessorService(PingProtos.PingService.class,start,end,new Batch.Call<PingProtos.PingService,String>(){
    @Override public String call(    PingProtos.PingService instance) throws IOException {
      BlockingRpcCallback<PingProtos.HelloResponse> rpcCallback=new BlockingRpcCallback<PingProtos.HelloResponse>();
      PingProtos.HelloRequest.Builder builder=PingProtos.HelloRequest.newBuilder();
      builder.setName(doPing(instance));
      instance.hello(null,builder.build(),rpcCallback);
      PingProtos.HelloResponse r=rpcCallback.get();
      return r != null && r.hasResponse() ? r.getResponse() : null;
    }
  }
);
}
