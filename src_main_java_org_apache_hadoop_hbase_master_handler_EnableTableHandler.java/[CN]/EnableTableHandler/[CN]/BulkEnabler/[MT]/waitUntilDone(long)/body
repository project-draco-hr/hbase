{
  long startTime=System.currentTimeMillis();
  long remaining=timeout;
  List<HRegionInfo> regions=null;
  while (!server.isStopped() && remaining > 0) {
    Thread.sleep(waitingTimeForEvents);
    regions=assignmentManager.getRegionsOfTable(tableName);
    if (isDone(regions))     break;
    remaining=timeout - (System.currentTimeMillis() - startTime);
  }
  return isDone(regions);
}
