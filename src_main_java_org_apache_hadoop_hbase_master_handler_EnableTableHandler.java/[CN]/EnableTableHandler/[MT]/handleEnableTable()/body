{
  this.assignmentManager.getZKTable().setEnablingTable(this.tableNameStr);
  boolean done=false;
  List<HRegionInfo> regionsInMeta;
  regionsInMeta=MetaReader.getTableRegions(this.ct,tableName,true);
  int countOfRegionsInTable=regionsInMeta.size();
  List<HRegionInfo> regions=regionsToAssign(regionsInMeta);
  int regionsCount=regions.size();
  if (regionsCount == 0) {
    done=true;
  }
  LOG.info("Table has " + countOfRegionsInTable + " regions of which "+ regionsCount+ " are offline.");
  BulkEnabler bd=new BulkEnabler(this.server,regions,countOfRegionsInTable);
  try {
    if (bd.bulkAssign()) {
      done=true;
    }
  }
 catch (  InterruptedException e) {
    LOG.warn("Enable was interrupted");
    Thread.currentThread().interrupt();
  }
  if (done)   this.assignmentManager.getZKTable().setEnabledTable(this.tableNameStr);
  LOG.info("Enabled table is done=" + done);
}
