{
  HRegion region=null;
  HRegionIncommon region_incommon=null;
  try {
    HTableDescriptor htd=createTableDescriptor(getName());
    region=createNewHRegion(htd,null,null);
    region_incommon=new HRegionIncommon(region);
    Text row=new Text("some_row");
    BatchUpdate bu=new BatchUpdate(row);
    bu.put(COLUMNS[0],"column 0".getBytes());
    bu.put(COLUMNS[1],"column 1".getBytes());
    bu.put(COLUMNS[2],"column 2".getBytes());
    region.batchUpdate(bu);
    assertSpecifiedColumns(region,row);
    region_incommon.flushcache();
    assertSpecifiedColumns(region,row);
  }
  finally {
    if (region != null) {
      try {
        region.close();
      }
 catch (      Exception e) {
        e.printStackTrace();
      }
      region.getLog().closeAndDelete();
    }
  }
}
