{
  MetricsRecordBuilder mrb=metricsBuilder.addRecord(metricsName).setContext(metricsContext);
  if (wrapper != null) {
    mrb.addGauge(QUEUE_SIZE_NAME,QUEUE_SIZE_DESC,wrapper.getTotalQueueSize()).addGauge(GENERAL_QUEUE_NAME,GENERAL_QUEUE_DESC,wrapper.getGeneralQueueLength()).addGauge(REPLICATION_QUEUE_NAME,REPLICATION_QUEUE_DESC,wrapper.getReplicationQueueLength()).addGauge(PRIORITY_QUEUE_NAME,PRIORITY_QUEUE_DESC,wrapper.getPriorityQueueLength()).addGauge(NUM_OPEN_CONNECTIONS_NAME,NUM_OPEN_CONNECTIONS_DESC,wrapper.getNumOpenConnections());
  }
  metricsRegistry.snapshot(mrb,all);
}
