{
  RpcRequestBody rpcRequest;
  RpcRequestBody.Builder builder=RpcRequestBody.newBuilder();
  builder.setMethodName(method.getName());
  Message param;
  int length=params.length;
  if (length == 2) {
    param=(Message)params[1];
  }
 else   if (length == 1) {
    param=(Message)params[0];
  }
 else {
    throw new ServiceException("Too many parameters for request. Method: [" + method.getName() + "]"+ ", Expected: 2, Actual: "+ params.length);
  }
  builder.setRequest(param.toByteString());
  builder.setClientProtocolVersion(clientProtocolVersion);
  rpcRequest=builder.build();
  return rpcRequest;
}
