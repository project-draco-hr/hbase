{
  try {
    Class<?> c=Class.forName("org.apache.hadoop.hbase.security.token.TokenUtil");
    Methods.call(c,null,"obtainTokenForJob",new Class[]{Configuration.class,UserGroupInformation.class,Job.class},new Object[]{conf,ugi,job});
  }
 catch (  ClassNotFoundException cnfe) {
    throw new RuntimeException("Failure loading TokenUtil class, " + "is secure RPC available?",cnfe);
  }
catch (  IOException ioe) {
    throw ioe;
  }
catch (  InterruptedException ie) {
    throw ie;
  }
catch (  RuntimeException re) {
    throw re;
  }
catch (  Exception e) {
    throw new UndeclaredThrowableException(e,"Unexpected error calling TokenUtil.obtainAndCacheToken()");
  }
}
