{
  String cmd=null;
  String[] remainArgs=null;
  if (args == null || args.length == 0) {
    BackupCommands.createCommand(BackupRestoreConstants.BACKUP_COMMAND.HELP,null).execute();
  }
 else {
    cmd=args[0];
    remainArgs=new String[args.length - 1];
    if (args.length > 1) {
      System.arraycopy(args,1,remainArgs,0,args.length - 1);
    }
  }
  CommandLine cmdline=null;
  try {
    cmdline=new PosixParser().parse(opt,remainArgs);
  }
 catch (  ParseException e) {
    LOG.error("Could not parse command",e);
    System.exit(-1);
  }
  BACKUP_COMMAND type=BACKUP_COMMAND.HELP;
  if (BACKUP_COMMAND.CREATE.name().equalsIgnoreCase(cmd)) {
    type=BACKUP_COMMAND.CREATE;
  }
 else   if (BACKUP_COMMAND.HELP.name().equalsIgnoreCase(cmd)) {
    type=BACKUP_COMMAND.HELP;
  }
 else {
    System.out.println("Unsupported command for backup: " + cmd);
  }
  Logger backupClientLogger=Logger.getLogger("org.apache.hadoop.hbase.backup");
  if (cmdline.hasOption("debug")) {
    backupClientLogger.setLevel(Level.DEBUG);
  }
 else {
    backupClientLogger.setLevel(Level.INFO);
  }
  BackupCommands.createCommand(type,cmdline).execute();
}
