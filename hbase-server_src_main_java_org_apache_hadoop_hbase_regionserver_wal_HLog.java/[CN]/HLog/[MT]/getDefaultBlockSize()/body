{
  Method m=null;
  Class<? extends FileSystem> cls=this.fs.getClass();
  try {
    m=cls.getDeclaredMethod("getDefaultBlockSize",new Class<?>[]{Path.class});
    m.setAccessible(true);
  }
 catch (  NoSuchMethodException e) {
    LOG.info("FileSystem doesn't support getDefaultBlockSize");
  }
catch (  SecurityException e) {
    LOG.info("Doesn't have access to getDefaultBlockSize on " + "FileSystems",e);
    m=null;
  }
  if (null == m) {
    return this.fs.getDefaultBlockSize();
  }
 else {
    try {
      Object ret=m.invoke(this.fs,this.dir);
      return ((Long)ret).longValue();
    }
 catch (    Exception e) {
      throw new IOException(e);
    }
  }
}
