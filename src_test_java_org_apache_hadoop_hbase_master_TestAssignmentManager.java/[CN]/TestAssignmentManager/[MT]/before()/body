{
  this.server=Mockito.mock(Server.class);
  Mockito.when(server.getConfiguration()).thenReturn(HTU.getConfiguration());
  this.watcher=new ZooKeeperWatcher(HTU.getConfiguration(),"mocked server",this.server,true);
  Mockito.when(server.getZooKeeper()).thenReturn(this.watcher);
  Mockito.doThrow(new RuntimeException("Aborted")).when(server).abort(Mockito.anyString(),(Throwable)Mockito.anyObject());
  this.serverManager=Mockito.mock(ServerManager.class);
  Mockito.when(this.serverManager.isServerOnline(RANDOM_SERVERNAME)).thenReturn(true);
  this.ct=Mockito.mock(CatalogTracker.class);
  this.executor=Mockito.mock(ExecutorService.class);
}
