{
  if (tagsLength > tagsBuffer.length) {
    int newTagsBufferLength=Math.max(tagsBuffer.length,1) * 2;
    while (tagsLength > newTagsBufferLength) {
      newTagsBufferLength*=2;
    }
    byte[] newTagsBuffer=new byte[newTagsBufferLength];
    System.arraycopy(tagsBuffer,0,newTagsBuffer,0,tagsBuffer.length);
    tagsBuffer=newTagsBuffer;
  }
}
