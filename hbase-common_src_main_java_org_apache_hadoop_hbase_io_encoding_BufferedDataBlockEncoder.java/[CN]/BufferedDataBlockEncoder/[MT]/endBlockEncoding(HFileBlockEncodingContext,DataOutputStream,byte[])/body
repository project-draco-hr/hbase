{
  BufferedDataBlockEncodingState state=(BufferedDataBlockEncodingState)encodingCtx.getEncodingState();
  Bytes.putInt(uncompressedBytesWithHeader,HConstants.HFILEBLOCK_HEADER_SIZE + DataBlockEncoding.ID_SIZE,state.unencodedDataSizeWritten);
  if (encodingCtx.getDataBlockEncoding() != DataBlockEncoding.NONE) {
    encodingCtx.postEncoding(BlockType.ENCODED_DATA);
  }
 else {
    encodingCtx.postEncoding(BlockType.DATA);
  }
}
