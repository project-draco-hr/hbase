{
  Server server=new MockServer(HTU);
  RegionServerServices rsServices=new MockRegionServerServices();
  ZKAssign.createNodeOffline(server.getZooKeeper(),TEST_HRI,server.getServerName());
  OpenRegionHandler handler=new OpenRegionHandler(server,rsServices,TEST_HRI,TEST_HTD){
    @Override HRegion openRegion(){
      return null;
    }
  }
;
  handler.process();
  RegionTransitionData data=ZKAssign.getData(server.getZooKeeper(),TEST_HRI.getEncodedName());
  assertEquals(EventType.RS_ZK_REGION_FAILED_OPEN,data.getEventType());
}
