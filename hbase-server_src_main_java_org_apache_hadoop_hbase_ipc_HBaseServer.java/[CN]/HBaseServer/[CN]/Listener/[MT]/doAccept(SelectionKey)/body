{
  Connection c;
  ServerSocketChannel server=(ServerSocketChannel)key.channel();
  SocketChannel channel;
  while ((channel=server.accept()) != null) {
    channel.configureBlocking(false);
    channel.socket().setTcpNoDelay(tcpNoDelay);
    channel.socket().setKeepAlive(tcpKeepAlive);
    Reader reader=getReader();
    try {
      reader.startAdd();
      SelectionKey readKey=reader.registerChannel(channel);
      c=getConnection(channel,EnvironmentEdgeManager.currentTimeMillis());
      readKey.attach(c);
synchronized (connectionList) {
        connectionList.add(numConnections,c);
        numConnections++;
      }
      if (LOG.isDebugEnabled())       LOG.debug("Server connection from " + c.toString() + "; # active connections: "+ numConnections+ "; # queued calls: "+ callQueue.size());
    }
  finally {
      reader.finishAdd();
    }
  }
  rpcMetrics.numOpenConnections.set(numConnections);
}
