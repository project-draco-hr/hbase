{
  if (key != null) {
    Connection c=(Connection)key.attachment();
    if (c != null) {
      if (LOG.isDebugEnabled()) {
        LOG.debug(getName() + ": disconnecting client " + c.getHostAddress()+ (e != null ? " on error " + e.getMessage() : ""));
      }
      closeConnection(c);
      key.attach(null);
    }
  }
}
