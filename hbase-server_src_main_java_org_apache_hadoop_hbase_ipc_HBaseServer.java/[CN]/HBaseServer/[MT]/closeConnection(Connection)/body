{
synchronized (connectionList) {
    if (connectionList.remove(connection)) {
      numConnections--;
    }
  }
  connection.close();
  long bytes=0;
synchronized (connection.responseQueue) {
    for (    Call c : connection.responseQueue) {
      bytes+=c.response.limit();
    }
    connection.responseQueue.clear();
  }
  responseQueuesSizeThrottler.decrease(bytes);
  rpcMetrics.numOpenConnections.set(numConnections);
}
