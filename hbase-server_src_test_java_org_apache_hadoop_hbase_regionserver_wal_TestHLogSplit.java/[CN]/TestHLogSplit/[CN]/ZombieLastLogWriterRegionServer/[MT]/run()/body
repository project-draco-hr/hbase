{
  if (stop.get()) {
    return;
  }
  flushToConsole("starting");
  while (true) {
    try {
      String region="juliet";
      fs.mkdirs(new Path(new Path(hbaseDir,region),region));
      appendEntry(lastLogWriter,TABLE_NAME,region.getBytes(),("r" + editsCount).getBytes(),FAMILY,QUALIFIER,VALUE,0);
      lastLogWriter.sync();
      editsCount.incrementAndGet();
      try {
        Thread.sleep(1);
      }
 catch (      InterruptedException e) {
      }
    }
 catch (    IOException ex) {
      if (ex instanceof RemoteException) {
        flushToConsole("Juliet: got RemoteException " + ex.getMessage() + " while writing "+ (editsCount.get() + 1));
        break;
      }
 else {
        assertTrue("Failed to write " + editsCount.get(),false);
      }
    }
  }
}
