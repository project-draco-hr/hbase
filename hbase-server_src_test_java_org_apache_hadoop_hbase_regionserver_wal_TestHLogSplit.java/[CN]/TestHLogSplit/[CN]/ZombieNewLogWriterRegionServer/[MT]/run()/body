{
  if (stop.get()) {
    return;
  }
  Path tableDir=new Path(HBASEDIR,new String(TABLE_NAME));
  Path regionDir=new Path(tableDir,REGIONS.get(0));
  Path recoveredEdits=new Path(regionDir,HConstants.RECOVERED_EDITS_DIR);
  String region="juliet";
  Path julietLog=new Path(HLOGDIR,HLOG_FILE_PREFIX + ".juliet");
  try {
    while (!fs.exists(recoveredEdits) && !stop.get()) {
      LOG.info("Juliet: split not started, sleeping a bit...");
      Threads.sleep(10);
    }
    fs.mkdirs(new Path(tableDir,region));
    HLog.Writer writer=HLogFactory.createWriter(fs,julietLog,conf);
    appendEntry(writer,"juliet".getBytes(),("juliet").getBytes(),("r").getBytes(),FAMILY,QUALIFIER,VALUE,0);
    writer.close();
    LOG.info("Juliet file creator: created file " + julietLog);
    latch.countDown();
  }
 catch (  IOException e1) {
    LOG.error("Failed to create file " + julietLog,e1);
    assertTrue("Failed to create file " + julietLog,false);
  }
}
