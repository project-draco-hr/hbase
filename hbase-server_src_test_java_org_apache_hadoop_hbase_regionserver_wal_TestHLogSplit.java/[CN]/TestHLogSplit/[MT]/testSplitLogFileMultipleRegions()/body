{
  LOG.info("testSplitLogFileMultipleRegions");
  generateHLogs(1,10,-1);
  FileStatus logfile=fs.listStatus(HLOGDIR)[0];
  fs.initialize(fs.getUri(),conf);
  HLogSplitter.splitLogFile(HBASEDIR,logfile,fs,conf,reporter);
  HLogSplitter.finishSplitLogFile(HBASEDIR,OLDLOGDIR,logfile.getPath().toString(),conf);
  for (  String region : REGIONS) {
    Path recovered=getLogForRegion(HBASEDIR,TABLE_NAME,region);
    assertEquals(10,countHLog(recovered,fs,conf));
  }
}
