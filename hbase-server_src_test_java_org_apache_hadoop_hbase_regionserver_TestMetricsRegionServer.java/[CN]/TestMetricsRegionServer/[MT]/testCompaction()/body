{
  rsm.updateCompaction(false,1,2,3,4,5);
  HELPER.assertCounter("compactionTime_num_ops",1,serverSource);
  HELPER.assertCounter("compactionInputFileCount_num_ops",1,serverSource);
  HELPER.assertCounter("compactionInputSize_num_ops",1,serverSource);
  HELPER.assertCounter("compactionOutputFileCount_num_ops",1,serverSource);
  HELPER.assertCounter("compactedInputBytes",4,serverSource);
  HELPER.assertCounter("compactedoutputBytes",5,serverSource);
  rsm.updateCompaction(false,10,20,30,40,50);
  HELPER.assertCounter("compactionTime_num_ops",2,serverSource);
  HELPER.assertCounter("compactionInputFileCount_num_ops",2,serverSource);
  HELPER.assertCounter("compactionInputSize_num_ops",2,serverSource);
  HELPER.assertCounter("compactionOutputFileCount_num_ops",2,serverSource);
  HELPER.assertCounter("compactedInputBytes",44,serverSource);
  HELPER.assertCounter("compactedoutputBytes",55,serverSource);
  rsm.updateCompaction(true,100,200,300,400,500);
  HELPER.assertCounter("compactionTime_num_ops",3,serverSource);
  HELPER.assertCounter("compactionInputFileCount_num_ops",3,serverSource);
  HELPER.assertCounter("compactionInputSize_num_ops",3,serverSource);
  HELPER.assertCounter("compactionOutputFileCount_num_ops",3,serverSource);
  HELPER.assertCounter("compactedInputBytes",444,serverSource);
  HELPER.assertCounter("compactedoutputBytes",555,serverSource);
  HELPER.assertCounter("majorCompactionTime_num_ops",1,serverSource);
  HELPER.assertCounter("majorCompactionInputFileCount_num_ops",1,serverSource);
  HELPER.assertCounter("majorCompactionInputSize_num_ops",1,serverSource);
  HELPER.assertCounter("majorCompactionOutputFileCount_num_ops",1,serverSource);
  HELPER.assertCounter("majorCompactedInputBytes",400,serverSource);
  HELPER.assertCounter("majorCompactedoutputBytes",500,serverSource);
}
