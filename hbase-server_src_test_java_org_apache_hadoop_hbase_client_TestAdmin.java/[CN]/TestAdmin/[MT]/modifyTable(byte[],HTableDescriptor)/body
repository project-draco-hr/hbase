{
  MasterServices services=TEST_UTIL.getMiniHBaseCluster().getMaster();
  ExecutorService executor=services.getExecutorService();
  AtomicBoolean done=new AtomicBoolean(false);
  executor.registerListener(EventType.C_M_MODIFY_TABLE,new DoneListener(done));
  this.admin.modifyTable(tableName,htd);
  while (!done.get()) {
synchronized (done) {
      try {
        done.wait(100);
      }
 catch (      InterruptedException e) {
        e.printStackTrace();
      }
    }
  }
  executor.unregisterListener(EventType.C_M_MODIFY_TABLE);
}
