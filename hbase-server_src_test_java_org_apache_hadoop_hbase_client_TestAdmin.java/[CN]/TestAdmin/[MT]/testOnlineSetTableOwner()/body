{
  final TableName tableName=TableName.valueOf("changeTableOwnerTable");
  TEST_UTIL.getMiniHBaseCluster().getMaster().getConfiguration().setBoolean("hbase.online.schema.update.enable",true);
  HTableDescriptor[] tables=admin.listTables();
  int numTables=tables.length;
  TEST_UTIL.createTable(tableName,HConstants.CATALOG_FAMILY).close();
  tables=this.admin.listTables();
  assertEquals(numTables + 1,tables.length);
  HTableDescriptor htd=this.admin.getTableDescriptor(tableName);
  assertEquals("There is an owner by default, which should not be the case",null,htd.getOwnerString());
  htd.setOwnerString("someUser");
  admin.modifyTable(tableName,htd);
  HTableDescriptor modifiedHtd=this.admin.getTableDescriptor(tableName);
  assertEquals("Owner was not set",modifiedHtd.getOwnerString(),"someUser");
}
