{
  byte[] tableName=Bytes.toBytes("testPutsWithoutWal");
  byte[] cf=Bytes.toBytes("d");
  byte[] row=Bytes.toBytes("rk");
  byte[] qualifier=Bytes.toBytes("qual");
  byte[] val=Bytes.toBytes("Value");
  metricsRegionServer.getRegionServerWrapper().forceRecompute();
  TEST_UTIL.createTable(tableName,cf);
  HTable t=new HTable(conf,tableName);
  Put p=new Put(row);
  p.add(cf,qualifier,val);
  p.setWriteToWAL(false);
  t.put(p);
  t.flushCommits();
  metricsRegionServer.getRegionServerWrapper().forceRecompute();
  metricsHelper.assertGauge("putsWithoutWALCount",1,serverSource);
  long minLength=row.length + cf.length + qualifier.length+ val.length;
  metricsHelper.assertGaugeGt("putsWithoutWALSize",minLength,serverSource);
}
