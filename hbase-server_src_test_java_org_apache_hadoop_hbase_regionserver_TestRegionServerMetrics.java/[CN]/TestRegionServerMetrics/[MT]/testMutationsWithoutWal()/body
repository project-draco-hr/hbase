{
  byte[] tableName=Bytes.toBytes("testMutationsWithoutWal");
  byte[] cf=Bytes.toBytes("d");
  byte[] row=Bytes.toBytes("rk");
  byte[] qualifier=Bytes.toBytes("qual");
  byte[] val=Bytes.toBytes("Value");
  metricsRegionServer.getRegionServerWrapper().forceRecompute();
  TEST_UTIL.createTable(tableName,cf);
  Table t=new HTable(conf,tableName);
  Put p=new Put(row);
  p.add(cf,qualifier,val);
  p.setDurability(Durability.SKIP_WAL);
  t.put(p);
  t.flushCommits();
  metricsRegionServer.getRegionServerWrapper().forceRecompute();
  metricsHelper.assertGauge("mutationsWithoutWALCount",1,serverSource);
  long minLength=row.length + cf.length + qualifier.length+ val.length;
  metricsHelper.assertGaugeGt("mutationsWithoutWALSize",minLength,serverSource);
  t.close();
}
