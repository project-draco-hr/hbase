{
  String tableNameString="testAppend";
  TableName tableName=TableName.valueOf(tableNameString);
  byte[] cf=Bytes.toBytes("d");
  byte[] row=Bytes.toBytes("rk");
  byte[] qualifier=Bytes.toBytes("qual");
  byte[] val=Bytes.toBytes("One");
  TEST_UTIL.createTable(tableName,cf);
  Table t=new HTable(conf,tableName);
  Put p=new Put(row);
  p.add(cf,qualifier,val);
  t.put(p);
  t.flushCommits();
  for (int count=0; count < 73; count++) {
    Append append=new Append(row);
    append.add(cf,qualifier,Bytes.toBytes(",Test"));
    t.append(append);
  }
  t.flushCommits();
  metricsRegionServer.getRegionServerWrapper().forceRecompute();
  metricsHelper.assertCounter("appendNumOps",73,serverSource);
  t.close();
}
