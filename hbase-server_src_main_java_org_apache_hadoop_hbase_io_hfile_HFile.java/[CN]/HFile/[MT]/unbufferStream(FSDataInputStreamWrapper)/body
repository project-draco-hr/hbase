{
  boolean useHBaseChecksum=fsdis.shouldUseHBaseChecksum();
  final FSDataInputStream stream=fsdis.getStream(useHBaseChecksum);
  if (stream != null && stream.getWrappedStream() instanceof CanUnbuffer) {
    try {
      stream.unbuffer();
    }
 catch (    Throwable e) {
      LOG.error("Failed to unbuffer the stream so possibly there may be a TCP socket connection " + "left open in CLOSE_WAIT state.",e);
    }
  }
}
