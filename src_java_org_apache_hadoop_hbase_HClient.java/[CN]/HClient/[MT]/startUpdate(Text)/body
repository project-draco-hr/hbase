{
  TableInfo info=getTableInfo(row);
  long lockid;
  try {
    currentServer=getHRegionConnection(info.serverAddress);
    currentRegion=info.regionInfo.regionName;
    clientid=rand.nextLong();
    lockid=currentServer.startUpdate(currentRegion,clientid,row);
  }
 catch (  IOException e) {
    currentServer=null;
    currentRegion=null;
    throw e;
  }
  return lockid;
}
