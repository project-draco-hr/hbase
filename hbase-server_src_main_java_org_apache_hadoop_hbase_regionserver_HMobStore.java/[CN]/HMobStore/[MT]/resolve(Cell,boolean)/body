{
  Cell result=null;
  if (MobUtils.hasValidMobRefCellValue(reference)) {
    String fileName=MobUtils.getMobFileName(reference);
    result=readCell(mobDirLocations,fileName,reference,cacheBlocks);
    if (result == null) {
      result=readClonedCell(fileName,reference,cacheBlocks);
    }
  }
  if (result == null) {
    LOG.warn("The KeyValue result is null, assemble a new KeyValue with the same row,family," + "qualifier,timestamp,type and tags but with an empty value to return.");
    result=new KeyValue(reference.getRowArray(),reference.getRowOffset(),reference.getRowLength(),reference.getFamilyArray(),reference.getFamilyOffset(),reference.getFamilyLength(),reference.getQualifierArray(),reference.getQualifierOffset(),reference.getQualifierLength(),reference.getTimestamp(),Type.codeToType(reference.getTypeByte()),HConstants.EMPTY_BYTE_ARRAY,0,0,reference.getTagsArray(),reference.getTagsOffset(),reference.getTagsLength());
  }
  return result;
}
