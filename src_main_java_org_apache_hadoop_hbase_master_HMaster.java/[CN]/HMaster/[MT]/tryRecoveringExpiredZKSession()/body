{
  this.zooKeeper=new ZooKeeperWatcher(conf,MASTER + ":" + this.serverName.getPort(),this,true);
  MonitoredTask status=TaskMonitor.get().createStatus("Recovering expired ZK session");
  try {
    if (!becomeActiveMaster(status)) {
      return false;
    }
    initializeZKBasedSystemTrackers();
    assignRootAndMeta(status);
    this.assignmentManager.processDeadServersAndRegionsInTransition();
    return true;
  }
  finally {
    status.cleanup();
  }
}
